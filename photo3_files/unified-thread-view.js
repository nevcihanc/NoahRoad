(window.webpackJsonp=window.webpackJsonp||[]).push([["unified-thread-view"],{1270:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.iconFontsLoaded=t.iconFontsLoadedPromise=t.fontsLoaded=t.fontsLoadedPromise=t.createMeasureEl=t.forceSkipFontMeasurement=void 0;var n=r(1037),o=r(998),a=!1,i=!1,s=!1,u=(t.forceSkipFontMeasurement=function(){a=!0},t.createMeasureEl=function(e,t,r){var n=document.createElement("div");n.setAttribute("aria-hidden","true");n.textContent=e;n.style.position="absolute";n.style.top="-999px";n.style.fontFamily=t;n.style.fontWeight=r;document.body.appendChild(n);return n}),l=function(e,t){for(var r=0;r<e.length;r++){if(e[r].offsetWidth!==t[r].offsetWidth){document.body.removeChild(e[r]);document.body.removeChild(t[r]);e.splice(r,1);t.splice(r,1)}}};t.fontsLoadedPromise=new Promise(function(e){(0,o.domReady)(function(){if(a)e();else{var t="BESbswy",r='"'+n.WEB_FONT_REGULAR+'", '+n.FALLBACK_FONT_STACK,o=[],s=[];[n.WEB_FONT_REGULAR_WEIGHT,n.WEB_FONT_MEDIUM_WEIGHT,n.WEB_FONT_DEMI_BOLD_WEIGHT,n.WEB_FONT_BOLD_WEIGHT].forEach(function(e){o.push(u(t,r,e));s.push(u(t,n.FALLBACK_FONT_STACK,e))});(function t(){l(o,s);if(0===o.length){i=!0;e()}else setTimeout(t,50)})()}})}),t.fontsLoaded=function(){return i},t.iconFontsLoadedPromise=new Promise(function(e){(0,o.domReady)(function(){if(a)e();else{var t="add",r='"'+n.ICON_FONT_FAMILY+'", '+n.FALLBACK_FONT_STACK,o=[],i=[];["normal","bold"].forEach(function(e){o.push(u(t,r,e));i.push(u(t,n.FALLBACK_FONT_STACK,e))});(function t(){l(o,i);if(0===o.length){s=!0;e()}else setTimeout(t,50)})()}})}),t.iconFontsLoaded=function(){return s}},1287:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.consentToProcessFailed=t.consentToProcessSucceeded=t.clickedConsentToProcess=void 0;t.consentToProcess=g;var n=r(237),o=r(812),a=r(782),i=r(482),s=r(1288),u=r(1289),l=r(689),c=r(1290),d=r(1291),f=r(251),p=t.clickedConsentToProcess=(0,n.createAction)(a.CONSENT_TO_PROCESS),h=t.consentToProcessSucceeded=(0,n.createAction)(a.CONSENT_TO_PROCESS_SUCCEEDED),m=t.consentToProcessFailed=(0,n.createAction)(a.CONSENT_TO_PROCESS_FAILED);function g(){return function(e,t){var r=(0,i.getSessionId)(t()),n=(0,s.getMessageId)(t()),a=(0,d.getHubspotUtk)(t());e(p());(0,u.sendConsentToProcess)({sessionId:r,hubspotUtk:a,welcomeMessageId:n}).then(function(r){var n=r.sessionId;e((0,l.handleStoreMessagesCookie)((0,o.getMessagesUtk)(t())));e((0,c.updateSessionId)(n));e(h());e((0,f.trackInteraction)("widget-interaction",{action:"clicked consent to process button"}))},function(t){return e(m({error:t}))}).done()}}},1288:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var n=r(168),o=i(r(116)),a=r(169);function i(e){return e&&e.__esModule?e:{default:e}}t.getMessageId=(0,n.createSelector)(a.getWelcomeMessage,(0,o.default)("id"))},1289:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.sendConsentToProcess=s;var n=a(r(34)),o=a(r(497));function a(e){return e&&e.__esModule?e:{default:e}}var i="livechat-public/v1/privacy/consentToProcess";function s(e){var t=e.sessionId,r=e.hubspotUtk,a=e.welcomeMessageId;return o.default.put(i,{query:{sessionId:t,hubspotUtk:r,welcomeMessageId:a,portalId:n.default.get()}})}},1290:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.updateSessionId=void 0;var n=r(237),o=r(721);t.updateSessionId=(0,n.createAction)(o.UPDATE_SESSION_ID,function(e){return{sessionId:e}})},1291:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHubspotUtk=void 0;var n=r(168),o=r(1292),a=r(814);t.getHubspotUtk=(0,n.createSelector)(a.getVisitorIdentity,function(e){return(0,o.getHubspotUtk)(e)})},1292:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHubspotUtk=void 0;var n=o(r(116));function o(e){return e&&e.__esModule?e:{default:e}}t.getHubspotUtk=(0,n.default)("hubspotUtk")},1293:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var n=r(168),o=r(170);t.getMessageId=(0,n.createSelector)([o.getLatestWidgetData],function(e){return e.message.id})},1301:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(38));function o(e){return e&&e.__esModule?e:{default:e}}function a(){var e=void 0,t=void 0;return{promise:new n.default.Promise(function(r,n){t=r;e=n}),reject:e,resolve:t}}t.default=a;e.exports=t.default},1332:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.sendVisitorEmailAddress=a;var n=o(r(497));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.threadId,r=e.email,o=e.sessionId,a=e.hubspotUtk;return n.default.post("livechat-public/v1/visitor/public",{query:{threadId:t,email:r,sessionId:o,hubspotUtk:a}})}},1334:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.sendVisitorEmailAddressSucceeded=t.sendVisitorEmailAddressFailed=t.sendVisitorEmailAddressRequested=void 0;t.sendVisitorEmailAddress=v;var n=r(237),o=r(243),a=r(482),i=h(r(112)),s=p(r(1335)),u=h(r(1332)),l=r(1336),c=r(251),d=r(276),f=r(1291);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}var m=t.sendVisitorEmailAddressRequested=(0,n.createAction)(i.SEND_VISITOR_EMAIL_ADDRESS,function(e){return{email:e}}),g=t.sendVisitorEmailAddressFailed=(0,n.createAction)(i.SEND_VISITOR_EMAIL_ADDRESS_FAILED,function(e){return{error:e}}),y=t.sendVisitorEmailAddressSucceeded=(0,n.createAction)(i.SEND_VISITOR_EMAIL_ADDRESS_SUCCEEDED,function(e){return{email:e}});function v(e){var t=e.consentToCommunicate,r=void 0!==t&&t,n=e.email,i=e.threadId;return function(e,t){e(m(n));var p=(0,d.getThreadByThreadId)(t(),{threadId:i}),h=(0,o.getChannel)(p),v=(0,a.getSessionId)(t()),b=(0,f.getHubspotUtk)(t()),_=function(){e(y(n));e((0,s.default)({channel:h,email:n,threadId:i}));r&&e((0,l.visitorConsentsToCommunicate)(r));e((0,c.trackInteraction)("widget-interaction",{action:"submit email"}));return{error:null}},T=function(t){e(g(t));return{error:t}};return u.sendVisitorEmailAddress({threadId:i,email:n,sessionId:v,hubspotUtk:b}).then(_,T)}}},1335:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.publishEmailCaptureResponseMessage=t.default=void 0;var n=r(166),o=r(184),a=u(r(209)),i=r(232),s=r(233);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.channel,r=e.email,u=e.threadId;return function(e){var l=(0,o.buildUnpublishedMessage)({descriptor:{},metadata:new a.default({email:r}),senderId:i.SYSTEM_ID,senderType:n.SYSTEM,threadId:u});e((0,s.publishMessageToConversation)({channel:t,message:l,threadId:u}))}};t.default=l;t.publishEmailCaptureResponseMessage=l},1336:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.consentToCommunicateFailed=t.consentToCommunicateSucceeded=t.clickedConsentToCommunicate=void 0;t.visitorConsentsToCommunicate=p;var n=r(237),o=r(782),a=r(1337),i=r(1290),s=r(482),u=r(536),l=r(1291),c=t.clickedConsentToCommunicate=(0,n.createAction)(o.CONSENT_TO_COMMUNICATE),d=t.consentToCommunicateSucceeded=(0,n.createAction)(o.CONSENT_TO_COMMUNICATE_SUCCEEDED),f=t.consentToCommunicateFailed=(0,n.createAction)(o.CONSENT_TO_COMMUNICATE_FAILED,function(e){return{error:e}});function p(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?function(e,t){var r=(0,s.getSessionId)(t()),n=(0,u.getSelectedThreadId)(t()),o=(0,l.getHubspotUtk)(t());e(c());var p=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sessionId;e((0,i.updateSessionId)(t));e(d())},h=function(t){e(f(t))};(0,a.sendConsentToCommunicate)({sessionId:r,hubspotUtk:o,threadId:n}).then(p,h).done()}:null}},1337:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.sendConsentToCommunicate=s;var n=a(r(34)),o=a(r(497));function a(e){return e&&e.__esModule?e:{default:e}}var i="livechat-public/v1/privacy/consentToCommunicate";function s(e){var t=e.sessionId,r=e.hubspotUtk,a=e.threadId;return o.default.put(i,{query:{sessionId:t,hubspotUtk:r,threadId:a,portalId:n.default.get()}})}},1351:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentError=void 0;var n=r(237),o=r(510);t.attachmentError=(0,n.createAction)(o.ATTACHMENT_ERROR,function(e,t){return{error:e,threadId:t}})},1353:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadComplete=void 0;var n=r(237),o=r(510);t.attachmentUploadComplete=(0,n.createAction)(o.ATTACHMENT_UPLOAD_COMPLETE)},1355:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadProgress=void 0;var n=r(237),o=r(510);t.attachmentUploadProgress=(0,n.createAction)(o.ATTACHMENT_UPLOAD_PROGRESS)},1357:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadStart=void 0;var n=r(237),o=r(510);t.attachmentUploadStart=(0,n.createAction)(o.ATTACHMENT_UPLOAD_START)},1359:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.clearAttachments=void 0;var n=r(237),o=r(510);t.clearAttachments=(0,n.createAction)(o.CLEAR_ATTACHMENTS,function(e){return{threadId:e}})},1361:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.dismissAttachmentsError=void 0;var n=r(237),o=r(510);t.dismissAttachmentsError=(0,n.createAction)(o.DISMISS_ATTACHMENTS_ERROR)},1363:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.handleAttachmentUploadProgress=void 0;var n=r(1364),o=r(1355);t.handleAttachmentUploadProgress=function(e){var t=e.localId,r=e.threadId,a=e.loaded,i=e.total;return function(e){var s=a/i*n.MAX_UPLOAD_PROGRESS_PERCENTAGE;e((0,o.attachmentUploadProgress)({localId:t,threadId:r,progress:s}))}}},1364:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.FILE_MANAGER_API_PREFIX="filemanager/api";var n=10485760;t.MAX_FILE_SIZE=n,t.MAX_UPLOAD_PROGRESS_PERCENTAGE=95},1366:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeAttachment=void 0;var n=r(237),o=r(510);t.removeAttachment=(0,n.createAction)(o.REMOVE_ATTACHMENT)},1367:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeAttachmentFromThread=void 0;var n=r(774),o=r(251),a=r(243),i=r(1366);t.removeAttachmentFromThread=function(e){var t=e.attachment,r=e.thread;return function(e){var s=(0,a.getThreadId)(r),u=(0,n.getLocalId)(t);e((0,i.removeAttachment)({localId:u,threadId:s}));e((0,o.trackInteraction)("remove-staged-attachment",{action:"remove staged attachment"}))}}},1370:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(42),a=r(1371);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(e){u(t,(0,o.Record)({file:null,localId:"",fileId:-1,uploadProgress:0}));function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n({},e,{localId:(0,a.generateIdForFile)({file:e.file,timestamp:Date.now()})})))}return t}();t.default=l;e.exports=t.default},1371:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.generateIdForFile=function(e){var t=e.file,r=e.timestamp;return t.name+"-"+r}},1372:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.uploadAttachment=void 0;var n=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){r.push(i.value);if(t&&r.length===t)break}}catch(e){o=!0;a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=r(774),a=r(251),i=r(482),s=r(1373),u=r(1374),l=r(1375),c=r(1357),d=r(1353),f=r(1376),p=r(1363),h=r(1351),m=r(493),g=r(1364),y=r(1377);t.uploadAttachment=function(e){var t=e.attachment,r=e.threadId;return function(e,v){var b=Date.now();e((0,c.attachmentUploadStart)({attachment:t,threadId:r}));var _=(0,i.getSessionId)(v()),T=(0,o.getLocalId)(t),E=(0,o.getFile)(t),P=(0,l.createFormDataForAttachment)({file:E});return(0,s.fetchAttachmentUploadUrlClient)({sessionId:_}).then(function(t){var n=t.uploadUrl;return(0,u.uploadAttachmentClient)({formData:P,onProgress:function(t){var n=t.loaded,o=t.total;e((0,p.handleAttachmentUploadProgress)({localId:T,threadId:r,loaded:n,total:o}))},uploadUrl:g.FILE_MANAGER_API_PREFIX+"/"+n})}).then(function(t){var o=n(t.objects,1)[0],i=Date.now();e((0,d.attachmentUploadComplete)({localId:T,threadId:r,fileId:o.id}));(0,y.isPersistedThreadIdentifier)(r)&&e((0,m.associateFileIdsWithThread)({fileIds:[o.id],sessionId:_,threadId:r}));e((0,a.trackInteraction)("attached-file",{action:"attached file","attachment-type":o.extension,"attachment-size-bytes":E.size,"upload-time-ms":i-b}))}).catch(function(){e((0,h.attachmentError)(f.UPLOAD_ERROR,r));e((0,a.trackInteraction)("failed-to-attach-file",{action:"failed to attach file","failure-type":"upload error"}))})}}},1373:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fetchAttachmentUploadUrlClient=void 0;var n=o(r(497));function o(e){return e&&e.__esModule?e:{default:e}}var a="livechat-public/v1/attachment/upload-url";t.fetchAttachmentUploadUrlClient=function(e){var t=e.sessionId;return n.default.get(a,{query:{sessionId:t}})}},1374:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.uploadAttachmentClient=void 0;var n=o(r(498));function o(e){return e&&e.__esModule?e:{default:e}}t.uploadAttachmentClient=function(e){var t=e.formData,r=e.uploadUrl,o=e.onProgress,a=void 0===o?function(){}:o;return n.default.post(r,{headers:{"content-type":!1},data:t,timeout:0,withXhr:function(e){e.upload.addEventListener("progress",a,!1)}})}},1375:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.createFormDataForAttachment=function(e){var t=e.file,r=new FormData;r.append("file",t);return r}},1376:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SIZE_LIMIT_EXCEEDED="SIZE_LIMIT_EXCEEDED",t.BLACKLISTED_EXTENSION="BLACKLISTED_EXTENSION",t.UPLOAD_ERROR="UPLOAD_ERROR"},1377:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isPersistedThreadIdentifier=void 0;var n=r(235);t.isPersistedThreadIdentifier=function(e){return e!==n.STUBBED_THREAD_ID}},1378:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.validateAttachmentFile=void 0;var n=r(1376),o=r(1379),a=r(1380),i=s(r(1301));function s(e){return e&&e.__esModule?e:{default:e}}t.validateAttachmentFile=function(e){var t=(0,i.default)();(0,o.fileExceedsSizeLimit)(e)&&t.reject(n.SIZE_LIMIT_EXCEEDED);(0,a.fileExtensionIsBlacklisted)(e)?t.reject(n.BLACKLISTED_EXTENSION):t.resolve();return t.promise}},1379:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fileExceedsSizeLimit=void 0;var n=r(1364);t.fileExceedsSizeLimit=function(e){return e.size>n.MAX_FILE_SIZE}},1380:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fileExtensionIsBlacklisted=void 0;var n=r(1381);t.fileExtensionIsBlacklisted=function(e){var t=e.name.split("."),r=(t[t.length-1]||"").toLowerCase();return n.blacklistedExtensions.some(function(e){return r===e})}},1381:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.blacklistedExtensions=["ade","adp","apk","bat","bin","cab","cgi","chm","cmd","com","cpl","dhtml","dll","dmg","exe","gadget","hta","htm","html","ins","iso","isp","jar","jhtml","js","jse","lib","lnk","mde","mhtml","msc","msi","msp","mst","nsh","phtml","pif","pl","py","rhtml","scr","sct","shb","shtml","svg","sys","tar","toast","vb","vbe","vbs","vcd","vxd","wsc","wsf","wsh","xhtml","zhtml","zip"]},1382:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.selectAttachmentFile=void 0;var n=c(r(1370)),o=r(251),a=r(1383),i=r(1351),s=r(243),u=r(1378),l=r(1372);function c(e){return e&&e.__esModule?e:{default:e}}t.selectAttachmentFile=function(e){var t=e.file,r=e.thread;return function(e){var c=(0,s.getThreadId)(r);return(0,u.validateAttachmentFile)(t).then(function(){var r=new n.default({file:t,progress:0});return e((0,l.uploadAttachment)({attachment:r,threadId:c}))}).catch(function(t){e((0,i.attachmentError)(t,c));e((0,o.trackInteraction)("failed-to-attach-file",{action:"failed to attach file","failure-type":(0,a.validationErrorToTrackingFailureType)(t)}))})}}},1383:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.validationErrorToTrackingFailureType=void 0;var n=r(1376);t.validationErrorToTrackingFailureType=function(e){switch(e){case n.SIZE_LIMIT_EXCEEDED:return"size limit exceeded";case n.BLACKLISTED_EXTENSION:return"blacklisted extension";default:return null}}},1386:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isUploadCompleted=void 0;var n=r(774);t.isUploadCompleted=function(e){return-1!==(0,n.getFileId)(e)}},1387:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.buildFileAttachment=void 0;var n=r(774),o=r(1386),a=i(r(351));function i(e){return e&&e.__esModule?e:{default:e}}t.buildFileAttachment=function(e){if(!e)return null;var t=e.filter(o.isUploadCompleted).map(n.getFileId);return t.size?(0,a.default)({fileIds:t}):null}},1393:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentsErrorForThreadInProps=void 0;var n=r(168),o=u(r(116)),a=r(1394),i=r(243),s=r(299);function u(e){return e&&e.__esModule?e:{default:e}}t.attachmentsErrorForThreadInProps=(0,n.createSelector)([a.getFileUploadsErrors,s.threadFromProps],function(e,t){var r=(0,i.getThreadId)(t);return(0,o.default)(r,e)||null})},1394:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploadsErrors=void 0;var n=o(r(116));function o(e){return e&&e.__esModule?e:{default:e}}t.getFileUploadsErrors=(0,n.default)("fileUploadsErrors")},1396:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploadListForCurrentThreadId=void 0;var n=r(42),o=r(168),a=u(r(116)),i=r(1397),s=r(1398);function u(e){return e&&e.__esModule?e:{default:e}}t.getFileUploadListForCurrentThreadId=(0,o.createSelector)([s.getFileUploads,i.getCurrentThreadId],function(e,t){var r=(0,a.default)(t,e);return r?r.toList():(0,n.List)()})},1397:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadId=void 0;var n=r(243),o=r(168),a=r(535);t.getCurrentThreadId=(0,o.createSelector)([a.getSelectedThread],n.getThreadId)},1398:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploads=void 0;var n=o(r(116));function o(e){return e&&e.__esModule?e:{default:e}}t.getFileUploads=(0,n.default)("fileUploads")},1410:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.gdprExplicitConsentRequired=void 0;var n=i(r(133)),o=r(810),a=r(1411);function i(e){return e&&e.__esModule?e:{default:e}}t.gdprExplicitConsentRequired=(0,n.default)(o.getMessage,a.getGdprExplicitConsentRequired)},1411:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getGdprExplicitConsentRequired=void 0;var n=a(r(131)),o=r(176);function a(e){return e&&e.__esModule?e:{default:e}}t.getGdprExplicitConsentRequired=(0,n.default)(o.GDPR_EXPLICIT_CONSENT_REQUIRED)},1412:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHasGivenConsentToProcess=void 0;var n=a(r(116)),o=r(168);function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,n.default)("gdpr");t.getHasGivenConsentToProcess=(0,o.createSelector)([i],(0,n.default)("hasVisitorGivenConsentToProcess"))},1414:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRecordImplicitConsentToProcess=void 0;var n=r(168),o=r(809),a=r(1410),i=r(170),s=r(1412);t.shouldRecordImplicitConsentToProcess=(0,n.createSelector)([i.getLatestWidgetData,s.getHasGivenConsentToProcess],function(e,t){return(0,o.gdprConsentToProcessEnabled)(e)&&!(0,a.gdprExplicitConsentRequired)(e)&&!t})},1421:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=P(r(1422)),a=r(774),i=r(1386),s=P(r(950)),u=r(46),l=P(r(265)),c=r(42),d=r(3),f=P(d),p=P(r(5)),h=P(r(929)),m=P(r(926)),g=r(1423),y=r(139),v=P(r(1424)),b=P(r(1425)),_=P(r(1439)),T=P(r(1446)),E=P(r(1448));function P(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=m.default.div.withConfig({displayName:"MessageEditor__FileUploadWrapper"})(["display:flex;overflow:auto;& > *:not(:last-child){margin-right:8px;}"]),S=function(e){C(t,d.Component);function t(e){O(this,t);var r=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={messageText:""};r.handleChange=r.handleChange.bind(r);r.handlePublish=r.handlePublish.bind(r);r.handleKeyDown=r.handleKeyDown.bind(r);r.setEditorRef=r.setEditorRef.bind(r);r.focusEditor=r.focusEditor.bind(r);r.renderTextInput=r.renderTextInput.bind(r);r.renderFileUploads=r.renderFileUploads.bind(r);r.handleSelectAttachmentFiles=r.handleSelectAttachmentFiles.bind(r);r.editorRef=null;return r}n(t,[{key:"componentDidMount",value:function(){this.focusEditor()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!e.disabled&&this.props.disabled&&this.focusEditor()}},{key:"focusEditor",value:function(){var e=this.editorRef;e&&setTimeout(function(){e.focus()})}},{key:"getMessageText",value:function(){return this.state.messageText}},{key:"messageTextIsWithinLimit",value:function(){return this.getMessageText().length<u.DEFAULT_MAX_MESSAGE_LENGTH}},{key:"hasAttachments",value:function(){return this.props.stagedAttachments&&this.props.stagedAttachments.size}},{key:"attachmentsAreValid",value:function(){return!this.props.stagedAttachments||this.props.stagedAttachments.every(i.isUploadCompleted)}},{key:"canUploadAttachment",value:function(){return!this.props.hasUnansweredQuickReplyMessage&&(!(!this.props.supportsMultipleAttachments&&this.props.stagedAttachments)||!this.props.stagedAttachments.size)}},{key:"messageContentsAreValid",value:function(){var e=this.getMessageText()&&""!==this.getMessageText().trim();return this.messageTextIsWithinLimit()&&this.attachmentsAreValid()&&(e||this.hasAttachments())}},{key:"canPublish",value:function(){var e=this.props,t=e.disabled,r=e.networkOffline,n=e.disablePublish;return this.messageContentsAreValid()&&!r&&!t&&!n}},{key:"handleChange",value:function(e){var t=this.props.chatInputChanged;this.setState({messageText:e.target.value});""!==this.getMessageText()&&t()}},{key:"handleKeyDown",value:function(e){if(e.keyCode===g.ENTER&&!1===e.shiftKey){this.handlePublish();e.preventDefault();e.stopPropagation();return!1}return!0}},{key:"handlePublish",value:function(){if(this.canPublish()){var e=this.getMessageText();this.props.publishMessage({text:e,richText:"<div>"+o.default.link((0,y.escape)(e),{stripPrefix:!1})+"</div>"});this.setState({messageText:""});this.focusEditor()}}},{key:"getValidationMessage",value:function(){return this.messageTextIsWithinLimit()?"":l.default.text("conversations-visitor-experience-components.chatTextArea.validationMessage")}},{key:"setEditorRef",value:function(e){var t=p.default.findDOMNode(e);this.editorRef=t}},{key:"handleSelectAttachmentFiles",value:function(e){var t=e.files;this.props.onSelectAttachmentFiles({files:t});this.focusEditor()}},{key:"renderTextInput",value:function(){return f.default.createElement(E.default,{disabled:this.props.disabled||this.props.networkOffline,error:!this.messageTextIsWithinLimit(),messageText:this.state.messageText,onChange:this.handleChange,onKeyDown:this.handleKeyDown,setEditorRef:this.setEditorRef,showingHsBranding:this.props.showingHsBranding,validationMessage:this.getValidationMessage()})}},{key:"renderFileUploads",value:function(){var e=this;return this.props.stagedAttachments&&this.props.stagedAttachments.size?f.default.createElement(w,{className:(0,h.default)("m-bottom-2",{"m-top-2":this.props.showingHsBranding})},this.props.stagedAttachments.map(function(t){return f.default.createElement(b.default,{key:(0,a.getLocalId)(t),attachment:t,onRemove:function(){e.props.onRemoveAttachment({attachment:t})}})})):null}},{key:"render",value:function(){return f.default.createElement(v.default,{inputToRender:this.renderTextInput,fileUploads:this.renderFileUploads,showingHsBranding:this.props.showingHsBranding},f.default.createElement(f.default.Fragment,null,this.props.supportsAttachments?f.default.createElement(_.default,{allowMultiple:this.props.supportsMultipleAttachments,coloring:this.props.coloring,disabled:!this.canUploadAttachment(),mobile:this.props.mobile,onAttachmentButtonClick:this.props.onAttachmentButtonClick,onSelectFiles:this.handleSelectAttachmentFiles,maxAttachmentFileSize:this.props.maxAttachmentFileSize}):null,f.default.createElement(T.default,{coloring:this.props.coloring,disabled:!this.canPublish(),handlePublish:this.handlePublish,mobile:this.props.mobile})))}}]);return t}();S.propTypes={chatInputChanged:d.PropTypes.func.isRequired,coloring:(0,s.default)("ColoringRecord"),disablePublish:d.PropTypes.bool.isRequired,disabled:d.PropTypes.bool.isRequired,hasUnansweredQuickReplyMessage:d.PropTypes.bool.isRequired,maxAttachmentFileSize:d.PropTypes.number.isRequired,mobile:d.PropTypes.bool,networkOffline:d.PropTypes.bool.isRequired,onAttachmentButtonClick:d.PropTypes.func,onRemoveAttachment:d.PropTypes.func.isRequired,onSelectAttachmentFiles:d.PropTypes.func.isRequired,publishMessage:d.PropTypes.func.isRequired,showingHsBranding:d.PropTypes.bool,stagedAttachments:d.PropTypes.instanceOf(c.List),supportsAttachments:d.PropTypes.bool.isRequired,supportsMultipleAttachments:d.PropTypes.bool};S.defaultProps={hasUnansweredQuickReplyMessage:!1,isThreadStarted:!0,disablePublish:!1,onRemoveAttachment:function(){},onSelectAttachmentFiles:function(){},createNewThread:function(){},supportsAttachments:!1,supportsMultipleAttachments:!1};t.default=S;e.exports=t.default},1422:function(e,t,r){var n,o,a;o=[],void 0!==(a="function"==typeof(n=function(){var e,t,r,n,o,a,i,s,u,l=function(e){e=e||{};this.version=l.version;this.urls=this.normalizeUrlsCfg(e.urls);this.email="boolean"!=typeof e.email||e.email;this.phone="boolean"!=typeof e.phone||e.phone;this.hashtag=e.hashtag||!1;this.mention=e.mention||!1;this.newWindow="boolean"!=typeof e.newWindow||e.newWindow;this.stripPrefix=this.normalizeStripPrefixCfg(e.stripPrefix);this.stripTrailingSlash="boolean"!=typeof e.stripTrailingSlash||e.stripTrailingSlash;var t=this.mention;if(!1!==t&&"twitter"!==t&&"instagram"!==t)throw new Error("invalid `mention` cfg - see docs");var r=this.hashtag;if(!1!==r&&"twitter"!==r&&"facebook"!==r&&"instagram"!==r)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(e.truncate);this.className=e.className||"";this.replaceFn=e.replaceFn||null;this.context=e.context||this;this.htmlParser=null;this.matchers=null;this.tagBuilder=null};l.link=function(e,t){return new l(t).link(e)};l.parse=function(e,t){return new l(t).parse(e)};l.version="1.4.0";l.prototype={constructor:l,normalizeUrlsCfg:function(e){null==e&&(e=!0);return"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},normalizeStripPrefixCfg:function(e){null==e&&(e=!0);return"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},normalizeTruncateCfg:function(e){return"number"==typeof e?{length:e,location:"end"}:l.Util.defaults(e||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(e){for(var t=this.getHtmlParser().parse(e),r=0,n=[],o=0,a=t.length;o<a;o++){var i=t[o],s=i.getType();if("element"===s&&"a"===i.getTagName())i.isClosing()?r=Math.max(r-1,0):r++;else if("text"===s&&0===r){var u=this.parseText(i.getText(),i.getOffset());n.push.apply(n,u)}}n=this.compactMatches(n);return n=this.removeUnwantedMatches(n)},compactMatches:function(e){e.sort(function(e,t){return e.getOffset()-t.getOffset()});for(var t=0;t<e.length-1;t++)for(var r=e[t],n=r.getOffset()+r.getMatchedText().length;t+1<e.length&&e[t+1].getOffset()<=n;)e.splice(t+1,1);return e},removeUnwantedMatches:function(e){var t=l.Util.remove;this.hashtag||t(e,function(e){return"hashtag"===e.getType()});this.email||t(e,function(e){return"email"===e.getType()});this.phone||t(e,function(e){return"phone"===e.getType()});this.mention||t(e,function(e){return"mention"===e.getType()});this.urls.schemeMatches||t(e,function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()});this.urls.wwwMatches||t(e,function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()});this.urls.tldMatches||t(e,function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()});return e},parseText:function(e,t){t=t||0;for(var r=this.getMatchers(),n=[],o=0,a=r.length;o<a;o++){for(var i=r[o].parseMatches(e),s=0,u=i.length;s<u;s++)i[s].setOffset(t+i[s].getOffset());n.push.apply(n,i)}return n},link:function(e){if(!e)return"";for(var t=this.parse(e),r=[],n=0,o=0,a=t.length;o<a;o++){var i=t[o];r.push(e.substring(n,i.getOffset()));r.push(this.createMatchReturnVal(i));n=i.getOffset()+i.getMatchedText().length}r.push(e.substring(n));return r.join("")},createMatchReturnVal:function(e){var t;this.replaceFn&&(t=this.replaceFn.call(this.context,e));return"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof l.HtmlTag?t.toAnchorString():e.buildTag().toAnchorString()},getHtmlParser:function(){var e=this.htmlParser;e||(e=this.htmlParser=new l.htmlParser.HtmlParser);return e},getMatchers:function(){if(this.matchers)return this.matchers;var e=l.matcher,t=this.getTagBuilder(),r=[new e.Hashtag({tagBuilder:t,serviceName:this.hashtag}),new e.Email({tagBuilder:t}),new e.Phone({tagBuilder:t}),new e.Mention({tagBuilder:t,serviceName:this.mention}),new e.Url({tagBuilder:t,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash})];return this.matchers=r},getTagBuilder:function(){var e=this.tagBuilder;e||(e=this.tagBuilder=new l.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className}));return e}};l.match={};l.matcher={};l.htmlParser={};l.truncate={};l.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},defaults:function(e,t){for(var r in t)t.hasOwnProperty(r)&&void 0===e[r]&&(e[r]=t[r]);return e},extend:function(e,t){var r,n=e.prototype,o=function(){};o.prototype=n;var a=(r=t.hasOwnProperty("constructor")?t.constructor:function(){n.constructor.apply(this,arguments)}).prototype=new o;a.constructor=r;a.superclass=n;delete t.constructor;l.Util.assign(a,t);return r},ellipsis:function(e,t,r){var n;if(e.length>t){if(null==r){r="&hellip;";n=3}else n=r.length;e=e.substring(0,t-n)+r}return e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},remove:function(e,t){for(var r=e.length-1;r>=0;r--)!0===t(e[r])&&e.splice(r,1)},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var r,n=[],o=0;r=t.exec(e);){n.push(e.substring(o,r.index));n.push(r[0]);o=r.index+r[0].length}n.push(e.substring(o));return n},trim:function(e){return e.replace(this.trimRegex,"")}};l.HtmlTag=l.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(e){l.Util.assign(this,e);this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){this.tagName=e;return this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){this.getAttrs()[e]=t;return this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(e){var t=this.getAttrs();l.Util.assign(t,e);return this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(e){for(var t,r=this.getClass(),n=this.whitespaceRegex,o=l.Util.indexOf,a=r?r.split(n):[],i=e.split(n);t=i.shift();)-1===o(a,t)&&a.push(t);this.getAttrs().class=a.join(" ");return this},removeClass:function(e){for(var t,r=this.getClass(),n=this.whitespaceRegex,o=l.Util.indexOf,a=r?r.split(n):[],i=e.split(n);a.length&&(t=i.shift());){var s=o(a,t);-1!==s&&a.splice(s,1)}this.getAttrs().class=a.join(" ");return this},getClass:function(){return this.getAttrs().class||""},hasClass:function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},setInnerHtml:function(e){this.innerHtml=e;return this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r+'="'+e[r]+'"');return t.join(" ")}});l.RegexLib={alphaNumericCharsStr:e="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"+"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",domainNameRegex:new RegExp("["+e+".\\-]*["+e+"\\-]"),tldRegex:/(?:travelersinsurance|sandvikcoromant|kerryproperties|cancerresearch|weatherchannel|kerrylogistics|spreadbetting|international|wolterskluwer|lifeinsurance|construction|pamperedchef|scholarships|versicherung|bridgestone|creditunion|kerryhotels|investments|productions|blackfriday|enterprises|lamborghini|photography|motorcycles|williamhill|playstation|contractors|barclaycard|accountants|redumbrella|engineering|management|telefonica|protection|consulting|tatamotors|creditcard|vlaanderen|schaeffler|associates|properties|foundation|republican|bnpparibas|boehringer|eurovision|extraspace|industries|immobilien|university|technology|volkswagen|healthcare|restaurant|cuisinella|vistaprint|apartments|accountant|travelers|homedepot|institute|vacations|furniture|fresenius|insurance|christmas|bloomberg|solutions|barcelona|firestone|financial|kuokgroup|fairwinds|community|passagens|goldpoint|equipment|lifestyle|yodobashi|aquarelle|marketing|analytics|education|amsterdam|statefarm|melbourne|allfinanz|directory|microsoft|stockholm|montblanc|accenture|lancaster|landrover|everbank|istanbul|graphics|grainger|ipiranga|softbank|attorney|pharmacy|saarland|catering|airforce|yokohama|mortgage|frontier|mutuelle|stcgroup|memorial|pictures|football|symantec|cipriani|ventures|telecity|cityeats|verisign|flsmidth|boutique|cleaning|firmdale|clinique|clothing|redstone|infiniti|deloitte|feedback|services|broadway|plumbing|commbank|training|barclays|exchange|computer|brussels|software|delivery|barefoot|builders|business|bargains|engineer|holdings|download|security|helsinki|lighting|movistar|discount|hdfcbank|supplies|marriott|property|diamonds|capetown|partners|democrat|jpmorgan|bradesco|budapest|rexroth|zuerich|shriram|academy|science|support|youtube|singles|surgery|alibaba|statoil|dentist|schwarz|android|cruises|cricket|digital|markets|starhub|systems|courses|coupons|netbank|country|domains|corsica|network|neustar|realtor|lincoln|limited|schmidt|yamaxun|cooking|contact|auction|spiegel|liaison|leclerc|latrobe|lasalle|abogado|compare|lanxess|exposed|express|company|cologne|college|avianca|lacaixa|fashion|recipes|ferrero|komatsu|storage|wanggou|clubmed|sandvik|fishing|fitness|bauhaus|kitchen|flights|florist|flowers|watches|weather|temasek|samsung|bentley|forsale|channel|theater|frogans|theatre|okinawa|website|tickets|jewelry|gallery|tiffany|iselect|shiksha|brother|organic|wedding|genting|toshiba|origins|philips|hyundai|hotmail|hoteles|hosting|rentals|windows|cartier|bugatti|holiday|careers|whoswho|hitachi|panerai|caravan|reviews|guitars|capital|trading|hamburg|hangout|finance|stream|family|abbott|health|review|travel|report|hermes|hiphop|gratis|career|toyota|hockey|dating|repair|google|social|soccer|reisen|global|otsuka|giving|unicom|casino|photos|center|broker|rocher|orange|bostik|garden|insure|ryukyu|bharti|safety|physio|sakura|oracle|online|jaguar|gallup|piaget|tienda|futbol|pictet|joburg|webcam|berlin|office|juegos|kaufen|chanel|chrome|xihuan|church|tennis|circle|kinder|flickr|bayern|claims|clinic|viajes|nowruz|xperia|norton|yachts|studio|coffee|camera|sanofi|nissan|author|expert|events|comsec|lawyer|tattoo|viking|estate|villas|condos|realty|yandex|energy|emerck|virgin|vision|durban|living|school|coupon|london|taobao|natura|taipei|nagoya|luxury|walter|aramco|sydney|madrid|credit|maison|makeup|schule|market|anquan|direct|design|swatch|suzuki|alsace|vuelos|dental|alipay|voyage|shouji|voting|airtel|mutual|degree|supply|agency|museum|mobily|dealer|monash|select|mormon|active|moscow|racing|datsun|quebec|nissay|rodeo|email|gifts|works|photo|chloe|edeka|cheap|earth|vista|tushu|koeln|glass|shoes|globo|tunes|gmail|nokia|space|kyoto|black|ricoh|seven|lamer|sener|epson|cisco|praxi|trust|citic|crown|shell|lease|green|legal|lexus|ninja|tatar|gripe|nikon|group|video|wales|autos|gucci|party|nexus|guide|linde|adult|parts|amica|lixil|boats|azure|loans|locus|cymru|lotte|lotto|stada|click|poker|quest|dabur|lupin|nadex|paris|faith|dance|canon|place|gives|trade|skype|rocks|mango|cloud|boots|smile|final|swiss|homes|honda|media|horse|cards|deals|watch|bosch|house|pizza|miami|osaka|tours|total|xerox|coach|sucks|style|delta|toray|iinet|tools|money|codes|beats|tokyo|salon|archi|movie|baidu|study|actor|yahoo|store|apple|world|forex|today|bible|tmall|tirol|irish|tires|forum|reise|vegas|vodka|sharp|omega|weber|jetzt|audio|promo|build|bingo|chase|gallo|drive|dubai|rehab|press|solar|sale|beer|bbva|bank|band|auto|sapo|sarl|saxo|audi|asia|arte|arpa|army|yoga|ally|zara|scor|scot|sexy|seat|zero|seek|aero|adac|zone|aarp|maif|meet|meme|menu|surf|mini|mobi|mtpc|porn|desi|star|ltda|name|talk|navy|love|loan|live|link|news|limo|like|spot|life|nico|lidl|lgbt|land|taxi|team|tech|kred|kpmg|sony|song|kiwi|kddi|jprs|jobs|sohu|java|itau|tips|info|immo|icbc|hsbc|town|host|page|toys|here|help|pars|haus|guru|guge|tube|goog|golf|gold|sncf|gmbh|gift|ggee|gent|gbiz|game|vana|pics|fund|ford|ping|pink|fish|film|fast|farm|play|fans|fail|plus|skin|pohl|fage|moda|post|erni|dvag|prod|doha|prof|docs|viva|diet|luxe|site|dell|sina|dclk|show|qpon|date|vote|cyou|voto|read|coop|cool|wang|club|city|chat|cern|cash|reit|rent|casa|cars|care|camp|rest|call|cafe|weir|wien|rich|wiki|buzz|wine|book|bond|room|work|rsvp|shia|ruhr|blue|bing|shaw|bike|safe|xbox|best|pwc|mtn|lds|aig|boo|fyi|nra|nrw|ntt|car|gal|obi|zip|aeg|vin|how|one|ong|onl|dad|ooo|bet|esq|org|htc|bar|uol|ibm|ovh|gdn|ice|icu|uno|gea|ifm|bot|top|wtf|lol|day|pet|eus|wtc|ubs|tvs|aco|ing|ltd|ink|tab|abb|afl|cat|int|pid|pin|bid|cba|gle|com|cbn|ads|man|wed|ceb|gmo|sky|ist|gmx|tui|mba|fan|ski|iwc|app|pro|med|ceo|jcb|jcp|goo|dev|men|aaa|meo|pub|jlc|bom|jll|gop|jmp|mil|got|gov|win|jot|mma|joy|trv|red|cfa|cfd|bio|moe|moi|mom|ren|biz|aws|xin|bbc|dnp|buy|kfh|mov|thd|xyz|fit|kia|rio|rip|kim|dog|vet|nyc|bcg|mtr|bcn|bms|bmw|run|bzh|rwe|tel|stc|axa|kpn|fly|krd|cab|bnl|foo|crs|eat|tci|sap|srl|nec|sas|net|cal|sbs|sfr|sca|scb|csc|edu|new|xxx|hiv|fox|wme|ngo|nhk|vip|sex|frl|lat|yun|law|you|tax|soy|sew|om|ac|hu|se|sc|sg|sh|sb|sa|rw|ru|rs|ro|re|qa|py|si|pw|pt|ps|sj|sk|pr|pn|pm|pl|sl|sm|pk|sn|ph|so|pg|pf|pe|pa|zw|nz|nu|nr|np|no|nl|ni|ng|nf|sr|ne|st|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|su|mn|mm|ml|mk|mh|mg|me|sv|md|mc|sx|sy|ma|ly|lv|sz|lu|lt|ls|lr|lk|li|lc|lb|la|tc|kz|td|ky|kw|kr|kp|kn|km|ki|kh|tf|tg|th|kg|ke|jp|jo|jm|je|it|is|ir|tj|tk|tl|tm|iq|tn|to|io|in|im|il|ie|ad|sd|ht|hr|hn|hm|tr|hk|gy|gw|gu|gt|gs|gr|gq|tt|gp|gn|gm|gl|tv|gi|tw|tz|ua|gh|ug|uk|gg|gf|ge|gd|us|uy|uz|va|gb|ga|vc|ve|fr|fo|fm|fk|fj|vg|vi|fi|eu|et|es|er|eg|ee|ec|dz|do|dm|dk|vn|dj|de|cz|cy|cx|cw|vu|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|wf|bz|by|bw|bv|bt|bs|br|bo|bn|bm|bj|bi|ws|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ye|ar|aq|ao|am|al|yt|ai|za|ag|af|ae|zm|id)\b/};l.AnchorTagBuilder=l.Util.extend(Object,{constructor:function(e){e=e||{};this.newWindow=e.newWindow;this.truncate=e.truncate;this.className=e.className},build:function(e){return new l.HtmlTag({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},createAttrs:function(e){var t={href:e.getAnchorHref()},r=this.createCssClass(e);r&&(t.class=r);if(this.newWindow){t.target="_blank";t.rel="noopener noreferrer"}this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref());return t},createCssClass:function(e){var t=this.className;if(t){for(var r=[t],n=e.getCssClassSuffixes(),o=0,a=n.length;o<a;o++)r.push(t+"-"+n[o]);return r.join(" ")}return""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(e){var t=this.truncate;if(!t||!t.length)return e;var r=t.length,n=t.location;return"smart"===n?l.truncate.TruncateSmart(e,r):"middle"===n?l.truncate.TruncateMiddle(e,r):l.truncate.TruncateEnd(e,r)}});l.htmlParser.HtmlParser=l.Util.extend(Object,{htmlRegex:(t=/!--([\s\S]+?)--/,r=/[0-9a-zA-Z][0-9a-zA-Z:]*/,n=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,o=/[^\s"'>\/=\x00-\x1F\x7F]+/.source+"(?:\\s*=\\s*"+n.source+")?",new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",o,"|",n.source+")",")*",">",")","|","(?:","<(/)?","(?:",t.source,"|","(?:","("+r.source+")","\\s*/?",")","|","(?:","("+r.source+")","\\s+","(?:","(?:\\s+|\\b)",o,")*","\\s*/?",")",")",">",")"].join(""),"gi")),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,r,n=this.htmlRegex,o=0,a=[];null!==(t=n.exec(e));){var i=t[0],s=t[3],u=t[1]||t[4]||t[5],l=!!t[2],c=t.index,d=e.substring(o,c);if(d){r=this.parseTextAndEntityNodes(o,d);a.push.apply(a,r)}s?a.push(this.createCommentNode(c,i,s)):a.push(this.createElementNode(c,i,u,l));o=c+i.length}if(o<e.length){var f=e.substring(o);f&&(r=this.parseTextAndEntityNodes(o,f)).forEach(function(e){a.push(e)})}return a},parseTextAndEntityNodes:function(e,t){for(var r=[],n=l.Util.splitAndCapture(t,this.htmlCharacterEntitiesRegex),o=0,a=n.length;o<a;o+=2){var i=n[o],s=n[o+1];if(i){r.push(this.createTextNode(e,i));e+=i.length}if(s){r.push(this.createEntityNode(e,s));e+=s.length}}return r},createCommentNode:function(e,t,r){return new l.htmlParser.CommentNode({offset:e,text:t,comment:l.Util.trim(r)})},createElementNode:function(e,t,r,n){return new l.htmlParser.ElementNode({offset:e,text:t,tagName:r.toLowerCase(),closing:n})},createEntityNode:function(e,t){return new l.htmlParser.EntityNode({offset:e,text:t})},createTextNode:function(e,t){return new l.htmlParser.TextNode({offset:e,text:t})}});l.htmlParser.HtmlNode=l.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(e){l.Util.assign(this,e);if(null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:l.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}});l.htmlParser.CommentNode=l.Util.extend(l.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}});l.htmlParser.ElementNode=l.Util.extend(l.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}});l.htmlParser.EntityNode=l.Util.extend(l.htmlParser.HtmlNode,{getType:function(){return"entity"}});l.htmlParser.TextNode=l.Util.extend(l.htmlParser.HtmlNode,{getType:function(){return"text"}});l.match.Match=l.Util.extend(Object,{constructor:function(e){if(null==e.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==e.matchedText)throw new Error("`matchedText` cfg required");if(null==e.offset)throw new Error("`offset` cfg required");this.tagBuilder=e.tagBuilder;this.matchedText=e.matchedText;this.offset=e.offset},getType:l.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(e){this.offset=e},getOffset:function(){return this.offset},getAnchorHref:l.Util.abstractMethod,getAnchorText:l.Util.abstractMethod,getCssClassSuffixes:function(){return[this.getType()]},buildTag:function(){return this.tagBuilder.build(this)}});l.match.Email=l.Util.extend(l.match.Match,{constructor:function(e){l.match.Match.prototype.constructor.call(this,e);if(!e.email)throw new Error("`email` cfg required");this.email=e.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}});l.match.Hashtag=l.Util.extend(l.match.Match,{constructor:function(e){l.match.Match.prototype.constructor.call(this,e);if(!e.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=e.serviceName;this.hashtag=e.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: ",e)}},getAnchorText:function(){return"#"+this.hashtag}});l.match.Phone=l.Util.extend(l.match.Match,{constructor:function(e){l.match.Match.prototype.constructor.call(this,e);if(!e.number)throw new Error("`number` cfg required");if(null==e.plusSign)throw new Error("`plusSign` cfg required");this.number=e.number;this.plusSign=e.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}});l.match.Mention=l.Util.extend(l.match.Match,{constructor:function(e){l.match.Match.prototype.constructor.call(this,e);if(!e.serviceName)throw new Error("`serviceName` cfg required");if(!e.mention)throw new Error("`mention` cfg required");this.mention=e.mention;this.serviceName=e.serviceName},getType:function(){return"mention"},getMention:function(){return this.mention},getServiceName:function(){return this.serviceName},getAnchorHref:function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: ",this.serviceName)}},getAnchorText:function(){return"@"+this.mention},getCssClassSuffixes:function(){var e=l.match.Match.prototype.getCssClassSuffixes.call(this),t=this.getServiceName();t&&e.push(t);return e}});l.match.Url=l.Util.extend(l.match.Match,{constructor:function(e){l.match.Match.prototype.constructor.call(this,e);if("scheme"!==e.urlMatchType&&"www"!==e.urlMatchType&&"tld"!==e.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!e.url)throw new Error("`url` cfg required");if(null==e.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==e.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==e.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==e.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.urlMatchType=e.urlMatchType;this.url=e.url;this.protocolUrlMatch=e.protocolUrlMatch;this.protocolRelativeMatch=e.protocolRelativeMatch;this.stripPrefix=e.stripPrefix;this.stripTrailingSlash=e.stripTrailingSlash},schemePrefixRegex:/^(https?:\/\/)?/i,wwwPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var e=this.url;if(!this.protocolRelativeMatch&&!this.protocolUrlMatch&&!this.protocolPrepended){e=this.url="http://"+e;this.protocolPrepended=!0}return e},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getMatchedText();this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e));this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e));this.stripPrefix.www&&(e=this.stripWwwPrefix(e));this.stripTrailingSlash&&(e=this.removeTrailingSlash(e));return e},stripSchemePrefix:function(e){return e.replace(this.schemePrefixRegex,"")},stripWwwPrefix:function(e){return e.replace(this.wwwPrefixRegex,"$1")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1));return e}});l.matcher.Matcher=l.Util.extend(Object,{constructor:function(e){if(!e.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=e.tagBuilder},parseMatches:l.Util.abstractMethod});l.matcher.Email=l.Util.extend(l.matcher.Matcher,{matcherRegex:(a=l.RegexLib.alphaNumericCharsStr,i=new RegExp("["+a+"\\-_';:&=+$.,]+@"),s=l.RegexLib.domainNameRegex,u=l.RegexLib.tldRegex,new RegExp([i.source,s.source,"\\.",u.source].join(""),"gi")),parseMatches:function(e){for(var t,r=this.matcherRegex,n=this.tagBuilder,o=[];null!==(t=r.exec(e));){var a=t[0];o.push(new l.match.Email({tagBuilder:n,matchedText:a,offset:t.index,email:a}))}return o}});l.matcher.Hashtag=l.Util.extend(l.matcher.Matcher,{matcherRegex:new RegExp("#[_"+l.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+l.RegexLib.alphaNumericCharsStr+"]"),constructor:function(e){l.matcher.Matcher.prototype.constructor.call(this,e);this.serviceName=e.serviceName},parseMatches:function(e){for(var t,r=this.matcherRegex,n=this.nonWordCharRegex,o=this.serviceName,a=this.tagBuilder,i=[];null!==(t=r.exec(e));){var s=t.index,u=e.charAt(s-1);if(0===s||n.test(u)){var c=t[0],d=t[0].slice(1);i.push(new l.match.Hashtag({tagBuilder:a,matchedText:c,offset:s,serviceName:o,hashtag:d}))}}return i}});l.matcher.Phone=l.Util.extend(l.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.])?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]\d{4}/g,parseMatches:function(e){for(var t,r=this.matcherRegex,n=this.tagBuilder,o=[];null!==(t=r.exec(e));){var a=t[0],i=a.replace(/\D/g,""),s=!!t[1];o.push(new l.match.Phone({tagBuilder:n,matchedText:a,offset:t.index,number:i,plusSign:s}))}return o}});l.matcher.Mention=l.Util.extend(l.matcher.Matcher,{matcherRegexes:{twitter:new RegExp("@[_"+l.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),instagram:new RegExp("@[_."+l.RegexLib.alphaNumericCharsStr+"]{1,50}","g")},nonWordCharRegex:new RegExp("[^"+l.RegexLib.alphaNumericCharsStr+"]"),constructor:function(e){l.matcher.Matcher.prototype.constructor.call(this,e);this.serviceName=e.serviceName},parseMatches:function(e){var t,r=this.matcherRegexes[this.serviceName],n=this.nonWordCharRegex,o=this.serviceName,a=this.tagBuilder,i=[];if(!r)return i;for(;null!==(t=r.exec(e));){var s=t.index,u=e.charAt(s-1);if(0===s||n.test(u)){var c=t[0].replace(/\.+$/g,""),d=c.slice(1);i.push(new l.match.Mention({tagBuilder:a,matchedText:c,offset:s,serviceName:o,mention:d}))}}return i}});l.matcher.Url=l.Util.extend(l.matcher.Matcher,{matcherRegex:function(){var e=/(?:[A-Za-z][-.+A-Za-z0-9]*:(?![A-Za-z][-.+A-Za-z0-9]*:\/\/)(?!\d+\/?)(?:\/\/)?)/,t=/(?:www\.)/,r=l.RegexLib.domainNameRegex,n=l.RegexLib.tldRegex,o=l.RegexLib.alphaNumericCharsStr,a=new RegExp("["+o+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;✓]*["+o+"\\-+&@#/%=~_()|'$*\\[\\]✓]");return new RegExp(["(?:","(",e.source,r.source,")","|","(","(//)?",t.source,r.source,")","|","(","(//)?",r.source+"\\.",n.source,")",")","(?:"+a.source+")?"].join(""),"gi")}(),wordCharRegExp:/\w/,openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(e){l.matcher.Matcher.prototype.constructor.call(this,e);if(null==e.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==e.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.stripPrefix=e.stripPrefix;this.stripTrailingSlash=e.stripTrailingSlash},parseMatches:function(e){for(var t,r=this.matcherRegex,n=this.stripPrefix,o=this.stripTrailingSlash,a=this.tagBuilder,i=[];null!==(t=r.exec(e));){var s=t[0],u=t[1],c=t[2],d=t[3],f=t[5],p=t.index,h=d||f,m=e.charAt(p-1);if(l.matcher.UrlMatchValidator.isValid(s,u)&&!(p>0&&"@"===m||p>0&&h&&this.wordCharRegExp.test(m))){if(this.matchHasUnbalancedClosingParen(s))s=s.substr(0,s.length-1);else{var g=this.matchHasInvalidCharAfterTld(s,u);g>-1&&(s=s.substr(0,g))}var y=u?"scheme":c?"www":"tld",v=!!u;i.push(new l.match.Url({tagBuilder:a,matchedText:s,offset:p,urlMatchType:y,url:s,protocolUrlMatch:v,protocolRelativeMatch:!!h,stripPrefix:n,stripTrailingSlash:o}))}}return i},matchHasUnbalancedClosingParen:function(e){if(")"===e.charAt(e.length-1)){var t=e.match(this.openParensRe),r=e.match(this.closeParensRe);if((t&&t.length||0)<(r&&r.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(e,t){if(!e)return-1;var r=0;if(t){r=e.indexOf(":");e=e.slice(r)}var n=/^((.?\/\/)?[A-Za-z0-9\u00C0-\u017F\.\-]*[A-Za-z0-9\u00C0-\u017F\-]\.[A-Za-z]+)/.exec(e);if(null===n)return-1;r+=n[1].length;e=e.slice(n[1].length);return/^[^.A-Za-z0-9:\/?#]/.test(e)?r:-1}});l.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z\u00C0-\u017F]/,ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},isValidIpAddress:function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},containsMultipleDots:function(e){return e.indexOf("..")>-1},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)}};l.truncate.TruncateEnd=function(e,t,r){return l.Util.ellipsis(e,t,r)};l.truncate.TruncateMiddle=function(e,t,r){if(e.length<=t)return e;var n,o;if(null==r){r="&hellip;";n=8;o=3}else{n=r.length;o=r.length}var a=t-o,i="";a>0&&(i=e.substr(-1*Math.floor(a/2)));return(e.substr(0,Math.ceil(a/2))+r+i).substr(0,a+n)};l.truncate.TruncateSmart=function(e,t,r){var n,o;if(null==r){r="&hellip;";o=3;n=8}else{o=r.length;n=r.length}var a=function(e){var t={},r=e,n=r.match(/^([a-z]+):\/\//i);if(n){t.scheme=n[1];r=r.substr(n[0].length)}if(n=r.match(/^(.*?)(?=(\?|#|\/|$))/i)){t.host=n[1];r=r.substr(n[0].length)}if(n=r.match(/^\/(.*?)(?=(\?|#|$))/i)){t.path=n[1];r=r.substr(n[0].length)}if(n=r.match(/^\?(.*?)(?=(#|$))/i)){t.query=n[1];r=r.substr(n[0].length)}(n=r.match(/^#(.*?)$/i))&&(t.fragment=n[1]);return t},i=function(e){var t="";e.scheme&&e.host&&(t+=e.scheme+"://");e.host&&(t+=e.host);e.path&&(t+="/"+e.path);e.query&&(t+="?"+e.query);e.fragment&&(t+="#"+e.fragment);return t},s=function(e,t){var n=t/2,o=Math.ceil(n),a=-1*Math.floor(n),i="";a<0&&(i=e.substr(a));return e.substr(0,o)+r+i};if(e.length<=t)return e;var u=t-o,l=a(e);if(l.query){var c=l.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);if(c){l.query=l.query.substr(0,c[1].length);e=i(l)}}if(e.length<=t)return e;if(l.host){l.host=l.host.replace(/^www\./,"");e=i(l)}if(e.length<=t)return e;var d="";l.host&&(d+=l.host);if(d.length>=u)return l.host.length==t?(l.host.substr(0,t-o)+r).substr(0,u+n):s(d,u).substr(0,u+n);var f="";l.path&&(f+="/"+l.path);l.query&&(f+="?"+l.query);if(f)if((d+f).length>=u){return(d+f).length==t?(d+f).substr(0,t):(d+s(f,u-d.length)).substr(0,u+n)}else d+=f;if(l.fragment){var p="#"+l.fragment;if((d+p).length>=u){return(d+p).length==t?(d+p).substr(0,t):(d+s(p,u-d.length)).substr(0,u+n)}else d+=p}if(l.scheme&&l.host){var h=l.scheme+"://";if((d+h).length<u)return(h+d).substr(0,t)}if(d.length<=t)return d;var m="";u>0&&(m=d.substr(-1*Math.floor(u/2)));return(d.substr(0,Math.ceil(u/2))+r+m).substr(0,u+n)};return l})?n.apply(t,o):n)&&(e.exports=a)},1423:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.BACKSPACE=8,t.BRACKET_LEFT=219,t.BRACKET_RIGHT=221,t.DOWN=40,t.ENTER=13,t.TAB=9,t.ESC=27,t.LEFT=37,t.NBSP=160,t.RIGHT=39,t.SPACE=32,t.UP=38,t.Y=89,t.Z=90,t.NUMBER_0=48,t.NUMBER_1=49,t.NUMBER_2=50,t.NUMBER_3=51,t.NUMBER_4=52,t.NUMBER_5=53,t.NUMBER_6=54,t.NUMBER_7=55,t.NUMBER_8=56,t.NUMBER_9=57,t.KEYPAD_NUMBER_0=96,t.KEYPAD_NUMBER_1=97,t.KEYPAD_NUMBER_2=98,t.KEYPAD_NUMBER_3=99,t.KEYPAD_NUMBER_4=100,t.KEYPAD_NUMBER_5=101,t.KEYPAD_NUMBER_6=102,t.KEYPAD_NUMBER_7=103,t.KEYPAD_NUMBER_8=104,t.KEYPAD_NUMBER_9=105},1424:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=u(o),i=u(r(1196)),s=u(r(929));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){d(t,o.Component);function t(){l(this,t);return c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=(0,s.default)("input-container","m-bottom-2",{"no-branding":!this.props.showingHsBranding});return a.default.createElement("div",{className:e},a.default.createElement(i.default,{direction:"column",justify:"between",wrap:"nowrap"},this.props.fileUploads&&a.default.createElement("div",{className:"width-100"},this.props.fileUploads()),a.default.createElement(i.default,{className:"width-100",align:"center",justify:"between",wrap:"nowrap"},this.props.inputToRender(),this.props.children&&a.default.createElement("div",{className:"display-flex flex-row m-left-1"},this.props.children))))}}]);return t}();f.propTypes={children:o.PropTypes.node,fileUploads:o.PropTypes.func,inputToRender:o.PropTypes.func.isRequired,showingHsBranding:o.PropTypes.bool};f.defaultProps={fileUploads:null,showingHsBranding:!1};t.default=f;e.exports=t.default},1425:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=b(o),i=b(r(265)),s=b(r(1114)),u=b(r(1426)),l=b(r(1427)),c=b(r(1433)),d=r(1434),f=r(774),p=r(1435),h=r(1436),m=r(1437),g=r(1386),y=b(r(1438)),v=b(r(950));function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=function(e){E(t,a.default.Component);function t(){_(this,t);return T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"customFilePreview",value:function(){var e=this.props.attachment,t=(0,f.getFile)(e);if((0,d.fileIsImage)(t))return a.default.createElement(y.default,{imageFile:t})}},{key:"fileInfo",value:function(){return(0,g.isUploadCompleted)(this.props.attachment)?a.default.createElement(u.default,{value:(0,m.getFileSize)(this.props.attachment)}):a.default.createElement(s.default,{message:"conversations-visitor-experience-components.stagedAttachment.uploadProgress",options:{uploadedBytes:i.default.formatSize((0,p.uploadedBytes)(this.props.attachment),{precision:2,strip_insignificant_zeroes:!0}),totalBytes:i.default.formatSize((0,m.getFileSize)(this.props.attachment))}})}},{key:"attachmentUse",value:function(){return(0,g.isUploadCompleted)(this.props.attachment)?"default":"processing"}},{key:"renderProgress",value:function(){return(0,g.isUploadCompleted)(this.props.attachment)?null:a.default.createElement(c.default,{boxShadow:!1,value:(0,f.getUploadProgress)(this.props.attachment)})}},{key:"render",value:function(){return a.default.createElement(l.default,{closeable:!0,onCloseClick:this.props.onRemove,use:this.attachmentUse(),fileName:(0,h.getFileName)(this.props.attachment),fileInfo:this.fileInfo(),renderPreview:this.customFilePreview(),style:{minWidth:220}},this.renderProgress())}}]);return t}();P.propTypes={attachment:(0,v.default)("FileUploadRecord").isRequired,onRemove:o.PropTypes.func.isRequired};t.default=P;e.exports=t.default},1426:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=i(n),a=i(r(265));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}t.default=o.default.createClass({displayName:"FormattedSize",propTypes:{value:n.PropTypes.number.isRequired},render:function(){var e=this.props,t=e.value,r=s(e,["value"]);return o.default.createElement("span",null,a.default.formatSize(t,r))}});e.exports=t.default},1427:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=I;var o=T(r(7)),a=T(r(3)),i=r(926),s=T(i),u=T(r(1125)),l=T(r(1428)),c=T(r(1430)),d=T(r(1431)),f=T(r(1031)),p=T(r(1050)),h=T(r(1072)),m=_(r(1432)),g=r(1034),y=r(968),v=r(1037),b=r(1033);function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function T(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var P=["default","processing"],O={fontSize:"12px",small:{iconFont:"16px",previewWidth:"16px"},large:{iconFont:"32px",previewWidth:"32px"}},M=s.default.div.withConfig({displayName:"UIFileAttachment__StyledAttachment_Children"})(["margin:0;bottom:0;left:0;position:absolute;right:0;top:0;"]),C=(0,s.default)(l.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Media"})(["position:relative;max-width:100%;line-height:",";"],function(e){return"small"===e.size&&O.fontSize}),w=(0,s.default)(d.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Preview"})(["align-items:center;display:flex;flex-basis:auto;flex-shrink:0;",";"],function(e){var t=e.size;return(0,i.css)([""," max-height:",";width:",";> *{max-height:",";max-width:",";}"],(0,g.setFontSize)(O[t].iconFont),O[t].previewWidth,O[t].previewWidth,O[t].previewWidth,O[t].previewWidth)});w.displayName="StyledAttachment_Preview";var S=(0,s.default)(c.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Info"})(["display:flex;flex-direction:column;justify-content:center;line-height:1rem;width:100%;&&{flex-basis:auto;margin-left:",";}",";"],function(e){return"small"===e.size&&"8px"},function(e){var t=e.size;return"small"===t?(0,i.css)(["align-items:center;flex-direction:row;white-space:nowrap;"]):"large"===t?(0,i.css)(["min-height:2rem;"]):null}),x=(0,s.default)(function(e){var t=e.className,r=e.fileInfo,n=e.size;return r?a.default.createElement(u.default,{className:t,use:"help"},"small"===n&&"(",r,"small"===n&&")"):null}).withConfig({displayName:"UIFileAttachment__FileInfo"})(["&&{font-weight:",";line-height:inherit;margin-left:",";}"],v.WEB_FONT_REGULAR_WEIGHT,function(e){return"small"===e.size&&"1ch"}),R=(0,s.default)(function(e){e.attachmentSize;var t=E(e,["attachmentSize"]);return a.default.createElement(f.default,t)}).withConfig({displayName:"UIFileAttachment__StyledAttachment_Close"})(["flex-shrink:0;color:",";right:10px;top:10px;vertical-align:text-top;",";"],y.EERIE,function(e){return"small"===e.attachmentSize&&(0,i.css)(["align-self:center;margin-left:auto;margin-right:0;position:static;"])});R.displayName="StyledAttachment_Close";var k=s.default.div.withConfig({displayName:"UIFileAttachment__StyledAttachment"})(["display:",";padding:",";",";",";background-color:",";border:1px solid ",";color:",";font-weight:",";max-width:100%;position:relative;padding-right:",";"],function(e){return"small"===e.size?"flex":"inline-flex"},function(e){return"small"===e.size?"8px 12px":"12px"},(0,g.setBorderRadius)(),(0,g.setFontSize)(O.fontSize),y.GYPSUM,y.KOALA,function(e){return"processing"===e.use?y.EERIE:y.HEFFALUMP},v.WEB_FONT_DEMI_BOLD_WEIGHT,function(e){return"large"===e.size&&"32px"}),A=function(e){var t=e.fileType;return a.default.createElement(p.default,{className:"align-self-end",name:"application/pdf"===t?"pdfFile":"file"})};A.propTypes={fileType:o.default.string};function I(e){var t=e.closeable,r=e.use,o=e.size,i=e.children,s=e.renderPreview,u=e.fileName,l=e.fileInfo,c=(e.fileType,e.onCloseClick),d=E(e,["closeable","use","size","children","renderPreview","fileName","fileInfo","fileType","onCloseClick"]),f=(0,b.toLonghandSize)(o),p=m.render(s,e,{mergeType:"none"}),g=a.default.createElement(x,{size:o,fileInfo:l});return a.default.createElement(k,n({},d,{size:f,use:r}),i&&a.default.createElement(M,{size:f},i),a.default.createElement(C,{size:f},a.default.createElement(w,{size:f},p),a.default.createElement(S,{size:f},"small"===f?a.default.createElement(h.default,{useFlex:!0,fixedChildren:g},u):a.default.createElement(h.default,{useFlex:!0},u),"small"!==f&&g)),t&&a.default.createElement(R,{className:"private-attachment__close",onClick:c,size:"small",attachmentSize:f}))}I.propTypes={children:o.default.node,closeable:o.default.bool.isRequired,onCloseClick:o.default.func,use:o.default.oneOf(P),size:o.default.oneOfType([(0,b.propTypeForSizes)(["sm","lg"]),o.default.oneOf(["auto"])]).isRequired,fileName:o.default.node.isRequired,fileInfo:o.default.node,fileType:o.default.string,renderPreview:m.propType};I.defaultProps={closeable:!1,use:"default",size:"large",renderPreview:A};I.displayName="UIFileAttachment";e.exports=t.default},1428:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=d;var o=l(r(7)),a=l(r(3)),i=l(r(929)),s=r(1429),u=l(r(305));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function d(e){var t=e.align,r=e.children,o=e.className,l=e.collapsed,d=e.spacing,f=c(e,["align","children","className","collapsed","spacing"]);l&&u.default.warn({message:'UIMedia: the `collapsed` prop is deprecated in favor of `spacing="none"` and may be removed in the future.',key:"UIMedia: collapsed prop deprecated"});return a.default.createElement("div",n({},f,{className:(0,i.default)("media","private-media",s.MEDIA_ALIGNMENT_TYPES[t],s.MEDIA_SPACING[d],{"private-media--collapsed":l},o)}),r)}d.displayName="UIMedia";d.propTypes={align:o.default.oneOf(Object.keys(s.MEDIA_ALIGNMENT_TYPES)),children:o.default.node.isRequired,collapsed:o.default.bool.isRequired,spacing:o.default.oneOf(Object.keys(s.MEDIA_SPACING)).isRequired};d.defaultProps={collapsed:!1,spacing:"small"};e.exports=t.default},1429:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MEDIA_ALIGNMENT_TYPES={start:"private-media--align-start",baseline:"private-media--align-baseline",center:"private-media--align-middle",end:"private-media--align-bottom",stretch:"private-media--align-stretch"},t.MEDIA_SPACING={none:"private-media--collapsed","extra-small":"private-media--spaced-xs",small:"",medium:"private-media--spaced-md",large:"private-media--spaced-lg","extra-large":"private-media--spaced-xl"}},1430:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=l;var o=s(r(7)),a=s(r(3)),i=s(r(929));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function l(e){var t=e.className,r=u(e,["className"]);return a.default.createElement("div",n({},r,{className:(0,i.default)("media-body","private-media__body",t)}))}l.displayName="UIMediaBody";l.propTypes={children:o.default.node};e.exports=t.default},1431:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=l;var o=s(r(7)),a=s(r(3)),i=s(r(929));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function l(e){var t=e.className,r=u(e,["className"]);return a.default.createElement("div",n({},r,{className:(0,i.default)("private-media__item","private-media__item--left",t)}))}l.displayName="UIMediaLeft";l.propTypes={children:o.default.node};e.exports=t.default},1432:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.propType=t.render=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=c(r(7)),a=r(3),i=c(a),s=r(4),u=c(r(21)),l=c(r(1042));function c(e){return e&&e.__esModule?e:{default:e}}var d={passive:function(e,t){return n({},t,e)},aggressive:function(e,t){return t},none:function(){return{}}},f={mergeType:"passive"};t.render=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n({},f,r).mergeType;(0,u.default)("passive"===o||"aggressive"===o||"none"===o,"CustomRenderer: invalid merge type (expected aggressive|passive|none, got "+o+")");return i.default.isValidElement(e)?(0,a.cloneElement)(e,d[o](e.props,t)):(0,s.isValidElementType)(e)?i.default.createElement(e,t):e},t.propType=o.default.oneOfType([l.default,o.default.node])},1433:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(7)),o=c(r(3)),a=c(r(926)),i=r(1035),s=r(968),u=r(1018),l=c(r(1061));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t,r){return"string"==typeof e?e:!0===e?"0 0 "+t+"px "+(0,i.rgba)(r,.5):void 0},f=(0,a.default)(l.default.PlainWrapper).withConfig({displayName:"UINanoProgress__NanoProgressTransitionWrapper"})(["transition:opacity 200ms ease;opacity:",";"],function(e){return e.closing?0:1}),p=a.default.div.withConfig({displayName:"UINanoProgress__Bar"})(["left:0;position:absolute;top:0;width:100%;z-index:",";"],u.MERCURY_LAYER);t.default=o.default.createClass({displayName:"UINanoProgress",propTypes:{animateOnComplete:n.default.bool,boxShadow:n.default.oneOfType([n.default.string,n.default.bool]),color:n.default.string,height:n.default.number,value:n.default.number},getDefaultProps:function(){return{animateOnComplete:!1,boxShadow:!0,color:s.SORBET,height:2,value:0}},render:function(){var e=this.props,t=e.animateOnComplete,r=e.boxShadow,n=e.className,a=e.color,i=e.height,s=e.value;return s>=0&&o.default.createElement(l.default,{duration:200,Wrapper:f,className:n},t&&s>=100?null:o.default.createElement(p,{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":s,role:"progressbar",style:{width:s+"%",background:a,boxShadow:d(r,3*i,a),height:i,transition:"all 200ms ease"}}))}});e.exports=t.default},1434:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=["PNG","GIF","JPEG","JPG"];t.fileIsImage=function(e){var t=e.name.split("."),r=t[t.length-1]||"";return-1!==n.indexOf(r.toUpperCase())}},1435:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.uploadedBytes=void 0;var n=r(774);t.uploadedBytes=function(e){var t=(0,n.getFile)(e),r=(0,n.getUploadProgress)(e);return t&&r?r/100*t.size:0}},1436:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getFileName=void 0;var n=a(r(116)),o=r(774);function a(e){return e&&e.__esModule?e:{default:e}}t.getFileName=function(e){var t=(0,o.getFile)(e);return(0,n.default)("name",t)||""}},1437:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getFileSize=void 0;var n=a(r(116)),o=r(774);function a(e){return e&&e.__esModule?e:{default:e}}t.getFileSize=function(e){var t=(0,o.getFile)(e);return(0,n.default)("size",t)||0}},1438:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=s(o),i=s(r(1106));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){c(t,a.default.Component);function t(e){u(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={imageDataUrl:""};return r}n(t,[{key:"componentDidMount",value:function(){this.processImageFile(this.props.imageFile)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.imageFile!==this.props.imageFile&&this.processImageFile(e.imageFile)}},{key:"shouldComponentUpdate",value:function(e,t){return t.imageDataUrl!==this.state.imageDataUrl}},{key:"processImageFile",value:function(e){var t=this,r=new FileReader;r.addEventListener("load",function(){t.setState({imageDataUrl:r.result})});r.readAsDataURL(e)}},{key:"render",value:function(){return a.default.createElement(i.default,{src:this.state.imageDataUrl})}}]);return t}();d.propTypes={imageFile:o.PropTypes.instanceOf(File).isRequired};t.default=d;e.exports=t.default},1439:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=f(o),i=f(r(929)),s=r(1440),u=r(1217),l=r(1441),c=f(r(1442)),d=f(r(950));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){m(t,o.Component);function t(){p(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=(0,l.getUseDefaultColor)(this.props.coloring)?null:(0,u.getAccentColor)(this.props.coloring);return a.default.createElement("div",{className:(0,i.default)({"m-right-3":this.props.mobile})},a.default.createElement(c.default,{accept:s.WHITELISTED_FILES,allowMultiple:this.props.allowMultiple,color:e,disabled:this.props.disabled,mobile:this.props.mobile,onClick:this.props.onAttachmentButtonClick,onSelectFiles:this.props.onSelectFiles,maxAttachmentFileSize:this.props.maxAttachmentFileSize}))}}]);return t}();g.propTypes={allowMultiple:o.PropTypes.bool,coloring:(0,d.default)("ColoringRecord"),disabled:o.PropTypes.bool,maxAttachmentFileSize:o.PropTypes.number.isRequired,mobile:o.PropTypes.bool,onAttachmentButtonClick:o.PropTypes.func,onSelectFiles:o.PropTypes.func};g.defaultProps={supportsMultipleAttachments:!1};t.default=g;e.exports=t.default},1440:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.WHITELISTED_FILES=["video/*","audio/*","application/json","application/vnd.ms-excel","application/vnd.ms-powerpoint","application/msword","application/ogg","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.text","image/gif","image/jpeg","image/jpg","image/png","image/tiff","text/calendar","text/css","text/csv","text/plain"]},1441:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getUseDefaultColor=void 0;var n=o(r(131));function o(e){return e&&e.__esModule?e:{default:e}}t.getUseDefaultColor=(0,n.default)(["useDefaultColor"])},1442:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=f(r(265)),a=f(r(1114)),i=r(3),s=f(i),u=f(r(5)),l=f(r(926)),c=f(r(1443)),d=f(r(1444));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=l.default.input.withConfig({displayName:"AttachmentPickerButton__HiddenInput"})(["display:none;"]),y=function(e){m(t,s.default.PureComponent);function t(e){p(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.inputRefCallback=function(e){r.inputRef=e};r.findInputNode=function(){return r.inputRef?u.default.findDOMNode(r.inputRef):null};r.clearInputNode=function(){var e=r.findInputNode();e&&(e.value="")};r.handlePickerClick=function(e){var t=r.findInputNode();t&&t.click();r.props.onClick(e)};r.onInputChange=function(e){var t=e.target.files;r.props.onSelectFiles({files:t});r.clearInputNode()};r.renderMaxFileSizeTooltip=function(){if(!r.props.mobile)return s.default.createElement(a.default,{message:"conversations-visitor-experience-components.fileSizeLimit",options:{size:o.default.formatSize(r.props.maxAttachmentFileSize)}})};r.inputRef=null;return r}n(t,[{key:"render",value:function(){return s.default.createElement(c.default,{color:this.props.color,disabled:this.props.disabled},s.default.createElement(d.default,{color:this.props.color,disabled:this.props.disabled,mobile:this.props.mobile,onClick:this.handlePickerClick,tooltip:this.renderMaxFileSizeTooltip()}),s.default.createElement(g,{accept:this.props.accept.join(","),"data-selenium-test":"visitor-attachment-file-input",disabled:this.props.disabled,innerRef:this.inputRefCallback,type:"file",multiple:this.props.allowMultiple,onChange:this.onInputChange}))}}]);return t}();y.propTypes={accept:i.PropTypes.arrayOf(i.PropTypes.string).isRequired,allowMultiple:i.PropTypes.bool.isRequired,color:i.PropTypes.string,disabled:i.PropTypes.bool,maxAttachmentFileSize:i.PropTypes.number.isRequired,mobile:i.PropTypes.bool,onClick:i.PropTypes.func,onSelectFiles:i.PropTypes.func.isRequired};y.defaultProps={accept:[],allowMultiple:!1,onClick:function(){}};t.default=y;e.exports=t.default},1443:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=l(o),i=l(r(926)),s=l(r(929)),u=r(816);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=40,h=i.default.div.withConfig({displayName:"MessageFooterButtonWrapper__ButtonWrapper"})(["align-items:center;background-color:rgba(",");border-radius:50%;display:flex;height:","px;justify-content:center;margin-right:3px;transition:all 0.5s ease;width:","px;&:not(.disabled):hover{background-color:rgba(",");}&:not(.disabled):active{background-color:rgba(",");}"],function(e){var t=e.color;return(0,u.hexToRgba)(t,0)},p,p,function(e){var t=e.color;return(0,u.hexToRgba)(t,.1)},function(e){var t=e.color;return(0,u.hexToRgba)(t,.4)}),m=function(e){f(t,a.default.PureComponent);function t(){c(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.color,n=e.disabled,o=(0,s.default)(this.props.classNames,{disabled:n});return a.default.createElement(h,{className:o,color:r},t)}}]);return t}();m.propTypes={children:o.PropTypes.node.isRequired,classNames:o.PropTypes.string,color:o.PropTypes.string.isRequired,disabled:o.PropTypes.bool.isRequired};m.defaultProps={disabled:!1};t.default=m;e.exports=t.default},1444:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=c(n),a=c(r(926)),i=c(r(265)),s=c(r(1219)),u=c(r(1050)),l=r(1445);function c(e){return e&&e.__esModule?e:{default:e}}var d=a.default.span.withConfig({displayName:"AttachButton__IconStyles"})(["font-size:",";"],function(e){return e.isMobile?l.mobileIconFontSize:void 0}),f=function(e){return o.default.createElement(s.default,{disabled:e.disabled,onClick:e.onClick,use:"link",style:{color:e.color},placement:"top left",tooltip:e.tooltip,"aria-label":i.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.attachment")},o.default.createElement(d,{isMobile:e.mobile},o.default.createElement(u.default,{className:"m-all-0",name:"attach"})))};f.propTypes={color:n.PropTypes.string,disabled:n.PropTypes.bool,mobile:n.PropTypes.bool,onClick:n.PropTypes.func.isRequired,tooltip:n.PropTypes.node};t.default=f;e.exports=t.default},1445:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.mobileIconFontSize="22px"},1446:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=h(o),i=h(r(926)),s=h(r(265)),u=h(r(1050)),l=h(r(1447)),c=r(1217),d=r(1445),f=h(r(950)),p=h(r(1443));function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=i.default.span.withConfig({displayName:"MessageFooterSendButton__IconStyles"})(["font-size:",";"],function(e){return e.isMobile?d.mobileIconFontSize:void 0}),b=function(e){y(t,o.Component);function t(){m(this,t);return g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"getSendButtonStyle",value:function(){var e=this.props.coloring,t=e.accentColor;return e.useDefaultColor?null:{color:t}}},{key:"render",value:function(){return a.default.createElement(p.default,{color:(0,c.getAccentColor)(this.props.coloring),disabled:this.props.disabled},a.default.createElement(l.default,{className:"chat-send-button",color:(0,c.getAccentColor)(this.props.coloring),disabled:this.props.disabled,use:"link",onClick:this.props.handlePublish,style:this.getSendButtonStyle(),"aria-label":s.default.text("conversations-visitor-experience-components.visitorExperienceAriaLabels.send")},a.default.createElement(v,{isMobile:this.props.mobile},a.default.createElement(u.default,{name:"send",className:"m-right-0"}))))}}]);return t}();b.propTypes={coloring:(0,f.default)("ColoringRecord"),disabled:o.PropTypes.bool,handlePublish:o.PropTypes.func,mobile:o.PropTypes.bool};b.defaultProps={supportsAttachments:!1,supportsMultipleAttachments:!1,handlePublish:null};t.default=b;e.exports=t.default},1447:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(926)),o=a(r(1219));function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,n.default)(o.default).withConfig({displayName:"SendButton"})(["padding-right:3px !important;padding-top:2px !important;"]);t.default=i;e.exports=t.default},1448:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(265)),o=r(3),a=d(o),i=d(r(929)),s=d(r(1449)),u=d(r(1129)),l=d(r(1453)),c=r(1150);function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,d(r(1466)).default)(s.default);function p(e){var t=e.disabled,r=e.error,o=e.messageText,s=e.onChange,d=e.onKeyDown,p=e.setEditorRef,h=e.showingHsBranding,m=e.validationMessage,g=(0,i.default)({"showing-branding":h});return a.default.createElement(c.ChatWidgetLocaleContextConsumer,null,function(e){return a.default.createElement(u.default,{grow:.95},a.default.createElement(l.default,{className:g,validationMessage:m,error:r},a.default.createElement(f,{className:"widget-textarea message-box",tabIndex:"0",innerRef:p,maxHeight:100,placeholder:n.default.text("conversations-visitor-experience-components.chatTextArea.placeholder",{locale:e}),shrink:!0,styled:!1,resize:!1,use:"default",disabled:t,onChange:s,onKeyDown:d,error:r,value:o})))})}p.propTypes={disabled:o.PropTypes.bool.isRequired,error:o.PropTypes.bool.isRequired,messageText:o.PropTypes.string.isRequired,onChange:o.PropTypes.func.isRequired,onKeyDown:o.PropTypes.func.isRequired,setEditorRef:o.PropTypes.func.isRequired,showingHsBranding:o.PropTypes.bool.isRequired,validationMessage:o.PropTypes.string.isRequired};t.default=p;e.exports=t.default},1449:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),a=y(r(7)),i=r(3),s=y(i),u=y(r(926)),l=r(1450),c=r(1034),d=y(r(1208)),f=y(r(1451)),p=y(r(1047)),h=y(r(1452)),m=y(r(1053)),g=y(r(1004));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function T(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var E=(0,u.default)(function(e){e.height,e.maxHeight;var t=T(e,["height","maxHeight"]);return s.default.createElement(h.default,t)}).withConfig({displayName:"UIExpandingTextArea__StyledTextArea"})(["max-height:"," !important;overflow:"," !important;&&{transition:none;}"],function(e){var t=e.maxHeight;return t<1/0&&(0,c.toPx)(t)},function(e){return e.height>e.maxHeight?"auto":"hidden"}),P=function(e){return{height:e}},O=function(e){_(t,i.PureComponent);function t(e){v(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.setHeight=function(e){var t=r.props,n=t.inputRef,o=t.minHeight,a=t.shrink,i=n.current;if(i){var s=(0,l.getTextHeight)(i),u=void 0;if(a)u=Math.max(o,s);else{var c=e?0:i.getBoundingClientRect().height;u=Math.max(o,s,c)}r.state.height!==u&&r.setState({height:u})}};r.state={height:null};r._getStyle=(0,m.default)(P);r._hasUpdated=!1;return r}o(t,[{key:"componentDidUpdate",value:function(e,t){if(t.height===this.state.height){this.setHeight(!this._hasUpdated);this._hasUpdated=!0}}},{key:"render",value:function(){var e=this.props,t=(e.inputWidth,e.minHeight,e.resize),r=e.shrink,o=T(e,["inputWidth","minHeight","resize","shrink"]),a=this.state.height;return s.default.createElement(E,n({},o,{resize:!r&&t,style:this._getStyle(a),height:a}))}}]);return t}();O.propTypes=n({},h.default.propTypes,{inputRef:p.default.isRequired,maxHeight:a.default.number.isRequired,minHeight:a.default.number.isRequired,shrink:a.default.bool.isRequired});O.defaultProps=n({},h.default.defaultProps,{maxHeight:1/0,minHeight:0,shrink:!1});O.displayName="UIExpandingTextArea";t.default=(0,g.default)((0,d.default)((0,f.default)(O)));e.exports=t.default},1450:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTextHeight=i;t.getTextWidth=s;var n=["-webkit-font-smoothing","border","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-image-outset","border-image-repeat","border-image-slice","border-image-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","box-sizing","font-family","font-size","font-style","font-variant","font-weight","line-height","margin","padding","padding-bottom","padding-left","padding-right","padding-top","white-space","word-break","word-spacing","word-wrap"],o=function(e,t,r){var o=window.getComputedStyle(e,null),a=document.createElement("width"===t?"pre":"span");n.forEach(function(e){a.style[e]=o[e]});a.style[t]=o[t];a.style.position="fixed";a.appendChild(document.createTextNode((null!=r?r:e.value||e.placeholder||"")+" "));return a},a=function(e,t,r){var n=document.body,a=o(e,t,r);n.appendChild(a);var i=a.getBoundingClientRect();n.removeChild(a);return i};function i(e,t){return a(e,"width",t).height}function s(e,t){return a(e,"height",t).width}},1451:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();t.default=function(e){var t=function(t){p(r,a.default.Component);function r(e){d(this,r);var t=f(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));t.measureInput=function(){var e=t.props.inputRef.current;if(e){var r=e.offsetWidth;r!==t.state.inputWidth&&t.setState({inputWidth:r})}};t.handleWindowResize=function(){(0,l.cancelIdleCallback)(t._resizeTimer);t._resizeTimer=(0,l.requestIdleCallback)(t.measureInput)};t.state={inputWidth:null};return t}o(r,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize);this.measureInput();(0,u.fontsLoaded)()||u.fontsLoadedPromise.then(this.measureInput)}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth===this.state.inputWidth&&this.measureInput(this)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize);(0,l.cancelIdleCallback)(this._resizeTimer)}},{key:"render",value:function(){return a.default.createElement(e,n({},this.props,{inputWidth:this.state.inputWidth}))}}]);return r}(),r=(0,i.default)(e);t.displayName="MeasureInput("+r+")";t.propTypes=e.propTypes;t.defaultProps=e.defaultProps;(0,s.attachWrappedComponent)(t,e);return t};var a=c(r(3)),i=c(r(1008)),s=r(1009),u=r(1270),l=r(1055);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}e.exports=t.default},1452:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),a=m(r(7)),i=r(3),s=m(i),u=m(r(929)),l=m(r(1004)),c=m(r(1208)),d=m(r(1209)),f=r(1207),p=m(r(1047)),h=r(1210);function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){b(t,i.PureComponent);function t(){y(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}o(t,[{key:"render",value:function(){var e=this.props,t=e.className,r=e.error,o=e.inputRef,a=e.resize,i=e.styled,l=e.use,c=e.value,d=g(e,["className","error","inputRef","resize","styled","use","value"]);return s.default.createElement(h.Consumer,null,function(e){var p=e.size,h=(0,u.default)("form-control","private-form__control","private-text-area",t,f.INPUT_SIZE_OPTIONS[p],f.USE_CLASSES[l],{"private-form__control--unstyled":!i,"private-form__control--error":r,"private-text-area--no-resize":!1===a,"private-text-area--vertical-resize":"vertical"===a,"private-text-area--horizontal-resize":"horizontal"===a});return s.default.createElement("textarea",n({},d,{className:h,ref:o,value:c}))})}}]);return t}();_.displayName="UITextArea";_.propTypes={cols:a.default.number,disabled:a.default.bool,error:a.default.bool,inputRef:p.default,placeholder:a.default.string,readOnly:a.default.bool,resize:a.default.oneOf(["vertical","horizontal",!0,!1]),rows:a.default.number,styled:a.default.bool.isRequired,use:a.default.oneOf(Object.keys(f.USE_CLASSES)),value:a.default.string};_.defaultProps={error:!1,resize:"vertical",styled:!0,value:""};t.default=(0,c.default)((0,d.default)((0,l.default)(_)));e.exports=t.default},1453:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=O(r(7)),a=r(3),i=O(a),s=O(r(926)),u=O(r(929)),l=O(r(305)),c=r(5),d=O(r(1454)),f=O(r(1455)),p=O(r(1456)),h=O(r(1003)),m=r(1019),g=r(1461),y=O(r(1465)),v=r(1010),b=r(1041),_=r(1024),T=r(1210),E=O(r(1044)),P=r(1018);function O(e){return e&&e.__esModule?e:{default:e}}function M(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var C=(0,s.default)(f.default).withConfig({displayName:"UIFormControl__InlineFormLabel"})(["&&{display:inline;}"]),w={small:"private-form__control--small",medium:""},S=function(e,t,r,n,o){return(0,u.default)("private-form__set",e,w[n],{"private-form__set--error":!!t,"private-form__set--no-label":!r,"private-form__set--flush":"flush"===o,"private-form__set--separated":"separated"===o})},x=function(e){for(var t=e,r=t.props.id;null==r;){try{t=a.Children.only(t.props.children)}catch(e){break}r=t.props.id}return r},R=function(e,t){var r=Object.keys(e).filter(function(t){return e[t]}).map(function(r){return e[r]?t+"-"+r:""});if(r.length>0)return r.join(" ")},k=function(e,t){var r=a.Children.only(t);return e||(r?x(r)||name:null)},A=function(e,t,r,o,i,s,u,l,c,d){var f=a.Children.only(r),p=f.props.required,h=!0===u||p,m={"aria-label":e,"aria-labelledby":t,required:h,"aria-invalid":!0===i?"true":void 0,"aria-required":h};x(f)||(m.id=d);i&&(m.error=!!i);c&&(m.disabled=!0);var g=R({validationMessage:l,help:s,description:o},m.id),y=n({},m,{"aria-describedby":g});return(0,a.cloneElement)(f,y)},I=function(e,t,r,n,o,s,c,f,h,m,g,y,v,b,_,T){n||e||t||a.Children.only(r).type===p.default||l.default.warn({message:"UIFormControl: For better accessibility, if you're going to omit `label`, please include an `aria-label` or `aria-labelledby` property.",key:"UIFormControl: add aria-label"});if(!n)return null;var E=a.Children.only(r).props,P=E.disabled,O=E.readOnly,M=i.default.createElement(_,{className:(0,u.default)(o,{"private-form__label--with-tooltip":!!h}),error:!!s,htmlFor:k(c,y),onClick:v,readOnly:P||O||b,required:f,ref:T},n);return h?i.default.createElement(d.default,{className:"private-form__help-tooltip",title:h,tooltipPlacement:m,tooltipProps:g},M):M},j=function(e,t,r){return e?i.default.createElement("span",{className:(0,u.default)("private-form__inlinehelp",t),id:R({help:e},r),tabIndex:-1},e):null},N=function(e,t,r){var n="private-form__validation";if(t){(0,y.default)({error:e,validationMessage:t});return i.default.createElement(g.Small,{className:n,id:R({validationMessage:t},r),tabIndex:-1,use:e?"error":"success"},t)}return null},L=function(e){return null==e?null:i.default.createElement(g.Small,{className:"private-form__counter"},e)},F=function(e,t){return e?i.default.createElement(g.Small,{className:"private-form__description",id:R({description:e},t),tabIndex:-1,use:"help"},e):null},U=i.default.createClass({displayName:"UIFormControl",propTypes:{"aria-label":o.default.string,"aria-labelledby":o.default.string,characterCount:o.default.node,children:o.default.node.isRequired,description:o.default.oneOfType([o.default.node,o.default.bool]),error:o.default.bool,FormLabel:(0,b.getPropType)(f.default),validationMessage:o.default.node,help:o.default.node,helpClassName:o.default.string,htmlFor:o.default.string,label:o.default.node,labelClassName:o.default.string,labelTooltip:o.default.node,required:o.default.bool.isRequired,tooltip:o.default.node,tooltipPlacement:o.default.oneOf(m.PLACEMENTS).isRequired,tooltipProps:d.default.propTypes.tooltipProps,_size:o.default.oneOf(Object.keys(w)),hovered:(0,v.hidden)(o.default.bool),verticalSeparation:o.default.oneOf(["flush","separated"])},getDefaultProps:function(){return{error:!1,FormLabel:C,required:!1,tooltipPlacement:"top",_size:"medium"}},getInitialState:function(){return{labelTarget:null}},UNSAFE_componentWillMount:function(){this._fallbackId="UIFormControl-"+(0,_.uniqueId)()},handleLabelClick:function(e){var t=document.getElementById(e.target.htmlFor);t&&-1===["BUTTON","INPUT","SELECT","TEXTAREA"].indexOf(t.tagName)&&t.click()},labelRefCallback:function(e){this.setState({labelTarget:(0,c.findDOMNode)(e)})},render:function(){var e=this,t=this.props,r=t["aria-label"],o=t["aria-labelledby"],a=t.characterCount,s=t.children,u=t.className,l=t.description,c=t.error,d=t.FormLabel,f=t.validationMessage,p=t.help,m=t.helpClassName,g=(t.hovered,t.htmlFor),y=t.label,v=t.labelClassName,b=t.labelTooltip,_=t.required,O=t.tooltip,C=t.tooltipPlacement,w=t.tooltipProps,x=t._size,R=t.verticalSeparation,k=M(t,["aria-label","aria-labelledby","characterCount","children","className","description","error","FormLabel","validationMessage","help","helpClassName","hovered","htmlFor","label","labelClassName","labelTooltip","required","tooltip","tooltipPlacement","tooltipProps","_size","verticalSeparation"]),U=this.state.labelTarget;return i.default.createElement(E.default,this.props,function(t){return i.default.createElement(T.FieldsetContextConsumer,null,function(T){var E=t.hovered,D=M(t,["hovered"]),B=S(u,c,y,x,R),H=A(r,o,s,l,c,p,_,f,T.disabled,e._fallbackId),q=H&&H.props&&H.props.id;return i.default.createElement("div",n({className:B},k,D),i.default.createElement("div",{className:"private-form__control-wrapper"},i.default.createElement("div",{className:"private-form__label-wrapper"},I(r,o,s,y,v,c,g,_,O,C,w,H,e.handleLabelClick,T.disabled,d,e.labelRefCallback),j(p,m,q)),i.default.createElement("div",{className:"private-form__input-wrapper"},i.default.createElement(h.default,{title:b,open:E||void 0,placement:"top right",autoPlacement:!1,targetAttachment:"top left",_insetAdjustment:-1*parseInt(P.INPUT_DEFAULT_PADDING_X,10),target:U},H)),i.default.createElement("div",{className:"private-form__meta"},i.default.createElement("div",{className:"private-form__messages"},N(c,f,q)),L(a)),F(l,q)))})})}});t.default=U;e.exports=t.default},1454:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=g;var o=f(r(7)),a=f(r(3)),i=f(r(929)),s=f(r(1003)),u=f(r(1050)),l=r(968),c=f(r(1136)),d=r(1010);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var h="on-dark",m="default";function g(e){var t=e.use,r=e.tooltipPlacement,o=e.tooltipProps,c=e.title,d=e.className,f=e.style,m=e.children,g=p(e,["use","tooltipPlacement","tooltipProps","title","className","style","children"]),y=t===h?l.OLAF:l.EERIE,v=(0,i.default)("private-help-icon",d,{"private-help-icon--inline":m});return a.default.createElement("span",{className:v,style:f},m,a.default.createElement(s.default,n({},o,{placement:r,title:c}),a.default.createElement(u.default,n({className:"private-help-icon__icon",name:"info",color:y},g))))}g.defaultProps={use:m};g.propTypes={size:u.default.propTypes.size,color:u.default.propTypes.color,use:o.default.oneOf([h,m]),tooltipPlacement:(0,d.notRequired)(s.default.propTypes.placement),tooltipProps:(0,c.default)(s.default),title:o.default.node.isRequired,children:o.default.node};g.displayName="UIHelpIcon";e.exports=t.default},1455:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=u(r(7)),a=u(r(3)),i=u(r(929)),s=r(1210);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var c={default:"",small:"private-form__label--small"};t.default=a.default.createClass({displayName:"UIFormLabel",propTypes:{children:o.default.node,error:o.default.bool.isRequired,htmlFor:o.default.string,readOnly:o.default.bool.isRequired,required:o.default.bool.isRequired},getDefaultProps:function(){return{error:!1,required:!1,readOnly:!1}},render:function(){var e=this.props,t=e.children,r=e.className,o=e.error,u=e.readOnly,d=e.required,f=l(e,["children","className","error","readOnly","required"]);return a.default.createElement(s.Consumer,null,function(e){var s=e.size;return a.default.createElement("label",n({},f,{className:(0,i.default)("private-form__label",c[s],r,{"private-form__label--readonly":u,"private-form__label--required":d,"error-msg":o})}),t)})}});e.exports=t.default},1456:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();r(997);var a=_(r(7)),i=r(3),s=_(i),u=_(r(929)),l=_(r(305)),c=_(r(1032)),d=r(1457),f=_(r(1458)),p=r(1024),h=r(1e3),m=r(1459),g=r(1048),y=r(1033),v=r(1210),b=_(r(1460));function _(e){return e&&e.__esModule?e:{default:e}}function T(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=function(e,t,r){null!=t||e||l.default.warn({message:"UICheckbox: `aria-label` is required if you don't define `children`.",key:"UICheckbox: aria-label required"});t&&e&&l.default.warn({message:"UICheckbox: `aria-label` should not be used with `children`.",key:"UICheckbox: aria-label & children"});return null==t?null:s.default.createElement("span",{className:(0,u.default)("private-checkbox__text",{"private-checkbox__text--small":"small"===r})},t)},C=(0,c.default)(function(){return s.default.createElement(f.default,{className:"private-checkbox__icon__inner"})}),w=(0,c.default)(function(){return s.default.createElement("svg",{role:"presentation",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},s.default.createElement("path",{className:"private-checkbox__icon__inner",d:"M 2 6 L12 6 L12 9 L2 9 L2 6 z"}))}),S=(0,c.default)(function(e){return s.default.createElement("span",{className:"private-checkbox__indicator",style:{color:e}},s.default.createElement("span",{className:"private-checkbox__icon private-checkbox__check"},C()),s.default.createElement("span",{className:"private-checkbox__icon private-checkbox__dash"},w()))}),x=function(e){O(t,i.Component);function t(){var e,r,o,a;E(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return a=(r=o=P(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.handleChange=function(e){var t=o.props,r=t.disabled,n=t.onChange,a=t.readOnly;r||a?e.preventDefault():n(e)},o.handleLabelClick=function(e){var t=o.props,r=t.checked,a=t.onChange;(0,h.isFirefox)()&&(0,m.isModifierPressed)(e)&&a(n({},e,{type:"change",target:{checked:!r}}))},r),P(o,a)}o(t,[{key:"render",value:function(){var e=this.props,t=e.alignment,r=e["aria-label"],o=e["aria-labelledby"],a=e.checked,i=e.children,l=e.className,c=e.color,f=e.description,h=e.descriptionLayout,m=e.disabled,v=e.id,b=e.indeterminate,_=e.inline,E=e.innerPadding,P=e.labelClassName,O=e.name,C=(e.onChange,e.readOnly),w=e.size,x=e.tabIndex,R=e.value,k=T(e,["alignment","aria-label","aria-labelledby","checked","children","className","color","description","descriptionLayout","disabled","id","indeterminate","inline","innerPadding","labelClassName","name","onChange","readOnly","size","tabIndex","value"]),A=this.context,I=A.size,j=A.disabled,N=f?(0,p.uniqueId)("checkbox-"):null,L=(0,y.toLonghandSize)(w||I),F=m||j,U=(0,u.default)("private-checkbox",d.ALIGNMENT_CLASSES[t],d.PADDING_OPTIONS[E],d.SIZE_OPTIONS[L],{"private-checkbox--disabled":F,"private-checkbox--readonly":C,"private-checkbox--inline":_,"private-checkbox--unlabeled":null==i,"private-checkbox--stack-contents":f&&"vertical"===h},l);return s.default.createElement("div",n({},k,{className:U}),s.default.createElement("label",{className:(0,u.default)("private-checkbox__label",P),onClick:this.handleLabelClick},s.default.createElement("span",{className:"private-checkbox__inner"},s.default.createElement("input",{"aria-describedby":N,"aria-label":r,"aria-labelledby":o,checked:a,className:(0,u.default)("private-checkbox__input sr-only",{indeterminate:b}),disabled:F,id:v,name:O,onChange:this.handleChange,readOnly:C,type:"checkbox",value:R,tabIndex:(0,g.getTabIndex)(C||m,x)}),S(c),M(r,i,L))),f&&s.default.createElement("span",{className:"private-checkbox__desc",id:N},f))}}]);return t}();x.contextType=v.FieldsetContext;x.propTypes={alignment:a.default.oneOf(Object.keys(d.ALIGNMENT_CLASSES)),"aria-label":a.default.string,"aria-labelledby":a.default.string,checked:a.default.bool,children:a.default.node,color:a.default.string,description:a.default.node,descriptionLayout:a.default.oneOf(["horizontal","vertical"]),disabled:a.default.bool,indeterminate:a.default.bool,inline:a.default.bool,innerPadding:a.default.oneOf(Object.keys(d.PADDING_OPTIONS)).isRequired,labelClassName:a.default.string,name:a.default.string,onChange:a.default.func,readOnly:a.default.bool,size:a.default.oneOfType([(0,y.propTypeForSizes)(["sm"]),a.default.oneOf(["default"])]),value:a.default.any};x.defaultProps={alignment:"start",checked:!1,descriptionLayout:"vertical",innerPadding:"default"};x.displayName="UICheckbox";t.default=(0,b.default)(x);e.exports=t.default},1457:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.ALIGNMENT_CLASSES={start:"",baseline:"private-checkbox--align-baseline",center:"private-checkbox--align-center",end:"private-checkbox--align-end"},t.PADDING_OPTIONS={default:"",none:"private-checkbox--flush"},t.SIZE_OPTIONS={default:"",small:"private-checkbox--small"}},1458:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=i;var o=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return o.default.createElement("svg",{role:"presentation",viewBox:"0 0 15 15.343",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("path",n({},e,{d:"M1.013 8.11c0-.223.078-.412.234-.568l1.14-1.14c.155-.155.345-.233.568-.233s.413.077.57.233l2.46 2.47 5.492-5.5c.156-.156.346-.234.568-.234.224 0 .413.077.57.233l1.138 1.14c.156.155.234.345.234.568 0 .224-.078.414-.234.57l-6.06 6.06-1.14 1.14c-.155.155-.345.233-.568.233s-.413-.078-.57-.234l-1.138-1.14-3.03-3.03c-.156-.156-.234-.346-.234-.57z"})))}i.displayName="UICheckmark";e.exports=t.default},1459:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=0;t.isLeftClick=function(e){var t=e.button,r=e.altKey,o=e.ctrlKey,a=e.shiftKey,i=e.metaKey;return t===n&&!(r||o||a||i)},t.stopPropagationHandler=function(e){e&&e.stopPropagation()},t.preventDefaultHandler=function(e){e&&e.preventDefault()},t.isModifierPressed=function(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}},1460:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();t.default=m;var a=c(r(7)),i=c(r(3)),s=c(r(1008)),u=r(1001),l=r(1009);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e){var t=function(t){h(r,i.default.Component);function r(t){f(this,r);var n=p(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));n.handleChange=function(e){var t=n.props.onChange;n.setState({checked:e.target.checked});(0,u.callIfPossible)(t,e)};n.state={checked:t.defaultChecked};n._refCallback=(0,l.makeDecoratorRefCallback)(e,n);return n}o(r,[{key:"render",value:function(){var t=this.props,r=t.checked,o=(t.onChange,d(t,["checked","onChange"]));return i.default.createElement(e,n({},o,{checked:null!=r?r:this.state.checked,onChange:this.handleChange,ref:this._refCallback}))}}]);return r}();t.propTypes=n({},e.propTypes,{checked:a.default.bool,defaultChecked:a.default.bool,onChange:a.default.func});t.defaultProps=n({},e.defaultProps,{defaultChecked:!(!e.defaultProps||null==e.defaultProps.checked)&&e.defaultProps.checked});delete t.defaultProps.checked;t.displayName="Checkable("+(0,s.default)(e)+")";(0,l.attachWrappedComponent)(t,e);return t}e.exports=t.default},1461:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.HR=t.Small=t.Pre=t.Code=t.Big=void 0;var n=u(r(1462)),o=u(r(1463)),a=u(r(1464)),i=u(r(1125)),s=u(r(1124));function u(e){return e&&e.__esModule?e:{default:e}}t.Big=n.default;t.Code=o.default;t.Pre=a.default;t.Small=i.default;t.HR=s.default},1462:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=c;var o=s(r(3)),a=s(r(929)),i=s(r(1126));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var l=function(e){return(0,a.default)("private-big",e)};function c(e){var t=e.className,r=u(e,["className"]);return o.default.createElement(i.default,n({},r,{className:l(t)}))}c.propTypes=n({},i.default.propTypes);c.defaultProps=n({},i.default.defaultProps);c.displayName="Big";e.exports=t.default},1463:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=i(r(3)),a=i(r(929));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var u=function(e){var t=e.className,r=s(e,["className"]);return o.default.createElement("code",n({},r,{className:(0,a.default)(t,"private-code")}))};t.default=u;u.displayName="Code";e.exports=t.default},1464:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=s(r(7)),a=s(r(3)),i=s(r(929));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var l=function(e){var t=e.className,r=e.use,o=u(e,["className","use"]);return a.default.createElement("pre",n({},o,{className:(0,i.default)(t,{"private-pre--code":"code"===r})}))};l.propTypes={use:o.default.oneOf(["default","code"])};l.defaultProps={use:"default"};l.displayName="Pre";t.default=l;e.exports=t.default},1465:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=a;var n=o(r(305));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.validationMessage,r=e.error;t&&!r&&n.default.warn({message:"UIFormControl: Use of `error={false}` with `validationMessage` is discouraged.",url:"https://git.hubteam.com/HubSpot/UIComponents/issues/4597",key:"UIFormControl: `error={false}` with `validationMessage`"})}e.exports=t.default},1466:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){r.push(i.value);if(t&&r.length===t)break}}catch(e){o=!0;a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=r(3),i=l(a),s=l(r(5)),u=r(1467);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var d=function(){},f=function(e){return function(t){var r=t.innerRef,l=void 0===r?d:r,f=t.onBlur,p=void 0===f?d:f,h=t.onFocus,m=void 0===h?d:h,g=c(t,["innerRef","onBlur","onFocus"]),y=(0,a.useRef)(null);(0,a.useEffect)(function(){l(y.current)},[y,l]);var v=(0,a.useState)(null),b=o(v,2),_=b[0],T=b[1],E=function(e){if(_&&e.target!==_){if(y.current){var t=s.default.findDOMNode(y.current);t&&t.blur()}T(null);return!1}return Boolean(_)};(0,u.useTouchListener)(E);var P=function(e){T(null);p(e)},O=function(e){e.target&&T(e.target);m(e)};return i.default.createElement(e,n({},g,{ref:y,onFocus:O,onBlur:P}))}};f.propTypes={innerRef:a.PropTypes.func.isRequired,onBlur:a.PropTypes.func.isRequired,onFocus:a.PropTypes.func.isRequired};t.default=f;e.exports=t.default},1467:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.useTouchListener=void 0;var n=r(3);t.useTouchListener=function(e){(0,n.useEffect)(function(){var t=function(t){if(e(t)){t.stopPropagation();t.preventDefault()}};document.addEventListener("touchmove",t,{passive:!1});return function(){document.removeEventListener("touchmove",t)}},[e])}},1468:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=h(r(1421)),a=h(r(563)),i=r(3),s=h(i),u=r(1469),l=r(300),c=h(r(950)),d=r(1364),f=r(42),p=r(1387);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){y(t,i.PureComponent);function t(e){m(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.publishTypingMessage=(0,a.default)(r.props.publishTypingMessage,u.SEND_TYPING_MESSAGE_DEBOUNCE_MS,{leading:!0,trailing:!1,maxWait:u.SEND_TYPING_MESSAGE_DEBOUNCE_MS});r.onChatInputChanged=r.onChatInputChanged.bind(r);r.onPublishMessage=r.onPublishMessage.bind(r);r.onSelectAttachmentFiles=r.onSelectAttachmentFiles.bind(r);r.onRemoveAttachment=r.onRemoveAttachment.bind(r);return r}n(t,[{key:"onChatInputChanged",value:function(){var e=this.props,t=e.currentConversation,r=e.disablePublish,n=e.showInitialMessageBubble;r||this.publishTypingMessage({thread:t});n&&this.props.closeInitialMessageBubble()}},{key:"onPublishMessage",value:function(e){var t=e.text,r=e.richText,n=e.quickReply,o=this.props,a=o.messagesPageUri,i=o.publishMessage,s=o.stagedAttachments;this.publishTypingMessage.cancel();i({text:t,richText:r,quickReply:n,url:a,fileAttachment:(0,p.buildFileAttachment)(s)})}},{key:"onSelectAttachmentFiles",value:function(e){var t=e.files;if(t&&t.length){var r=this.props,n=r.onSelectAttachmentFile,o=r.currentConversation;if(r.supportsMultipleAttachments)Array.from(t).forEach(function(e){n({file:e,thread:o})});else{var a=t.item(0);n({file:a,thread:o})}}}},{key:"onRemoveAttachment",value:function(e){var t=e.attachment,r=this.props,n=r.currentConversation,o=r.onRemoveAttachment;o({attachment:t,thread:n})}},{key:"render",value:function(){var e=this.props,t=e.coloring,r=e.currentConversation,n=e.disablePublish,a=e.disableTextInput,i=e.networkOffline,u=e.showingHsBranding,c=e.stagedAttachments,f=e.supportsMultipleAttachments;return s.default.createElement(o.default,{coloring:t,chatInputChanged:this.onChatInputChanged,disabled:a,disablePublish:n,maxAttachmentFileSize:d.MAX_FILE_SIZE,networkOffline:i,onSelectAttachmentFiles:this.onSelectAttachmentFiles,onRemoveAttachment:this.onRemoveAttachment,publishMessage:this.onPublishMessage,showingHsBranding:u,stagedAttachments:c,supportsAttachments:(0,l.isPersistedThread)(r),supportsMultipleAttachments:f})}}]);return t}();v.displayName="MessageEditorWrapper";v.propTypes={closeInitialMessageBubble:i.PropTypes.func.isRequired,coloring:(0,c.default)("ColoringRecord").isRequired,currentConversation:(0,c.default)("Conversation"),disablePublish:i.PropTypes.bool.isRequired,disableTextInput:i.PropTypes.bool.isRequired,messagesPageUri:i.PropTypes.string,networkOffline:i.PropTypes.bool.isRequired,onRemoveAttachment:i.PropTypes.func.isRequired,onSelectAttachmentFile:i.PropTypes.func.isRequired,publishMessage:i.PropTypes.func.isRequired,publishTypingMessage:i.PropTypes.func.isRequired,showInitialMessageBubble:i.PropTypes.bool.isRequired,showingHsBranding:i.PropTypes.bool.isRequired,stagedAttachments:i.PropTypes.instanceOf(f.List),supportsMultipleAttachments:i.PropTypes.bool.isRequired};t.default=v;e.exports=t.default},1469:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SEND_TYPING_MESSAGE_DEBOUNCE_MS=5e3},1476:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.applyGdprConsent=void 0;var n=i(r(38)),o=r(1287),a=r(1414);function i(e){return e&&e.__esModule?e:{default:e}}t.applyGdprConsent=function(){return function(e,t){(0,a.shouldRecordImplicitConsentToProcess)(t())&&e((0,o.consentToProcess)());return n.default.Promise.resolve()}}},1480:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.WEB="WEB",t.API="API",t.UNKNOWN="UNKNOWN",t.MOBILE="MOBILE"},1481:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.trackSendMessage=void 0;var n=r(251);t.trackSendMessage=function(e){var t=e.threadId;return function(e){var r={};"number"==typeof t&&(r.threadId=t);e((0,n.trackInteraction)("send-message",r))}}},1482:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.buildVisitorCommonMessage=void 0;var n=r(166),o=f(r(352)),a=r(324),i=r(315),s=r(162),u=r(226),l=r(633),c=r(346),d=r(243);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}t.buildVisitorCommonMessage=function(e){var t,r=e.clientType,f=e.fileAttachment,h=e.quickReply,m=e.richText,g=e.senderId,y=e.text,v=e.thread,b=(0,d.getSource)(v),_=(0,i.toCmfSender)(n.VISITOR),T=(0,a.getSenderKeyFromType)(_),E=[];f&&E.push(f);h&&E.push(new o.default(h));return(0,c.buildCommonMessage)({status:{source:b,messageStatus:l.SENT},clientType:r,attachments:E,text:y,richText:m,id:(0,u.generateUuid)(),sender:(t={},p(t,s.MESSAGE_TYPE_ID,_),p(t,T,g),t)})}},1483:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.publishVisitorMessage=b;var n=r(243),o=r(1480),a=r(1484),i=r(1476),s=r(469),u=r(300),l=r(812),c=r(1359),d=r(535),f=r(1481),p=r(1482),h=r(236),m=r(1489),g=r(538),y=r(1491),v=r(1494);function b(e){var t=e.text,r=e.richText,b=e.quickReply,_=e.fileAttachment;return function(e,T){var E=(0,d.getSelectedThread)(T()),P=(0,u.isPersistedThread)(E),O=(0,n.getChannel)(E),M=(0,n.getThreadId)(E),C=(0,l.getMessagesUtk)(T()),w=(0,g.getMessagesPageUri)(T()),S=(0,p.buildVisitorCommonMessage)({clientType:o.WEB,fileAttachment:_,quickReply:b,richText:r,senderId:C,text:t,thread:E});e((0,c.clearAttachments)(M));e((0,f.trackSendMessage)({threadId:M}));if(!P){e((0,h.stageMessageOnStubbedThread)(S));return e((0,a.createNewThread)())}if((0,y.shouldRecordUrlContextUpdate)(T(),{threadId:M})){e((0,s.publishMessage)({channel:O,message:(0,m.buildUrlContextUpdateMessage)(w),threadId:M})).done();e((0,v.updateThreadCurrentUrl)({threadId:M,currentUrl:w}))}return e((0,s.publishMessage)({channel:O,message:S,threadId:M})).then(function(){return e((0,i.applyGdprConsent)())})}}},1484:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.createNewThread=P;var n=b(r(393)),o=r(237),a=r(239),i=r(689),s=r(1293),u=r(538),l=r(482),c=r(1485),d=r(329),f=r(251),p=r(1291),h=r(812),m=r(1290),g=r(1487),y=r(521),v=r(1488);function b(e){return e&&e.__esModule?e:{default:e}}var _=(0,o.createAction)(y.CREATE_NEW_THREAD.STARTED),T=(0,o.createAction)(y.CREATE_NEW_THREAD.SUCCEEDED),E=(0,o.createAction)(y.CREATE_NEW_THREAD.FAILED);function P(){return function(e,t){var r=(0,l.getSessionId)(t()),o=(0,s.getMessageId)(t()),y=(0,u.getMessagesPageUri)(t()),b=(0,p.getHubspotUtk)(t());e(_());return(0,g.createVisitorThread)({sessionId:r,hubspotUtk:b,messageId:o,messagesPageUri:y,visitorThreadInitialHistory:(0,d.getVisitorInitialThreadHistory)(t())}).then(function(r){var o=r.channel,s=r.sessionId,u=r.id,l=r.history,d=new n.default({messages:l}),p=(0,c.buildCreatedThread)({channel:o,messagesPageUri:y,threadId:u,threadHistory:d});e((0,m.updateSessionId)(s));e((0,f.trackInteraction)("start-conversation",{action:"new conversation started",threadId:u}));e(T({channel:o,threadId:u,conversation:p,threadHistory:d}));e((0,a.addAvailabilityMessage)({channel:o,threadId:u}));e((0,v.postConversationStartedEvent)({thread:p}));e((0,i.handleStoreMessagesCookie)((0,h.getMessagesUtk)(t())))}).catch(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(E({status:t.status,message:t.message,error:t}))})}}},1485:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.buildCreatedThread=void 0;var n=s(r(476)),o=r(540),a=r(541),i=r(1486);function s(e){return e&&e.__esModule?e:{default:e}}t.buildCreatedThread=function(e){var t=e.channel,r=e.messagesPageUri,s=e.threadHistory,u=e.threadId;return(0,a.buildConversation)({channel:t,currentUrl:r,latestSessionStartedAt:Date.now(),source:o.LIVE_CHAT,status:n.default.STARTED,threadId:u}).set("latestMessage",(0,i.findLastConversationalMessage)(s))}},1486:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.findLastConversationalMessage=void 0;var n=u(r(648)),o=u(r(133)),a=r(113),i=r(392),s=r(247);function u(e){return e&&e.__esModule?e:{default:e}}t.findLastConversationalMessage=function(e){(0,i.threadHistoryInvariant)(e);return(0,o.default)(s.getMessages,(0,n.default)(a.isConversationalMessage),function(e){return e&&e.last()})(e)}},1487:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.createVisitorThread=i;var n=a(r(34)),o=a(r(497));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.sessionId,r=e.messageId,a=e.hubspotUtk,i=e.messagesPageUri,s=e.visitorThreadInitialHistory;return o.default.post("livechat-public/v1/thread/visitor",{query:{sessionId:t,welcomeMessageId:r,hubspotUtk:a,portalId:n.default.get()},data:{visitorThreadInitialHistory:s},headers:{"X-HubSpot-Messages-Uri":i}})}},1488:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.postConversationStartedEvent=void 0;var n=r(555),o=r(557),a=r(705);t.postConversationStartedEvent=function(e){var t=e.thread;return function(e){e((0,n.postExternalApiEvent)({eventType:o.CONVERSATION_STARTED,payload:{conversation:(0,a.serializeThreadForExternalEvent)(t)}}))}}},1489:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.buildUrlContextUpdateMessage=l;var n=s(r(361)),o=r(162),a=r(1490),i=r(226);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function l(e){var t;return new n.default({contexts:u({},a.ENTRY_URL,(t={},u(t,o.MESSAGE_TYPE_ID,a.ENTRY_URL),u(t,"url",e),t)),id:(0,i.generateUuid)(),timestamp:Date.now()})}},1490:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.CHATFLOW="CHATFLOW",t.ENTRY_URL="ENTRY_URL",t.CUSTOM="CUSTOM",t.CONTEXT_TYPE_ID="@type",t.CONNECTED_CRM_OBJECT="CONNECTED_CRM_OBJECT",t.CONNECTED_ACCOUNT="CONNECTED_ACCOUNT"},1491:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRecordUrlContextUpdate=void 0;var n=r(168),o=r(1492),a=r(538);t.shouldRecordUrlContextUpdate=(0,n.createSelector)([o.getCurrentUrlByThreadId,a.getMessagesPageUri],function(e,t){return e!==t})},1492:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentUrlByThreadId=void 0;var n=r(168),o=r(276),a=r(1493);t.getCurrentUrlByThreadId=(0,n.createSelector)([o.getThreadByThreadId],a.getCurrentUrl)},1493:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentUrl=void 0;var n=o(r(116));function o(e){return e&&e.__esModule?e:{default:e}}t.getCurrentUrl=(0,n.default)("currentUrl")},1494:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.updateThreadCurrentUrl=void 0;var n=r(237),o=r(798);t.updateThreadCurrentUrl=(0,n.createAction)(o.UPDATE_THREAD_CURRENT_URL,function(e){return{currentUrl:e.currentUrl,threadId:e.threadId}})},1502:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.canPublish=void 0;var n=r(168),o=c(r(116)),a=r(330),i=r(670),s=r(470),u=r(586),l=r(329);function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,o.default)("subscriptions");t.canPublish=(0,n.createSelector)([l.getAsyncStagedThread,s.getAsyncPubSubClient,u.hasPersistedThreads,d],function(e,t,r,n){return!(0,a.isStarted)(e)&&(!(!(0,a.isUninitialized)(e)||r)||(!!(r&&(0,i.isClientReady)(t)&&(0,a.isSucceeded)(n))||!!((0,a.isSucceeded)(e)&&(0,i.isClientReady)(t)&&(0,a.isSucceeded)(n))))})},1504:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getUnpublishedMessagesForCurrentThread=void 0;var n=r(171),o=r(289),a=r(168),i=r(1397),s=r(302),u=r(328);t.getUnpublishedMessagesForCurrentThread=(0,a.createSelector)([u.getUnpublishedMessages,i.getCurrentThreadId],function(e,t){var r=(0,o.getEntries)(e).map(n.getData);return(0,s.getSortedMessagesByThreadId)(r,t)})},1513:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getSuccessfulFileAttachments=void 0;var n=r(171),o=r(330),a=r(289),i=r(42),s=r(168),u=c(r(488)),l=r(492);function c(e){return e&&e.__esModule?e:{default:e}}t.getSuccessfulFileAttachments=(0,s.createSelector)([l.getResolvedAttachments],function(e){return e&&(0,a.getEntries)(e).size?(0,a.getEntries)(e).reduce(function(e,t,r){return t&&r&&(0,o.isSucceeded)(t)?(0,u.default)(String(r),(0,n.getData)(t),e):e},(0,i.Map)()):(0,i.Map)()})},1524:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.hasUnansweredQuickReplyMessage=void 0;var n=r(168),o=r(471),a=r(113),i=r(279),s=r(391),u=r(246),l=r(255);t.hasUnansweredQuickReplyMessage=(0,n.createSelector)([i.historyDataForThread,l.getIsBot],function(e,t){if(!e||!(0,s.hasMessages)(e))return!1;var r=(0,u.getMessages)(e).filter(function(e){return(0,a.isChatMessage)(e)||(0,a.isInitialMessage)(e)}).last(),n=(0,o.getQuickReply)(r);return Boolean(n&&t)})},1543:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRequireConsentToCommunicate=void 0;var n=r(168),o=r(1544),a=r(170);t.shouldRequireConsentToCommunicate=(0,n.createSelector)([a.getLatestWidgetData],function(e){return(0,o.gdprConsentToCommunicateEnabled)(e)})},1544:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.gdprConsentToCommunicateEnabled=void 0;var n=i(r(133)),o=r(810),a=r(1545);function i(e){return e&&e.__esModule?e:{default:e}}t.gdprConsentToCommunicateEnabled=(0,n.default)(o.getMessage,a.getGdprConsentToCommunicateEnabled)},1545:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getGdprConsentToCommunicateEnabled=void 0;var n=a(r(131)),o=r(176);function a(e){return e&&e.__esModule?e:{default:e}}t.getGdprConsentToCommunicateEnabled=(0,n.default)(o.GDPR_CONSENT_TO_COMMUNICATE_ENABLED)},1546:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRequireExplicitCookieConsent=void 0;var n=r(168),o=r(1547),a=r(170);t.shouldRequireExplicitCookieConsent=(0,n.createSelector)([a.getLatestWidgetData],function(e){return(0,o.gdprExplicitCookieConsentEnabled)(e)})},1547:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.gdprExplicitCookieConsentEnabled=void 0;var n=i(r(133)),o=r(810),a=r(1548);function i(e){return e&&e.__esModule?e:{default:e}}t.gdprExplicitCookieConsentEnabled=(0,n.default)(o.getMessage,a.getGdprExplicitCookieConsentEnabled)},1548:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getGdprExplicitCookieConsentEnabled=void 0;var n=a(r(131)),o=r(176);function a(e){return e&&e.__esModule?e:{default:e}}t.getGdprExplicitCookieConsentEnabled=(0,n.default)(o.GDPR_EXPLICIT_COOKIE_CONSENT_ENABLED)},1565:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getAllowUserInput=void 0;var n=r(168),o=r(279),a=r(113),i=r(246),s=r(471),u=r(391);t.getAllowUserInput=(0,n.createSelector)([o.historyDataForThread],function(e){if(!e||!(0,u.hasMessages)(e))return!0;var t=(0,i.getMessages)(e).filter(function(e){return(0,a.isChatMessage)(e)||(0,a.isInitialMessage)(e)}).last();return(0,s.getQuickReplyAllowUserInput)(t)})},1572:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(3)),o=i(r(926)),a=i(r(1227));function i(e){return e&&e.__esModule?e:{default:e}}var s=o.default.div.withConfig({displayName:"ThreadHistoryError__ThreadHistoryErrorWrapper"})(["text-align:center;flex-grow:1;"]),u=function(){return n.default.createElement(s,null,n.default.createElement(a.default,null))};u.displayName="ThreadHistoryError";t.default=u;e.exports=t.default},1573:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=g(r(1574)),a=r(1577),i=g(r(950)),s=r(247),u=r(391),l=r(3),c=g(l),d=g(r(926)),f=g(r(1142)),p=g(r(929)),h=r(235),m=g(r(1572));function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=d.default.div.withConfig({displayName:"ThreadHistoryFetcher__LoadingDotsWrapper"})(["height:0;margin-top:12px;"]),T=(0,d.default)((0,a.withScrollTo)(o.default)).withConfig({displayName:"ThreadHistoryFetcher__ScrollToWrapper"})(["flex:1 1 100%;display:flex;flex-direction:column;align-self:stretch;overflow-y:scroll;overflow-x:hidden;"]),E=function(e){b(t,l.PureComponent);function t(e){y(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.scrollWrapper=(0,l.createRef)();r.fetchHistory=r.fetchHistory.bind(r);return r}n(t,[{key:"componentDidMount",value:function(){var e=this.scrollWrapper.current;e&&e.scrollToBottom();this.fetchHistory()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.threadId,n=t.messageCount,o=t.shouldScrollToBottom,a=t.isUngatedForEOC,i=e.threadId,s=e.messageCount,u=e.shouldScrollToBottom,l=this.scrollWrapper.current;if(r===i)if(s){n!==s&&l&&l.scrollToBottomIfInThreshold();o!==u&&l&&a&&l.scrollToBottomIfInThreshold()}else l&&l.scrollToBottom();else{this.fetchHistory();l&&l.scrollToBottom()}}},{key:"fetchHistory",value:function(){var e=this.props,t=e.fetchThreadHistory,r=e.threadId,n=e.threadHistory,o=e.sessionId;r!==h.STUBBED_THREAD_ID&&t({startTime:(0,s.getStartTimestamp)(n),threadId:r,sessionId:o})}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.isLoadingHistory,n=e.loadingHistoryFailed,o=e.threadId,a=e.threadHistory;if(r&&!(0,u.hasMessages)(a))return c.default.createElement(f.default,{grow:!0});if(n&&!(0,u.hasMessages)(a))return c.default.createElement(m.default,null);var i=(0,p.default)(this.props.className,"messages-scroll-container-utv");return c.default.createElement(T,{key:o,className:i,innerRef:this.scrollWrapper,onScrollToTop:this.fetchHistory},c.default.createElement(_,null,r&&c.default.createElement(f.default,{style:{height:0,marginTop:8},grow:!0})),t,c.default.createElement(_,null))}}]);return t}();E.propTypes={children:l.PropTypes.node.isRequired,className:l.PropTypes.string,fetchThreadHistory:l.PropTypes.func.isRequired,isLoadingHistory:l.PropTypes.bool,isUngatedForEOC:l.PropTypes.bool.isRequired,loadingHistoryFailed:l.PropTypes.bool,messageCount:l.PropTypes.number.isRequired,sessionId:l.PropTypes.string.isRequired,shouldScrollToBottom:l.PropTypes.bool.isRequired,threadHistory:(0,i.default)("ThreadHistory"),threadId:l.PropTypes.number.isRequired};E.displayName="ThreadHistoryFetcher";t.default=E;e.exports=t.default},1574:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.ON_SCROLL_THROTTLE=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=s(o),i=s(r(1575));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=t.ON_SCROLL_THROTTLE=100,f=function(e){c(t,o.PureComponent);function t(e){u(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={inTop:!0,inBottom:!0,height:0};r.scrollContainer=a.default.createRef();r.onResize=(0,i.default)(d,r.onResize.bind(r));r.onScroll=(0,i.default)(d,r.onScroll.bind(r));return r}n(t,[{key:"componentDidMount",value:function(){var e=this.scrollContainer.current;e&&this.setState({height:e.clientHeight});window.addEventListener("resize",this.onResize,{passive:!0})}},{key:"getSnapshotBeforeUpdate",value:function(){var e=this.scrollContainer.current;return e?{prevScrollTop:e.scrollTop}:null}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.scrollContainer.current;if(r&&n){var o=r.prevScrollTop;n.scrollTop===o&&t.height>this.state.height&&this.setScrollTop(n.scrollTop+(t.height-this.state.height))}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"onScroll",value:function(){var e=this.props,t=e.onScrollToTop,r=e.onScrollToBottom,n=this.inThreshold(),o=n.inTop,a=n.inBottom;!this.state.inTop&&o&&t();!this.state.inBottom&&a&&r();this.setState({inTop:o,inBottom:a})}},{key:"inThreshold",value:function(){var e=this.props,t=e.topThreshold,r=e.bottomThreshold;return{inTop:this.getScrollDistanceFromTop()<=t,inBottom:this.getScrollDistanceFromBottom()<=r}}},{key:"getScrollDistanceFromTop",value:function(){var e=this.scrollContainer.current;return e?e.scrollTop:0}},{key:"getScrollDistanceFromBottom",value:function(){var e=this.scrollContainer.current,t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight,o=e.offsetHeight;return r-(n||o)-t}},{key:"scrollToBottom",value:function(){var e=this.scrollContainer.current;e&&this.setScrollTop(e.scrollHeight)}},{key:"setScrollTop",value:function(e){var t=this.scrollContainer.current;t&&(t.scrollTop=e||0)}},{key:"onResize",value:function(){var e=this.scrollContainer.current;e&&this.setState({height:e.clientHeight||0})}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className;return a.default.createElement("div",{className:r,style:{flexGrow:1},ref:this.scrollContainer,onScroll:this.onScroll},t)}}]);return t}();f.displayName="ScrollWrapper";f.propTypes={bottomThreshold:o.PropTypes.number.isRequired,children:o.PropTypes.node,className:o.PropTypes.string,onScrollToBottom:o.PropTypes.func.isRequired,onScrollToTop:o.PropTypes.func.isRequired,topThreshold:o.PropTypes.number.isRequired};var p=function(){};f.defaultProps={bottomThreshold:300,onScrollToBottom:p,onScrollToTop:p,topThreshold:300};t.default=f},1575:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(117)),o=i(r(111)),a=i(r(1576));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){(0,a.default)(e);(0,o.default)(t);var r=void 0,n=void 0,i=0,u=null;function l(){if(null!==u){clearTimeout(u);u=null}}function c(){i=Date.now();n=t.apply(void 0,s(r))}function d(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];r=o;l();Date.now()-i>=e?c():u=setTimeout(c,e);return n}d.cancel=l;return d}t.default=(0,n.default)(u);e.exports=t.default},1576:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=n;function n(e){if("number"==typeof e&&e>=0)return e;throw new Error("expected `interval` to be a positive number but got `"+e+"`")}e.exports=t.default},1577:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.withScrollTo=t.AUTO_SCROLL_THRESHOLD=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),a=r(3),i=d(a),s=r(1578),u=r(1580),l=d(r(1574)),c=r(1581);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=t.AUTO_SCROLL_THRESHOLD=300;t.withScrollTo=function(e){(0,c.componentFunctionInvariant)(e,["getScrollDistanceFromTop","getScrollDistanceFromBottom","setScrollTop","scrollToBottom"]);var t=function(e){h(t,a.Component);function t(e){f(this,t);var r=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.scrollWrapperRef=(0,a.createRef)();r.scrollToMessage=r.scrollToMessage.bind(r);return r}o(t,[{key:"getSnapshotBeforeUpdate",value:function(){var e=this.scrollWrapperRef.current,t=(0,u.getLastDOMNodeMessageId)();if(!e||!t)return null;var r=(0,s.getDOMNodeByMessageId)(t);if(!r)return null;var n=e.getScrollDistanceFromTop();return{lastMessageId:t,lastMessageOffsetTop:r.offsetTop,prevScrollTop:n}}},{key:"componentDidUpdate",value:function(e,t,r){var n=this.scrollWrapperRef.current;if(r&&n){var o=r.lastMessageId,a=r.lastMessageOffsetTop,i=r.prevScrollTop;if(n.getScrollDistanceFromTop()===i){var u=(0,s.getDOMNodeByMessageId)(o);if(u&&u.offsetTop){var l=u.offsetTop-a;l&&n.setScrollTop(n.getScrollDistanceFromTop()+l)}}}}},{key:"scrollToMessage",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{alignment:"start"}).alignment,r=(0,s.getDOMNodeByMessageId)(e);e&&r&&r.scrollIntoView&&r.scrollIntoView("start"===t)}},{key:"scrollToBottom",value:function(){var e=this.scrollWrapperRef.current;e&&e.scrollToBottom()}},{key:"scrollToBottomIfInThreshold",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=this.scrollWrapperRef.current;t&&t.getScrollDistanceFromBottom()<=e&&t.scrollToBottom()}},{key:"render",value:function(){return i.default.createElement(l.default,n({ref:this.scrollWrapperRef},this.props))}}]);return t}();t.displayName="WithScrollTo";return t}},1578:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getDOMNodeByMessageId=void 0;var n=r(1579);t.getDOMNodeByMessageId=function(e){return document.querySelector("["+n.MESSAGE_ID_ATTR+'="'+e+'"]')}},1579:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MESSAGE_ID_ATTR="data-cv-message-history-id"},1580:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getLastDOMNodeMessageId=void 0;var n=r(1579);t.getLastDOMNodeMessageId=function(){var e=document.querySelector("["+n.MESSAGE_ID_ATTR+"]:last-child");return e&&e.getAttribute?e.getAttribute(n.MESSAGE_ID_ATTR):null}},1581:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.componentFunctionInvariant=void 0;var n=o(r(21));function o(e){return e&&e.__esModule?e:{default:e}}t.componentFunctionInvariant=function(e,t){var r=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var u=i.value;(0,n.default)(!!e.prototype[u],"Component missing required function %s",u)}}catch(e){o=!0;a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}}},1583:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getNonDefaultSource=t.getDisplayName=t.getStatus=t.getData=t.getSenderType=t.getLastName=t.getId=t.getFirstName=t.getEmail=t.getAvatar=void 0;var n=s(r(265)),o=s(r(131)),a=r(166),i=r(1584);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.getAvatar=(0,o.default)(i.AVATAR),l=t.getEmail=(0,o.default)(i.EMAIL),c=t.getFirstName=(0,o.default)(i.FIRST_NAME),d=(t.getId=(0,o.default)(i.ID),t.getLastName=(0,o.default)(i.LAST_NAME)),f=t.getSenderType=(0,o.default)(i.SENDER_TYPE);t.getData=(0,o.default)(i.DATA),t.getStatus=(0,o.default)(i.STATUS),t.getDisplayName=function(e){var t=c(e),r=d(e),o=l(e),i=f(e);return t&&r?t+" "+r:t||(o||(i===a.VISITOR?n.default.text("conversations-message-history.responder.unknownVisitorAvatar"):null))},t.getNonDefaultSource=function(e){var t=u(e);return t&&!t.includes("default")?t:null}},1584:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.AVATAR=["avatar"],t.DATA=["data"],t.EMAIL=["email"],t.FIRST_NAME=["firstName"],t.ID=["id"],t.LAST_NAME=["lastName"],t.SENDER_TYPE=["senderType"],t.STATUS=["status"]},1585:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=(0,r(42).Record)({avatar:null,email:null,firstName:null,id:null,lastName:null,senderType:null},"Sender");t.default=n;e.exports=t.default},1586:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getResponderAsSender=void 0;var n=r(614),o=s(r(1585)),a=r(616),i=r(168);function s(e){return e&&e.__esModule?e:{default:e}}t.getResponderAsSender=(0,i.defaultMemoize)(function(e,t,r){var i=(0,n.agentTypeToSenderType)((0,a.getAgentType)(e)||r);return new o.default({id:(0,a.getUserId)(e)||t,avatar:(0,a.getAvatar)(e),firstName:(0,a.getFirstName)(e),email:(0,a.getEmail)(e),lastName:(0,a.getLastName)(e),senderType:i})})},1588:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.buildSenderLocator=void 0;var n=r(166),o=a(r(1589));function a(e){return e&&e.__esModule?e:{default:e}}var i=[n.AGENT,n.BOT,n.SYSTEM,n.VISITOR];t.buildSenderLocator=function(e,t){i.includes(e)||console.warn("buildSenderLocator recevied invalid sender type "+e+" expected one of: "+i);return e===n.VISITOR?(0,o.default)({senderType:n.VISITOR}):(0,o.default)({senderType:e,senderId:t?""+t:null})}},1589:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42);t.default=(0,n.Record)({senderId:null,senderType:null},"SenderLocator");e.exports=t.default},1590:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getResponderKeyAsSenderLocator=void 0;var n=r(1588),o=r(649);t.getResponderKeyAsSenderLocator=function(e){return(0,n.buildSenderLocator)((0,o.getType)(e),(0,o.getId)(e))}},1592:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isSupportedMessageType=void 0;var n=c(r(767)),o=c(r(768)),a=r(326),i=r(1593),s=r(1594),u=r(303),l=r(166);function c(e){return e&&e.__esModule?e:{default:e}}t.isSupportedMessageType=function(e){if(e instanceof n.default||e instanceof o.default){e=(0,a.getMessage)(e);if((0,u.getSenderType)(e)!==l.VISITOR)return!1}if((0,i.isVisitorTypingMessage)(e))return!1;var t=(0,u.getType)(e);return Object.keys(s.MessageHistoryConfig).some(function(e){return e===t})}},1593:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isVisitorTypingMessage=void 0;var n=r(165),o=r(113);t.isVisitorTypingMessage=function(e){return(0,o.isTypingMessage)(e)&&(0,n.isFromVisitor)(e)}},1594:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MessageHistoryConfig=void 0;var n,o=r(1595),a=y(r(1596)),i=r(314),s=r(162),u=r(164),l=y(r(1643)),c=y(r(1661)),d=y(r(1668)),f=y(r(1690)),p=y(r(1702)),h=y(r(1705)),m=y(r(1719)),g=r(1722);function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}t.MessageHistoryConfig=(v(n={},u.ACTIVELY_PUBLISHING,d.default),v(n,s.CHAT_MESSAGE,m.default),v(n,i.COMMON_MESSAGE,(0,g.withConsent)(m.default)),v(n,o.DATE_MESSAGE,c.default),v(n,s.EMAIL_CAPTURE_PROMPT,f.default),v(n,u.FAILED_TO_PUBLISH,p.default),v(n,s.INITIAL_MESSAGE,(0,g.withConsent)(h.default)),v(n,s.OFFICE_HOURS,l.default),v(n,s.TYPICAL_RESPONSE_TIME,l.default),v(n,s.TYPING,a.default),n)},1595:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MESSAGE_TYPE_ID="@type",t.DATE_MESSAGE="DATE_MESSAGE"},1596:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=O(r(1597)),a=r(1608),i=O(r(1609)),s=O(r(1612)),u=r(1613),l=r(1583),c=r(1614),d=O(r(1616)),f=O(r(950)),p=r(303),h=r(166),m=r(3),g=O(m),y=O(r(1623)),v=O(r(1628)),b=O(r(1629)),_=O(r(1630)),T=O(r(1634)),E=O(r(1635)),P=O(r(1636));function O(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=function(e){w(t,m.PureComponent);function t(){M(this,t);return C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.message,r=e.positionDescriptors,n=e.senders,i=(0,p.getSenderId)(t),s=(0,p.getSenderType)(t),f=(0,p.getSenderType)(t)===h.VISITOR,m=(0,u.findSender)(i,s,n),O=(0,l.getData)(m),M=(0,c.isSenderLoading)(m),C=f?a.VISITOR:a.AGENT;return g.default.createElement(y.default,{positionDescriptors:r,use:C},g.default.createElement(T.default,null,g.default.createElement(v.default,null,g.default.createElement(o.default,{sender:O,isLoading:M})),g.default.createElement(E.default,null,g.default.createElement(P.default,{message:t,sender:O,isSenderLoading:M}))),g.default.createElement(b.default,null,g.default.createElement(_.default,null,g.default.createElement(d.default,null))))}}]);return t}();S.displayName="TypingIndicatorMessage";S.propTypes={message:(0,f.default)("PubNubMessageRecord").isRequired,positionDescriptors:i.default.isRequired,senders:s.default.isRequired};t.default=S;e.exports=t.default},1597:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=m(r(950)),a=m(r(1598)),i=r(968),s=r(3),u=m(s),l=m(r(926)),c=m(r(969)),d=m(r(1050)),f=r(1606),p=r(166),h=r(1583);function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(){},_=32,T=(0,l.default)(d.default).withConfig({displayName:"SenderAvatar__StyledUIIcon"})(["width:","px;height:","px;font-size:24px !important;text-align:center;line-height:","px;border-radius:","px;background-color:",";color:",";"],_,_,_,_/2,i.EERIE,i.OLAF),E=function(e){v(t,s.PureComponent);function t(e){g(this,t);var r=y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handleClick=r.handleClick.bind(r);return r}n(t,[{key:"handleClick",value:function(){var e=this.props;(0,e.onClick)(e.sender)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,r=e.sender,n=e.size;if(t)return u.default.createElement(a.default,{size:32});if(!r)return u.default.createElement(c.default,{size:n});switch((0,h.getSenderType)(r)){case p.BOT:return u.default.createElement(c.default,{size:n,src:(0,h.getAvatar)(r)||f.mrHubBot});case p.SYSTEM:return u.default.createElement(T,{name:"simpleBot"});default:return u.default.createElement("span",{onClick:this.handleClick},u.default.createElement(c.default,{type:"contact",size:n,src:(0,h.getAvatar)(r)}))}}}]);return t}();t.default=E;E.displayName="SenderAvatar";E.propTypes={isLoading:s.PropTypes.bool,onClick:s.PropTypes.func.isRequired,sender:(0,o.default)("Sender"),size:c.default.propTypes.size};E.defaultProps={onClick:b,size:"sm"};e.exports=t.default},1598:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=u(r(926)),a=u(r(1599)),i=r(1605),s=r(1603);function u(e){return e&&e.__esModule?e:{default:e}}var l=(0,o.default)(a.default).withConfig({displayName:"SkeletonCircle"})(["border-radius:50%;width:",";height:",";min-width:",";"],function(e){var t=e.size;return(0,s.getSize)(t)},function(e){var t=e.size;return(0,s.getSize)(t)},function(e){var t=e.size;return(0,s.getSize)(t)});l.defaultProps={size:i.CIRCLE_BASE_SIZE};l.propTypes={size:n.PropTypes.number};t.default=l;e.exports=t.default},1599:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=l(r(926)),a=r(1600),i=r(1603),s=r(1604),u=r(1602);function l(e){return e&&e.__esModule?e:{default:e}}var c=o.default.div.withConfig({displayName:"SkeletonBase"})(["margin:",";padding:",";",";",";"],function(e){var t=e.margin;return t?(0,i.getSize)(t):void 0},function(e){var t=e.padding;return t?(0,i.getSize)(t):void 0},function(e){var t=e.use;return(0,a.getBackground)({use:t})},function(e){return e.use!==u.BLANK&&s.animation});c.defaultProps={use:u.DEFAULT};c.propTypes={margin:n.PropTypes.oneOfType([n.PropTypes.number,n.PropTypes.string]),padding:n.PropTypes.oneOfType([n.PropTypes.number,n.PropTypes.string]),use:n.PropTypes.oneOf([u.DEFAULT,u.SHADE,u.DARK,u.BLANK])};t.default=c;e.exports=t.default},1600:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getBackground=void 0;var n=r(1601),o=r(1602),a=function(e){return n.COLOUR_MAPPINGS[e]};t.getBackground=function(e){var t=e.use;return t===o.BLANK?n.BLANK_BACKGROUND:(0,n.makeGradientBackground)(a(t))}},1601:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.makeGradientBackground=t.BLANK_BACKGROUND=t.COLOUR_MAPPINGS=void 0;var n,o=r(968),a=r(1602);function i(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}t.COLOUR_MAPPINGS=(i(n={},a.DEFAULT,{primary:o.GYPSUM,secondary:o.KOALA}),i(n,a.SHADE,{primary:o.KOALA,secondary:o.GYPSUM}),i(n,a.DARK,{primary:o.HEFFALUMP,secondary:o.SLINKY}),n),t.BLANK_BACKGROUND="\n  background: "+o.OLAF+";\n",t.makeGradientBackground=function(e){var t=e.primary;return"\n  background: "+t+";\n  background: linear-gradient(to right, "+t+", "+e.secondary+" 20%, "+t+" 40%);\n  background-size: 1200px;\n"}},1602:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT="default",t.BLANK="blank",t.SHADE="on-shade",t.DARK="on-dark"},1603:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return"number"==typeof e};t.getSize=function(e){return n(e)?e+"px":e}},1604:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.animation=void 0;var n="1s",o="linear",a="0s",i="infinite",s="forwards",u=700,l=(0,r(926).keyframes)(["0%{background-position:-","px 0}100%{background-position:","px 0}"],u,u);t.animation="\n  animation: "+l+" "+n+" "+o+" "+a+" "+i+" "+s+"\n"},1605:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.CIRCLE_BASE_SIZE=32,t.BOX_BASE_HEIGHT=15,t.BOX_BASE_WIDTH=40},1606:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1607);Object.defineProperty(t,"mrHubBot",{enumerable:!0,get:function(){return o(n).default}});function o(e){return e&&e.__esModule?e:{default:e}}},1607:function(e,t){e.exports="//static.hsappstatic.net/salesImages/static-1.404/messages/bot-avatar.svg"},1608:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.AGENT="agent",t.DEFAULT="default",t.VISITOR="visitor"},1609:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(1610),a=r(1611);t.default=(0,o.setOf)(n.PropTypes.oneOf([a.FIRST,a.FIRST_IN_GROUP,a.LAST_IN_GROUP,a.LAST]));e.exports=t.default},1610:function(e,t,r){"use strict";var n=r(42),o="<<anonymous>>",a={listOf:d,mapOf:p,orderedMapOf:h,setOf:m,orderedSetOf:g,stackOf:y,iterableOf:v,recordOf:b,shape:T,contains:T,mapContains:E,list:u("List",n.List.isList),map:u("Map",n.Map.isMap),orderedMap:u("OrderedMap",n.OrderedMap.isOrderedMap),set:u("Set",n.Set.isSet),orderedSet:u("OrderedSet",n.OrderedSet.isOrderedSet),stack:u("Stack",n.Stack.isStack),seq:u("Seq",n.Seq.isSeq),record:u("Record",function(e){return e instanceof n.Record}),iterable:u("Iterable",n.Iterable.isIterable)};function i(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof n.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function s(e){function t(t,r,n,a,i,s){for(var u=arguments.length,l=Array(u>6?u-6:0),c=6;c<u;c++)l[c-6]=arguments[c];s=s||n;a=a||o;return null!=r[n]?e.apply(void 0,[r,n,a,i,s].concat(l)):t?new Error("Required "+i+" `"+s+"` was not specified in `"+a+"`."):void 0}var r=t.bind(null,!1);r.isRequired=t.bind(null,!0);return r}function u(e,t){function r(r,n,o,a,s){var u=r[n];if(!t(u)){var l=i(u);return new Error("Invalid "+a+" `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected `"+e+"`.")}return null}return s(r)}function l(e,t,r){function n(n,o,a,s,u){for(var l=arguments.length,c=Array(l>5?l-5:0),d=5;d<l;d++)c[d-5]=arguments[d];var f=n[o];if(!r(f)){var p=s,h=i(f);return new Error("Invalid "+p+" `"+u+"` of type `"+h+"` supplied to `"+a+"`, expected an Immutable.js "+t+".")}if("function"!=typeof e)return new Error("Invalid typeChecker supplied to `"+a+"` for propType `"+u+"`, expected a function.");for(var m=f.toArray(),g=0,y=m.length;g<y;g++){var v=e.apply(void 0,[m,g,a,s,u+"["+g+"]"].concat(c));if(v instanceof Error)return v}}return s(n)}function c(e){function t(t,r,n,o,a){for(var i=arguments.length,s=Array(i>5?i-5:0),u=5;u<i;u++)s[u-5]=arguments[u];var l=t[r];if("function"!=typeof e)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+n+"` for propType `"+a+"`, expected a function.");for(var c=l.keySeq().toArray(),d=0,f=c.length;d<f;d++){var p=e.apply(void 0,[c,d,n,o,a+" -> key("+c[d]+")"].concat(s));if(p instanceof Error)return p}}return s(t)}function d(e){return l(e,"List",n.List.isList)}function f(e,t,r,n){function o(){for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return l(e,r,n).apply(void 0,a)||t&&c(t).apply(void 0,a)}return s(o)}function p(e,t){return f(e,t,"Map",n.Map.isMap)}function h(e,t){return f(e,t,"OrderedMap",n.OrderedMap.isOrderedMap)}function m(e){return l(e,"Set",n.Set.isSet)}function g(e){return l(e,"OrderedSet",n.OrderedSet.isOrderedSet)}function y(e){return l(e,"Stack",n.Stack.isStack)}function v(e){return l(e,"Iterable",n.Iterable.isIterable)}function b(e){function t(t,r,o,a,s){for(var u=arguments.length,l=Array(u>5?u-5:0),c=5;c<u;c++)l[c-5]=arguments[c];var d=t[r];if(!(d instanceof n.Record)){var f=i(d);return new Error("Invalid "+a+" `"+s+"` of type `"+f+"` supplied to `"+o+"`, expected an Immutable.js Record.")}for(var p in e){var h=e[p];if(h){var m=d.toObject(),g=h.apply(void 0,[m,p,o,a,s+"."+p].concat(l));if(g)return g}}}return s(t)}function _(e){var t=void 0===arguments[1]?"Iterable":arguments[1],r=void 0===arguments[2]?n.Iterable.isIterable:arguments[2];function o(n,o,a,s,u){for(var l=arguments.length,c=Array(l>5?l-5:0),d=5;d<l;d++)c[d-5]=arguments[d];var f=n[o];if(!r(f)){var p=i(f);return new Error("Invalid "+s+" `"+u+"` of type `"+p+"` supplied to `"+a+"`, expected an Immutable.js "+t+".")}var h=f.toObject();for(var m in e){var g=e[m];if(g){var y=g.apply(void 0,[h,m,a,s,u+"."+m].concat(c));if(y)return y}}}return s(o)}function T(e){return _(e)}function E(e){return _(e,"Map",n.Map.isMap)}e.exports=a},1611:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.FIRST="FIRST",t.FIRST_IN_GROUP="FIRST_IN_GROUP",t.LAST_IN_GROUP="LAST_IN_GROUP",t.LAST="LAST"},1612:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(950)),o=r(3),a=i(r(1610));function i(e){return e&&e.__esModule?e:{default:e}}t.default=a.default.mapOf(a.default.recordOf({data:(0,n.default)("Sender"),status:o.PropTypes.string.isRequired}),(0,n.default)("SenderLocator"));e.exports=t.default},1613:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.findSender=void 0;var n=a(r(110)),o=r(1588);function a(e){return e&&e.__esModule?e:{default:e}}t.findSender=(0,n.default)(function(e,t,r){return t?r.get((0,o.buildSenderLocator)(t,e)):null})},1614:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isSenderLoading=void 0;var n=i(r(110)),o=r(1583),a=r(1615);function i(e){return e&&e.__esModule?e:{default:e}}t.isSenderLoading=(0,n.default)(function(e){return!(0,o.getData)(e)&&(0,o.getStatus)(e)===a.STARTED})},1615:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.TYPE="@type",t.STARTED="STARTED",t.SUCCEEDED="SUCCEEDED"},1616:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.TypingDotsWrapper=t.Dot=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(1038),a=r(3),i=f(a),s=r(926),u=f(s),l=r(1617),c=r(1618),d=f(r(1619));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(0,s.keyframes)(["25%{background-color:",";}75%{background-color:",";}"],o.LOADING_INACTIVE_COLOR,o.LOADING_INACTIVE_COLOR),y=(0,s.keyframes)(["0%,100%{transform:translateY(0);}25%{transform:translateY(.25em);}50%{transform:translateY(0);}75%{transform:translateY(-.25em);}"]);(0,l.isIE11)()&&(y=(0,s.keyframes)(["0%,100%{top:0;}25%{top:.25em;}50%{top:0}75%{top:-.25em;}"]));var v=t.Dot=u.default.div.withConfig({displayName:"TypingDots__Dot"})(["position:relative;background-color:currentColor;color:",";border-radius:50%;height:1em;width:1em;animation:",",",";animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;&:not(:last-child){margin-right:0.75em;}&:nth-child(2){animation-delay:-0.66s;}&:nth-child(3){animation-delay:-0.33s;}"],function(e){return e.color?e.color:o.LOADING_DEFAULT_COLOR},y,g),b=t.TypingDotsWrapper=u.default.div.withConfig({displayName:"TypingDots__TypingDotsWrapper"})(["display:flex;align-items:center;justify-content:center;height:24px;font-size:8px;width:4.5em;"]),_=function(e){m(t,a.Component);function t(){p(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=(0,c.getWidgetAccent)(this.context);return i.default.createElement(b,null,i.default.createElement(v,{color:e,className:"dot-1"}),i.default.createElement(v,{color:e,className:"dot-2"}),i.default.createElement(v,{color:e,className:"dot-3"}))}}]);return t}();_.contextType=d.default;_.displayName="TypingDots";t.default=_},1617:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=window.navigator?navigator.userAgent.toLowerCase():"";t.isIE11=function(){return n.includes("trident/")>=0}},1618:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getWidgetAccent=t.getQuickReplyTheme=t.getFileAttachmentTheme=t.getTextColor=t.getMessageSpacing=t.getBorderWidth=t.getBorderRadius=t.getBorderColor=t.getBackgroundColor=t.getAvatarWidth=t.getAlignment=void 0;var n=o(r(116));function o(e){return e&&e.__esModule?e:{default:e}}t.getAlignment=(0,n.default)("alignItems"),t.getAvatarWidth=(0,n.default)("avatarWidth"),t.getBackgroundColor=(0,n.default)("backgroundColor"),t.getBorderColor=(0,n.default)("borderColor"),t.getBorderRadius=(0,n.default)("borderRadius"),t.getBorderWidth=(0,n.default)("borderWidth"),t.getMessageSpacing=(0,n.default)("messageSpacing"),t.getTextColor=(0,n.default)("textColor"),t.getFileAttachmentTheme=(0,n.default)("fileAttachmentTheme"),t.getQuickReplyTheme=(0,n.default)("quickReplyTheme"),t.getWidgetAccent=(0,n.default)("widgetAccent")},1619:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=a(r(1620));function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,n.createContext)((0,o.default)());t.default=i;e.exports=t.default},1620:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(1621)),o=r(968),a=r(42),i=s(r(1622));function s(e){return e&&e.__esModule?e:{default:e}}var u=(0,a.Record)({alignItems:"flex-start",avatarWidth:"32px",backgroundColor:o.KOALA,borderColor:o.BATTLESHIP,borderRadius:"4px",borderWidth:"1px",messageSpacing:"8px",textColor:o.HEFFALUMP,fileAttachmentTheme:(0,n.default)(),quickReplyTheme:(0,i.default)(),widgetAccent:o.HEFFALUMP},"Theme");t.default=u;e.exports=t.default},1621:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=(0,r(42).Record)({tileBackgroundColor:"rgba(255, 255, 255, 0.5)"},"FileAttachmentTheme");t.default=n;e.exports=t.default},1622:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42),o=r(968),a=(0,n.Record)({width:"auto",minHeight:36,borderColor:o.FLINT,whiteSpace:"normal",lineHeight:"1rem",color:o.FLINT},"QuickReplyTheme");t.default=a;e.exports=t.default},1623:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=b(r(1624)),a=b(r(1625)),i=b(r(1609)),s=r(3),u=b(s),l=b(r(926)),c=b(r(1626)),d=b(r(1619)),f=r(1618),p=b(r(1627)),h=r(1628),m=r(1629),g=r(1633),y=r(1634),v=r(1635);function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P="8px",O=l.default.div.withConfig({displayName:"PrimaryMessage__PrimaryMessageWrapper"})(["display:flex;flex-direction:column;align-items:",";padding-left:",";","{","{width:",";margin-left:-",";margin-right:",";}>:first-child{&","{margin-left:",";}}}","{margin-left:",";}","{margin-left:",";}"],function(e){return e.alignment||"flex-start"},P,y.PrimaryMessageHeaderWrapper,h.PrimaryMessageAvatarWrapper,function(e){return e.avatarWidth},P,P,v.PrimaryMessageHeaderContentWrapper,function(e){return e.avatarWidth},m.PrimaryMessageContentWrapper,function(e){return e.avatarWidth},g.PrimaryMessageFooterWrapper,function(e){return e.avatarWidth}),M=function(e){E(t,s.PureComponent);function t(){_(this,t);return T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.className,a=t.positionDescriptors,i=t.use;return r?u.default.createElement(p.default,{themeConfig:this.context,use:i},u.default.createElement(o.default,{positionDescriptors:a,className:n},u.default.createElement(d.default.Consumer,null,function(t){return u.default.createElement(O,{"data-test-id":e.props["data-test-id"],"data-test-use":i,alignment:(0,f.getAlignment)(t),avatarWidth:(0,f.getAvatarWidth)(t)},r)}))):null}}]);return t}();M.contextType=c.default;t.default=M;M.displayName="PrimaryMessage";M.propTypes={children:s.PropTypes.node,className:s.PropTypes.string,"data-test-id":s.PropTypes.string,positionDescriptors:i.default,use:a.default};e.exports=t.default},1624:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(926));function o(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.div.withConfig({displayName:"SpacingWrapper"})(["padding-top:4px;padding-bottom:4px;padding-left:10px;padding-right:10px;width:100%;"]);e.exports=t.default},1625:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(1608),a=n.PropTypes.oneOf([o.DEFAULT,o.AGENT,o.VISITOR]);t.default=a;e.exports=t.default},1626:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.defaultThemeConfig=void 0;var n,o=r(968),a=r(3),i=r(1608),s=u(r(1620));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}var c=t.defaultThemeConfig=(l(n={},i.DEFAULT,(0,s.default)()),l(n,i.AGENT,(0,s.default)()),l(n,i.VISITOR,(0,s.default)({backgroundColor:o.CALYPSO_LIGHT,borderColor:o.CALYPSO_MEDIUM,alignment:"flex-end"})),n),d=(0,a.createContext)(c);t.default=d},1627:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(1608),a=p(r(1625)),i=p(r(950)),s=r(3),u=p(s),l=p(r(21)),c=p(r(1620)),d=r(1626),f=p(r(1619));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){(0,l.default)(void 0===e||"object"===(void 0===e?"undefined":n(e)),"Invalid config type given");e&&Object.values(e).forEach(function(e){(0,l.default)(e instanceof c.default,"All themes in the configuration must be a `Theme` record. Found %s",void 0===e?"undefined":n(e))})},m=(0,s.memo)(function(e){var t=e.themeConfig,r=e.use,n=e.children;h(t);t=Object.assign({},d.defaultThemeConfig,t);var a=r?t[r]:t[o.DEFAULT]||(0,c.default)();return u.default.createElement(f.default.Provider,{value:a},n)});m.displayName="ThemeProvider";m.propTypes={children:s.PropTypes.node.isRequired,themeConfig:s.PropTypes.objectOf((0,i.default)("Theme")),use:a.default};t.default=m;e.exports=t.default},1628:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.PrimaryMessageAvatarWrapper=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=s(o),i=s(r(926));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=t.PrimaryMessageAvatarWrapper=i.default.div.withConfig({displayName:"PrimaryMessageAvatar__PrimaryMessageAvatarWrapper"})(["align-items:center;display:flex;flex-shrink:0;justify-items:center;margin-top:35px;"]),f=function(e){c(t,o.PureComponent);function t(){u(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.className;return a.default.createElement(d,{className:r},t)}}]);return t}();t.default=f;f.displayName="PrimaryMessageAvatar";f.propTypes={children:o.PropTypes.node.isRequired,className:o.PropTypes.string}},1629:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.PrimaryMessageContentWrapper=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=c(o),i=c(r(926)),s=c(r(1619)),u=r(1618),l=r(1630);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=t.PrimaryMessageContentWrapper=i.default.div.withConfig({displayName:"PrimaryMessageContent__PrimaryMessageContentWrapper"})(["position:relative;min-height:32px;word-break:break-word;box-sizing:border-box;border-style:solid;border-width:",";border-color:",";background-color:",";color:",";display:inline-flex;align-items:center;flex-direction:column;border-radius:",";","{border-top-style:solid;border-top-width:1px;border-top-color:",";&:first-child{border-top:none;}}max-width:284px;"],function(e){return e.borderWidth},function(e){return e.borderColor},function(e){return e.backgroundColor},function(e){return e.textColor},function(e){return e.borderRadius},l.PrimaryMessageContentSectionWrapper,function(e){return e.borderColor}),m=function(e){p(t,o.PureComponent);function t(e){d(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={expanded:!!e.isLastMessage};r.onCollapseButtonClick=r.onCollapseButtonClick.bind(r);r.expandMessage=r.expandMessage.bind(r);return r}n(t,[{key:"onCollapseButtonClick",value:function(){this.setState({expanded:!1})}},{key:"expandMessage",value:function(){this.state.expanded||this.setState({expanded:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className;return a.default.createElement(h,{className:r,backgroundColor:(0,u.getBackgroundColor)(this.context),borderColor:(0,u.getBorderColor)(this.context),borderRadius:(0,u.getBorderRadius)(this.context),borderWidth:(0,u.getBorderWidth)(this.context),textColor:(0,u.getTextColor)(this.context)},t)}}]);return t}();m.contextType=s.default;t.default=m;m.displayName="PrimaryMessageContent";m.propTypes={children:o.PropTypes.node,className:o.PropTypes.string,isLastMessage:o.PropTypes.bool}},1630:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.PrimaryMessageContentSectionWrapper=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=c(o),i=c(r(926)),s=c(r(1631)),u=c(r(1619)),l=r(1618);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=i.default.div.withConfig({displayName:"PrimaryMessageContentSection__PaddedArea"})(["padding:8px 16px;"]),m=i.default.div.withConfig({displayName:"PrimaryMessageContentSection__BlockPointerEvents"})(["pointer-events:",";"],function(e){return e.block?"none":"all"}),g=t.PrimaryMessageContentSectionWrapper=i.default.div.withConfig({displayName:"PrimaryMessageContentSection__PrimaryMessageContentSectionWrapper"})(["width:100%;button{width:auto;}"]),y=function(e){p(t,o.PureComponent);function t(e){d(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={expanded:!!e.isLastMessage};r.onCollapseButtonClick=r.onCollapseButtonClick.bind(r);r.expandMessage=r.expandMessage.bind(r);return r}n(t,[{key:"onCollapseButtonClick",value:function(){this.setState({expanded:!1})}},{key:"expandMessage",value:function(){this.state.expanded||this.setState({expanded:!0})}},{key:"renderContent",value:function(){var e=this.props,t=e.canExpand,r=e.children,n=this.state.expanded;return t?a.default.createElement(s.default,{gradientColor:(0,l.getBackgroundColor)(this.context),onCollapseButtonClick:this.onCollapseButtonClick,expanded:n,maxHeight:240},a.default.createElement(h,null,a.default.createElement(m,{block:!n},r))):a.default.createElement(h,null,r)}},{key:"render",value:function(){var e=this.props,t=e.canExpand,r=e.children,n=e.className;return a.default.Children.count(r)>0?a.default.createElement(g,{className:n},a.default.createElement("div",{onClick:t?this.expandMessage:function(){},className:"width-100 padding-x-4 padding-y-2"},this.renderContent())):null}}]);return t}();y.contextType=u.default;t.default=y;y.displayName="PrimaryMessageContentSection";y.propTypes={canExpand:o.PropTypes.bool,children:o.PropTypes.node,className:o.PropTypes.string,isLastMessage:o.PropTypes.bool}},1631:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=M(r(265)),i=M(r(926)),s=M(r(7)),u=M(r(3)),l=M(r(929)),c=r(997),d=r(1041),f=r(968),p=M(r(996)),h=r(1001),m=M(r(1004)),g=M(r(1012)),y=M(r(1144)),v=M(r(1143)),b=r(1270),_=r(1010),T=M(r(1632)),E=M(r(1050)),P=M(r(1053)),O=r(1055);function M(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=(0,i.default)(T.default).withConfig({displayName:"UIExpandableText__ExpandableTextOverhang"})(["",";"],function(e){return e.scrollable&&"\n    /* Compensate for border on scroll container */\n    right: 1px;\n    bottom: 1px;\n    left: 1px;\n  "});x.propTypes=o({},T.default.propTypes,{scrollable:s.default.bool.isRequired});x.defaultProps=T.default.defaultProps;var R=function(e){return{maxHeight:e}},k=function(e,t){return null!=t?16*t:e},A=function(e){S(t,u.default.Component);function t(e){C(this,t);var r=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.delayedFitToMaxLines=function(){(0,O.cancelSchedulerCallback)(r._timeout);r._timeout=(0,O.requestSchedulerCallback)(r.fitToMaxLines)};r.fitToMaxLines=function(){if(r._el){var e=r.props,t=e.maxHeight,n=e.maxHeightRems,o=r.state,a=o.collapsible,i=o.contentHeight,s=r._el.scrollHeight;i!==s&&r.setState({contentHeight:s});var u=s>k(t,n);a!==u&&r.setState({collapsible:u})}};r.handleExpandButtonClick=function(e){var t=r.props,n=t.onExpandButtonClick,o=t.onExpandedChange;(0,h.callIfPossible)(n,e);o((0,g.default)(!0))};r.handleCollapseButtonClick=function(e){var t=r.props,n=t.onCollapseButtonClick,o=t.onExpandedChange;(0,h.callIfPossible)(n,e);var a=r._el;a.style.maxHeight=a.scrollHeight+"px";o((0,g.default)(!1))};r.handleTextWrapperFocus=function(e){var t=r.props,n=t.expandOnFocus,o=t.onExpandedChange,a=t.toggleable;if(n&&a){if(!(0,c.isPageInKeyboardMode)()&&!/TEXTAREA|INPUT/.test(e.target.tagName))return;o((0,g.default)(!0))}};r.handleTextWrapperTransitionEnd=function(e){var t=r._el;if(e.target===t&&"max-height"===e.propertyName){var n=r.state,o=n.expanded,a=n.fullyExpanded;o&&!a&&r.setState({fullyExpanded:!0})}};r.textWrapperRefCallback=function(e){r._el=e};r.state={contentHeight:null,collapsible:!1,fullyExpanded:!1};r._getStyle=(0,P.default)(R);return r}n(t,[{key:"componentDidMount",value:function(){this.delayedFitToMaxLines();this.startMutationObserver();window.addEventListener("resize",this.delayedFitToMaxLines);this._el&&this._el.addEventListener("load",this.delayedFitToMaxLines,!0);(0,b.fontsLoaded)()||b.fontsLoadedPromise.then(this.delayedFitToMaxLines)}},{key:"UNSAFE_componentWillUpdate",value:function(){this.stopMutationObserver()}},{key:"componentDidUpdate",value:function(e,t){t.contentHeight===this.state.contentHeight&&t.collapsible===this.state.collapsible&&this.delayedFitToMaxLines();t.collapsible!==this.state.collapsible&&(0,h.callIfPossible)(this.props.onCollapsibleChange,this.state.collapsible);this.startMutationObserver()}},{key:"componentWillUnmount",value:function(){this.stopMutationObserver();(0,O.cancelSchedulerCallback)(this._timeout);window.removeEventListener("resize",this.delayedFitToMaxLines);this._el&&this._el.removeEventListener("load",this.delayedFitToMaxLines,!0)}},{key:"startMutationObserver",value:function(){if(this._el){this._observer=new MutationObserver(this.delayedFitToMaxLines);this._observer.observe(this._el,{attributes:!0,childList:!0,subtree:!0})}}},{key:"stopMutationObserver",value:function(){if(this._observer){this._observer.disconnect();this._observer=null}}},{key:"render",value:function(){var e=this.props,t=e.buttonAlign,r=e.children,n=e.className,o=e.collapseButtonText,a=e.expandButtonText,i=e.expanded,s=e.fadeOutHeight,c=e.fadeOutHeightRems,d=e.gradientColor,h=e.hideButtonCaret,m=e.maxHeight,g=e.maxHeightRems,v=e.onCollapseButtonClick,b=e.onExpandButtonClick,_=e.Overhang,T=e.scrollable,P=e.toggleable,O=e.use,M=this.state,C=M.collapsible,w=M.contentHeight,S=M.fullyExpanded,x=(0,l.default)(n,"private-expandable-text",{"private-expandable-text--scrollable":T}),R=(0,l.default)("private-expandable-text__toggle-button",{"align-left":"left"===t&&!T,"align-right":T}),A=i?w:k(m,g),I=P&&C?u.default.createElement(p.default,{"aria-hidden":i?!v:!b,className:R,onClick:i?this.handleCollapseButtonClick:this.handleExpandButtonClick,use:"link"},T||h?null:u.default.createElement(E.default,{color:f.CALYPSO,name:i?"up":"down"}),(0,y.default)(i?o:a)):null,j="on-dark"===O?f.GYPSUM:f.OLAF;return u.default.createElement("div",{className:"private-expandable-text__container","data-collapsible":C},T&&I,u.default.createElement("div",{className:"private-expandable-text__overhang-wrapper"},u.default.createElement("div",{className:x,onFocus:this.handleTextWrapperFocus,onTransitionEnd:this.handleTextWrapperTransitionEnd,ref:this.textWrapperRefCallback,style:S?null:this._getStyle(A)},r),C&&!i?u.default.createElement(_,{gradientColor:null!=d?d:j,scrollable:T,side:"bottom",size:k(s,c)}):null),!T&&I)}}]);return t}();A.propTypes={buttonAlign:s.default.oneOf(["left","center"]).isRequired,children:s.default.node.isRequired,collapseButtonText:(0,v.default)(s.default.node).isRequired,expandButtonText:(0,v.default)(s.default.node).isRequired,expanded:s.default.bool,expandOnFocus:s.default.bool.isRequired,fadeOutHeight:s.default.number.isRequired,fadeOutHeightRems:(0,_.hidden)(s.default.number),gradientColor:s.default.string,hideButtonCaret:s.default.bool.isRequired,maxHeight:s.default.number.isRequired,maxHeightRems:(0,_.hidden)(s.default.number),onCollapsibleChange:(0,_.hidden)(s.default.func),onCollapseButtonClick:s.default.func,onExpandButtonClick:s.default.func,onExpandedChange:s.default.func,Overhang:(0,d.getPropType)(x),scrollable:s.default.bool,toggleable:s.default.bool,use:s.default.oneOf(["default","on-dark"])};A.defaultProps={buttonAlign:"center",collapseButtonText:function(){return a.default.text("salesUI.UIExpandableText.collapseButtonText")},expandButtonText:function(){return a.default.text("salesUI.UIExpandableText.expandButtonText")},expanded:!1,expandOnFocus:!0,fadeOutHeight:32,hideButtonCaret:!1,maxHeight:80,Overhang:x,scrollable:!1,toggleable:!0,use:"default"};A.displayName="UIExpandableText";t.default=(0,m.default)(A,["expanded"]);e.exports=t.default},1632:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(7)),o=s(r(926)),a=r(968),i=r(1035);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return"top"===e||"bottom"===e},l=o.default.div.withConfig({displayName:"UIOverhang"})(["background-image:",";background-size:",";height:",";width:",";opacity:",";pointer-events:none;position:absolute;top:",";bottom:",";left:",";right:",";"],function(e){var t=e.gradientColor;return"linear-gradient(to "+e.side+", "+(0,i.rgba)(t,0)+", "+t+")"},function(e){var t=e.side,r=e.size;return u(t)?"100% "+r+"px}":r+"px 100%"},function(e){var t=e.side,r=e.size;return u(t)&&r+"px"},function(e){var t=e.side,r=e.size;return!u(t)&&r+"px"},function(e){return e.opacity},function(e){return"bottom"!==e.side&&0},function(e){return"top"!==e.side&&0},function(e){return"right"!==e.side&&0},function(e){return"left"!==e.side&&0});l.propTypes={gradientColor:n.default.string.isRequired,opacity:n.default.number.isRequired,side:n.default.oneOf(["top","bottom","left","right"]).isRequired,size:n.default.number.isRequired};l.defaultProps={gradientColor:a.KOALA,opacity:1,size:14};t.default=l;e.exports=t.default},1633:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.PrimaryMessageFooterWrapper=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=s(o),i=s(r(926));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=t.PrimaryMessageFooterWrapper=i.default.div.withConfig({displayName:"PrimaryMessageFooter__PrimaryMessageFooterWrapper"})(["display:flex;margin-top:4px;max-width:284px;"]),f=function(e){c(t,o.PureComponent);function t(){u(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.className;return a.default.createElement(d,{className:r},t)}}]);return t}();t.default=f;f.displayName="PrimaryMessageFooter";f.propTypes={children:o.PropTypes.node.isRequired,className:o.PropTypes.string}},1634:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.PrimaryMessageHeaderWrapper=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=s(o),i=s(r(926));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=t.PrimaryMessageHeaderWrapper=i.default.div.withConfig({displayName:"PrimaryMessageHeader__PrimaryMessageHeaderWrapper"})(["display:flex;height:16px;align-items:center;margin-top:4px;margin-bottom:4px;width:100%;"]),f=function(e){c(t,o.PureComponent);function t(){u(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.className;return a.default.createElement(d,{className:r},t)}}]);return t}();t.default=f;f.displayName="PrimaryMessageHeader";f.propTypes={children:o.PropTypes.node.isRequired,className:o.PropTypes.string}},1635:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.PrimaryMessageHeaderContentWrapper=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=s(o),i=s(r(926));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=t.PrimaryMessageHeaderContentWrapper=i.default.div.withConfig({displayName:"PrimaryMessageHeaderContent__PrimaryMessageHeaderContentWrapper"})(["margin-left:1px;min-width:0;"]),f=function(e){c(t,o.PureComponent);function t(){u(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.className;return a.default.createElement(d,{className:r},t)}}]);return t}();t.default=f;f.displayName="PrimaryMessageHeaderContent";f.propTypes={children:o.PropTypes.node.isRequired,className:o.PropTypes.string}},1636:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=c(r(1637)),a=c(r(950)),i=r(303),s=r(234),u=r(3),l=c(u);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){p(t,u.PureComponent);function t(){d(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.isSenderLoading,r=e.message,n=e.sender,a=(0,i.getTimestamp)(r),u=(0,i.getStatusSource)(r)||(0,s.getType)(r);return l.default.createElement(o.default,{timestamp:a,sender:n,isSenderLoading:t,statusSource:u})}}]);return t}();t.default=h;h.displayName="TypingHeaderContent";h.propTypes={isSenderLoading:u.PropTypes.bool,message:u.PropTypes.oneOfType([(0,a.default)("PubNubMessageRecord"),(0,a.default)("CommonMessage")]).isRequired,sender:(0,a.default)("Sender")};e.exports=t.default},1637:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.StyledUIIcon=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),a=_(r(950)),i=r(540),s=r(162),u=r(166),l=_(r(1638)),c=r(968),d=r(3),f=_(d),p=_(r(926)),h=_(r(1125)),m=_(r(1050)),g=_(r(1639)),y=_(r(1640)),v=r(1583),b=r(1642);function _(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function O(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}var M=(O(n={},s.CHAT_MESSAGE,"messages"),O(n,i.EMAIL,"email"),O(n,i.LIVE_CHAT,"messages"),n),C=t.StyledUIIcon=(0,p.default)(m.default).withConfig({displayName:"SenderHeaderContent__StyledUIIcon"})(["margin:0 6px;color:",";"],c.EERIE),w=function(e){P(t,d.PureComponent);function t(){T(this,t);return E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}o(t,[{key:"renderMetadata",value:function(){var e=this.props,t=e.statusSource,r=e.timestamp,n=e.sender,o=t!==s.TYPING&&(0,b.getHistoryFormattedTimestamp)(r);if(!o)return null;var a=(0,v.getSenderType)(n)===u.VISITOR?M[t]:null;return f.default.createElement("span",null,a?f.default.createElement(C,{name:a}):f.default.createElement(g.default,null),o)}},{key:"render",value:function(){var e=this.props,t=e.isSenderLoading,r=e.sender;return t?f.default.createElement(l.default,{width:150}):f.default.createElement(h.default,{use:"help"},f.default.createElement("strong",null,f.default.createElement(y.default,{sender:r})),this.renderMetadata())}}]);return t}();w.displayName="SenderHeaderContent";w.propTypes={isSenderLoading:d.PropTypes.bool,sender:(0,a.default)("Sender"),statusSource:d.PropTypes.string,timestamp:d.PropTypes.number};t.default=w},1638:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=l(o),i=l(r(926)),s=l(r(1599)),u=r(1603);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=i.default.div.withConfig({displayName:"SkeletonText__SkeletonTextWrapper"})(["position:relative;width:",";"],function(e){var t=e.width;return(0,u.getSize)(t)}),m=(0,i.default)(s.default).withConfig({displayName:"SkeletonText__SkeletonTextInner"})(["height:0.75em;left:0;position:absolute;top:50%;transform:translateY(-50%);width:100%;"]),g=function(e){p(t,a.default.PureComponent);function t(){d(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.width,r=c(e,["width"]);return a.default.createElement(h,{width:t}," ",a.default.createElement(m,r))}}]);return t}();g.defaultProps={width:"100%"};g.propTypes={width:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string])};t.default=g;e.exports=t.default},1639:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(3));function o(e){return e&&e.__esModule?e:{default:e}}var a=o(r(926)).default.span.withConfig({displayName:"Separator__SeparatorStyleWrapper"})(["margin:0 4px;"]),i=function(){return n.default.createElement(a,null,"•")};i.displayName="Separator";t.default=i;e.exports=t.default},1640:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=f(o),i=f(r(1114)),s=f(r(950)),u=f(r(1638)),l=r(148),c=f(r(1641)),d=r(1583);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){m(t,o.PureComponent);function t(){p(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"getUnknownSenderText",value:function(){switch((0,d.getSenderType)(this.props.sender)){case l.BOT:return a.default.createElement(i.default,{message:"conversations-message-history.responder.bot"});case l.AGENT:return a.default.createElement(i.default,{message:"conversations-message-history.responder.unknownResponder"});case l.VISITOR:return a.default.createElement(i.default,{message:"conversations-message-history.responder.unknownVisitor"});case l.SYSTEM:return a.default.createElement(i.default,{message:"conversations-message-history.responder.automatic"});default:return a.default.createElement(i.default,{message:"conversations-message-history.responder.unknownSender"})}}},{key:"render",value:function(){var e=this.props,t=e.sender;return e.isLoading?a.default.createElement(u.default,{width:100}):t&&(0,c.default)({givenName:(0,d.getFirstName)(t),familyName:(0,d.getLastName)(t),email:(0,d.getEmail)(t)})||this.getUnknownSenderText()}}]);return t}();t.default=g;g.displayName="SenderName";g.propTypes={isLoading:o.PropTypes.bool,sender:(0,s.default)("Sender")};e.exports=t.default},1641:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(618)),o=a(r(617));function a(e){return e&&e.__esModule?e:{default:e}}var i=["de","ja"];t.default=function(e,t){var r=e.givenName,a=e.familyName,s=e.email,u=t&&t.locale||(0,n.default)();return i.indexOf(u)>=0||!r?(0,o.default)({firstName:r,lastName:a,email:s},t):r};e.exports=t.default},1642:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHistoryFormattedTimestamp=void 0;var n=o(r(265));function o(e){return e&&e.__esModule?e:{default:e}}t.getHistoryFormattedTimestamp=function(e){return e?n.default.moment.userTz(e).format("LT"):null}},1643:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=d(r(1644)),a=r(1645),i=d(r(1660)),s=d(r(950)),u=r(303),l=r(3),c=d(l);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){h(t,l.PureComponent);function t(){f(this,t);return p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props.message;return(0,a.hasTextContent)(e)?c.default.createElement(o.default,{transparent:!0,labelPadding:"m-y-1"},c.default.createElement(i.default,{contentText:(0,u.getRichText)(e)||(0,u.getPlainText)(e)})):null}}]);return t}();m.displayName="AvailabilityMessage";m.propTypes={message:(0,s.default)("PubNubMessageRecord").isRequired};t.default=m;e.exports=t.default},1644:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.StyledBorder=void 0;var n,o=r(3),a=c(o),i=c(r(1125)),s=c(r(929)),u=c(r(926)),l=r(968);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}var f=t.StyledBorder=u.default.div.withConfig({displayName:"DashedLabel__StyledBorder"})(["display:flex;flex-grow:1;border:solid 1px ",";"],l.GREAT_WHITE);function p(e){var t=e.children,r=e.transparent,n=e["data-test-id"],o=e.labelPadding;return a.default.createElement("div",{className:(0,s.default)("display-flex align-end",{"justify-center":r,"m-y-6":!o},o),"data-test-id":n||"dashed-label"},!r&&a.default.createElement(f,{className:"m-bottom-3"}),a.default.createElement("div",{className:"max-100 p-x-4"},a.default.createElement(i.default,{use:"help",className:"m-bottom-1 align-center text-center word-break-break-word flex-column"},t)),!r&&a.default.createElement(f,{className:"m-bottom-3"}))}p.displayName="DashedLabel";p.propTypes=(d(n={children:o.PropTypes.node.isRequired},"data-test-id",o.PropTypes.string),d(n,"transparent",o.PropTypes.bool),n);t.default=p},1645:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.hasTextContent=void 0;var n=r(130),o=r(756),a=h(r(21)),i=h(r(110)),s=h(r(229)),u=h(r(348)),l=h(r(372)),c=h(r(228)),d=h(r(347)),f=h(r(371)),p=r(1646);function h(e){return e&&e.__esModule?e:{default:e}}var m=[c.default,s.default,d.default,u.default,f.default,l.default];t.hasTextContent=(0,i.default)(function(e){setTimeout(function(){(0,a.default)(m.some(function(t){return e instanceof t}),"hasTextContent: Unsupported message record type %s supplied",(0,o.getRecordName)(e))},0);var t=(0,n.getRichText)(e)||(0,n.getPlainText)(e);return Boolean(t)&&Boolean(t.length)&&Boolean((0,p.getEvaluatedTextContent)(t))})},1646:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getEvaluatedTextContent=void 0;var n=a(r(110)),o=r(1647);function a(e){return e&&e.__esModule?e:{default:e}}t.getEvaluatedTextContent=(0,n.default)(function(e){if(!e)return null;var t=document.createElement("div");t.innerHTML=(0,o.cleanEmail)(e);document.body.appendChild(t);var r=t.innerText;document.body.removeChild(t);return r})},1647:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.cleanEmail=void 0;var n=l(r(110)),o=r(1648),a=r(1652),i=r(1653),s=r(1654),u=r(1655);function l(e){return e&&e.__esModule?e:{default:e}}t.cleanEmail=(0,n.default)(function(e){var t=[o.removeOutlookLineBreaks,s.replaceGmailDivs,a.removeStyles,i.fixImages];return(0,u.sanitizeEmail)(e,t)})},1648:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeOutlookLineBreaks=void 0;var n=r(1649),o=function(e,t){return"p"===t&&e&&e.classList&&e.classList.contains("MsoNormal")&&e.children&&e.children.length},a=function(e){return e&&!e.children.legnth&&"o:p"===e.tagName.toLowerCase()&&e.innerHTML.includes("&nbsp;")},i=function(e){return e&&"span"===e.tagName.toLowerCase()&&a(e.firstElementChild)},s=function(e){return!!e.getElementsByTagName("img").length};t.removeOutlookLineBreaks=function e(t){var r=t.node,u=t.node_name;if(o(r,u)){var l=r.firstElementChild;if(a(l)||i(l)){if(s(r)){r.removeChild(l);return e({node:r,node_name:"p"})}return{node:n.secureDocument.createElement("br")}}var c=n.secureDocument.createElement("div");Object.keys(r.attributes).forEach(function(e){var t=r.attributes[e];c.setAttribute(t.nodeName,t.nodeValue)});c.innerHTML=r.innerHTML.trim().replace(/&nbsp;/g,"");return{node:c}}return null}},1649:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.sanitizeConfig=t.secureDocument=void 0;var n=r(1648),o=r(1650),a=r(1651),i=r(1652),s=r(1653),u=r(1654),l=t.secureDocument=document.implementation.createHTMLDocument("");t.sanitizeConfig={transformers:[n.removeOutlookLineBreaks,o.removeReply,a.removeSignature,i.removeStyles,u.replaceGmailDivs,s.fixImages],dom:l,elements:["b","blockquote","br","caption","cite","code","col","colgroup","dd","dl","dt","em","figure","h1","h2","h3","h4","h5","h6","i","img","li","ol","p","pre","q","small","strike","strong","sub","sup","table","tbody","td","tfoot","th","thead","tr","u","ul","font","div","span","a"],attributes:{__ALL__:["style","align","valign","width","height"],blockquote:["cite"],col:["span"],colgroup:["span"],figure:["style"],ol:["start","type"],q:["cite"],img:["title","alt","src"],table:["summary","bgcolor"],td:["abbr","axis","colspan","rowspan","bgcolor"],th:["abbr","axis","colspan","rowspan","scope","bgcolor"],ul:["type"],font:["size"],a:["href","title"],span:["data-at-mention","data-owner-id","contenteditable","data-email-reply"]},add_attributes:{a:{target:"_blank"}},remove_contents:["script"],protocols:{a:{href:["http","https"]}}}},1650:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeReply=t.REPLY_CLASSLIST=void 0;var n=r(1649),o=t.REPLY_CLASSLIST=["gmail_extra","gmail_quote","hs_reply","x_hs_reply_wrap"],a="divRplyFwdMsg",i=function(e,t){return t===a||e&&e.contains&&o.some(function(t){return e.contains(t)})};t.removeReply=function(e){var t=e.node,r=t.classList,o=t.id,a=t.attributes,s=void 0===a?[]:a;if(i(r,o)){var u=n.secureDocument.createElement("span");Object.keys(s).forEach(function(e){var t=s[e];u.setAttribute(t.nodeName,t.nodeValue)});u.innerHTML="";u.setAttribute("data-email-reply","");return{node:u}}return null}},1651:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeSignature=t.SIGNATURE_CLASSLIST=void 0;var n=r(1649),o=t.SIGNATURE_CLASSLIST=["hs_signature"],a=function(e){return e&&e.contains&&o.some(function(t){return e.contains(t)})};t.removeSignature=function(e){var t=e.node,r=t.classList,o=t.attributes,i=void 0===o?[]:o;if(a(r)){var s=n.secureDocument.createElement("span");Object.keys(i).forEach(function(e){var t=i[e];s.setAttribute(t.nodeName,t.nodeValue)});s.innerHTML="";s.setAttribute("data-email-signature","");return{node:s}}return null}},1652:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=t.BLACKLISTED_STYLES=["position","top","bottom","left","right","z-index","clear","float","background-image","white-space"];t.removeStyles=function(e){var t=e.node;if(t&&t.style&&t.style.length>0&&t.style.removeProperty){n.forEach(function(e){return t.style.removeProperty(e)});return{node:t}}return null}},1653:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fixImages=function(e){var t=e.node,r=e.node_name;if(t&&"img"===r&&t.attributes){t.attributes["data-original-height"]&&t.setAttribute("height",t.attributes["data-original-height"].value);t.attributes["data-original-width"]&&t.setAttribute("width",t.attributes["data-original-width"].value);t.attributes["data-full-size-src"]&&t.setAttribute("src",t.attributes["data-full-size-src"].value);return{node:t}}return null}},1654:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.replaceGmailDivs=void 0;var n=r(1649);t.replaceGmailDivs=function(e){var t=e.node;if("div"===e.node_name&&t&&t.classList&&t.classList.contains("gmail_default")){var r=n.secureDocument.createElement("span");Object.keys(t.attributes).forEach(function(e){var n=t.attributes[e];r.setAttribute(n.nodeName,n.nodeValue)});r.innerHTML=t.innerHTML.trim();return{node:r}}return null}},1655:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.sanitizeEmail=void 0;var n=l(r(110)),o=r(1656),a=r(1657),i=r(1658),s=r(1649),u=r(1659);function l(e){return e&&e.__esModule?e:{default:e}}var c=s.secureDocument.body;t.sanitizeEmail=(0,n.default)(function(e,t){var r=s.secureDocument.createElement("div");try{c.innerHTML=e;var n=Object.assign({},s.sanitizeConfig);n.transformers=t;var l=(0,o.buildSanitizer)(n).clean_node(c).cloneNode(!0);r.appendChild(l);(0,u.removeGmailLineBreak)(r)}catch(e){var d=(0,a.buildError)("Error sanitizing email message: "+e.message,e);(0,i.reportError)(d)}return r.innerHTML})},1656:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.buildSanitizer=void 0;var n=o(r(223));function o(e){return e&&e.__esModule?e:{default:e}}t.buildSanitizer=function(e){return new n.default(e)}},1657:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.buildError=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.assign.apply(Object,[new Error].concat(r,[{message:e}]))}},1658:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.reportError=function(e){setTimeout(function(){throw e},0)}},1659:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeGmailLineBreak=function(e){Array.from(e.querySelectorAll("br + [data-email-reply]")).forEach(function(e){var t=e.previousElementSibling;t&&t.nodeName&&"br"===t.nodeName.toLowerCase()&&t.classList&&t.classList.add("display-none")})}},1660:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.ContentTextWrapper=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=u(o),i=u(r(926)),s=r(221);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=t.ContentTextWrapper=i.default.div.withConfig({displayName:"ContentText__ContentTextWrapper"})(["word-wrap:break-word;box-sizing:border-box;width:100%;"]),p=function(e){d(t,o.PureComponent);function t(){l(this,t);return c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.contentText,r=e.onClickAction;return a.default.createElement(f,null,a.default.createElement("div",{"data-test-id":"primary-message-content",dangerouslySetInnerHTML:{__html:(0,s.clean)(t)},onClick:r}))}}]);return t}();t.default=p;p.displayName="ContentText";p.propTypes={contentText:o.PropTypes.string.isRequired,onClickAction:o.PropTypes.func};p.defaultProps={onClickAction:function(){}}},1661:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(1644),a=u(r(1662)),i=r(968),s=u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}var l=u(r(926)).default.div.withConfig({displayName:"DateLabel__StyleWrapper"})(["","{border-color:",";}"],o.StyledBorder,i.CIRRUS),c=function(e){return s.default.createElement(l,null,s.default.createElement(a.default,n({},e,{labelPadding:"m-y-3"})))};c.displayName="DateLabel";c.propTypes=a.default.propTypes;t.default=c;e.exports=t.default},1662:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=l(n),a=l(r(1644)),i=r(1663),s=r(1666),u=l(r(950));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,n.memo)(function(e){var t=e.message,r=e.labelPadding,n=(0,s.getTimestamp)(t);return o.default.createElement(a.default,{labelPadding:r},(0,i.getSimpleDateText)(n))});c.displayName="DateLabelMessage";c.propTypes={labelPadding:n.PropTypes.string,message:(0,u.default)("DateMessage").isRequired};t.default=c;e.exports=t.default},1663:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getSimpleDateText=s;var n=i(r(3)),o=i(r(1664)),a=i(r(1125));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=(0,o.default)(e,"userTz");return n.default.createElement(a.default,{use:"help"},t)}s.displayName="getSimpleDateText"},1664:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(1665));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return(0,n.default)({value:e,type:t,format:"MD",length:"m"})};e.exports=t.default},1665:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(265));function o(e){return e&&e.__esModule?e:{default:e}}var a={MY:"i18n.dateTime.monthAndYear",MD:"i18n.dateTime.monthAndDay"};t.default=function(e){var t=e.value,r=e.type,o=e.format,i=e.length,s=n.default.moment[r](t),u="";if("s"===i){var l=Object.keys(n.default.translations.en.i18n.dateTime.shortForm.months)[s.month()];u=n.default.text("i18n.dateTime.shortForm.months."+l,{locale:n.default.locale})}else u=s.format("MMMM");var c={monthName:u,locale:n.default.locale};"MD"===o?c.dayNumber=s.date():c.yearNumber=s.year().toString();return n.default.text(a[o],c)};e.exports=t.default},1666:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTimestamp=t.getId=void 0;var n=r(1667),o=a(r(131));function a(e){return e&&e.__esModule?e:{default:e}}t.getId=(0,o.default)(n.ID),t.getTimestamp=(0,o.default)(n.TIMESTAMP)},1667:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.ID=["id"],t.TIMESTAMP=["timestamp"]},1668:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(1611),a=r(1608),i=y(r(1609)),s=y(r(950)),u=r(326),l=y(r(1213)),c=r(42),d=r(3),f=y(d),p=y(r(1125)),h=y(r(1669)),m=y(r(1623)),g=y(r(1633));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=function(e){_(t,d.PureComponent);function t(){v(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.fileAttachments,r=e.message,n=e.positionDescriptors,i=(0,u.getMessage)(r),s=n.includes(o.LAST);return f.default.createElement(m.default,{positionDescriptors:n,use:a.VISITOR},f.default.createElement(h.default,{fileAttachments:t,isLastMessage:s,message:i}),s&&f.default.createElement(g.default,null,f.default.createElement(p.default,{use:"help"},f.default.createElement(l.default,{message:"conversations-visitor-message-history.status.publishing.UNPUBLISHED"}))))}}]);return t}();T.displayName="ActivelyPublishingMessage";T.propTypes={fileAttachments:d.PropTypes.instanceOf(c.List),message:(0,s.default)("ActivelyPublishing").isRequired,positionDescriptors:i.default.isRequired};t.default=T;e.exports=t.default},1669:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=M(r(1670)),a=M(r(1671)),i=r(1678),s=r(1645),u=M(r(1660)),l=M(r(950)),c=r(312),d=r(303),f=r(166),p=r(42),h=r(3),m=M(h),g=M(r(926)),y=M(r(1680)),v=r(1629),b=M(v),_=M(r(1630)),T=M(r(1619)),E=r(1618),P=r(1689),O=M(r(1422));function M(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=g.default.div.withConfig({displayName:"CommonMessageContent__HyperlinkStyleWrapper"})([""," a{color:",";text-decoration:",";&:hover{color:",";}&:active{color:",";}}"],v.PrimaryMessageContentWrapper,function(e){return e.hyperlinkColor},function(e){return e.showUnderline?"underline":"inherit"},function(e){var t=e.hyperlinkColor;return t&&(0,P.darken)(t)},function(e){var t=e.hyperlinkColor;return t&&(0,P.darken)(t,.2)}),R=function(e){S(t,h.PureComponent);function t(){C(this,t);return w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"isSentFromVisitor",value:function(){return(0,d.getSenderType)(this.props.message)===f.VISITOR}},{key:"isClickableLink",value:function(e){return new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?").test(e)}},{key:"handleOnClickEvent",value:function(e){e.persist();"A"===e.target.tagName&&this.props.toggleOpen(!1)}},{key:"renderContentText",value:function(){var e=this.props,t=e.message,r=e.mobile,n=(0,d.getRichText)(t)||(0,d.getPlainText)(t),o=r&&this.isClickableLink(n);if(!n)return null;var a=(0,d.getRichText)(t)&&O.default.link(n,{stripPrefix:!1});return m.default.createElement(u.default,{contentText:a||n,onClickAction:o?this.handleOnClickEvent.bind(this):null})}},{key:"renderMessageSection",value:function(){var e=this.props,t=e.fileAttachments,r=e.isLastMessage,n=e.message,o=!(0,c.isEmailCMF)(n)&&t&&(0,i.hasImageAttachments)(t),u=(0,s.hasTextContent)(n);return o||u?m.default.createElement(_.default,{isLastMessage:r},this.renderContentText(),o&&m.default.createElement(a.default,{fileAttachments:t})):null}},{key:"renderAttachmentsSection",value:function(){var e=this.props,t=e.fileAttachments,r=e.message,n=(0,c.isEmailCMF)(r)?t:(0,i.getNonImageAttachments)(t);return n&&n.size?m.default.createElement(_.default,null,m.default.createElement(y.default,{fileAttachments:n})):null}},{key:"render",value:function(){var e=this.renderMessageSection(),t=this.renderAttachmentsSection(),r=this.isSentFromVisitor();return m.default.createElement(x,{showUnderline:r,hyperlinkColor:r&&(0,E.getTextColor)(this.context)},m.default.createElement(b.default,null,e,t,!e&&!t&&m.default.createElement(_.default,null,m.default.createElement(o.default,null)),this.props.quickReplySelect&&this.props.quickReplySelect()))}}]);return t}();R.contextType=T.default;R.displayName="CommonMessageContent";R.propTypes={fileAttachments:h.PropTypes.instanceOf(p.List),isLastMessage:h.PropTypes.bool,message:h.PropTypes.oneOfType([(0,l.default)("PubNubMessageRecord"),(0,l.default)("CommonMessage")]).isRequired,mobile:h.PropTypes.bool,quickReplySelect:h.PropTypes.oneOfType([h.PropTypes.bool,h.PropTypes.func]),toggleOpen:h.PropTypes.func};t.default=R;e.exports=t.default},1670:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1114)),o=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(){return o.default.createElement("i",null,o.default.createElement(n.default,{message:"conversations-message-history.noContent"}))};i.displayName="NoContentLabel";t.default=i;e.exports=t.default},1671:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.FileAttachmentsWrapper=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(42),a=r(3),i=p(a),s=p(r(926)),u=r(1672),l=r(1674),c=r(1676),d=p(r(1677)),f=r(1678);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=300,v=t.FileAttachmentsWrapper=s.default.div.withConfig({displayName:"InlineImageAttachments__FileAttachmentsWrapper"})(["cursor:pointer;box-sizing:border-box;width:100%;max-width:","px;display:block;margin-bottom:16px;margin-top:8px;"],y),b=function(e){g(t,a.PureComponent);function t(e){h(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={maxWidth:y};r.wrapperRef=(0,a.createRef)();return r}n(t,[{key:"componentDidMount",value:function(){var e=this.wrapperRef.current;e&&e.offsetWidth&&e.offsetWidth!==this.state.maxWidth&&this.setState({maxWidth:e.offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props.fileAttachments;return i.default.createElement(v,{innerRef:this.wrapperRef},(0,f.getImageAttachments)(t).map(function(t,r){var n=(0,u.getFileMetadata)(t),o=(0,c.displayName)(n),a=(0,l.getUrl)(n),s=(0,l.getWidth)(n),f=(0,l.getHeight)(n);return i.default.createElement(d.default,{key:"image-"+r,name:o,url:a,width:s,height:f,maxWidth:e.state.maxWidth})}))}}]);return t}();b.displayName="InlineImageAttachments";b.propTypes={fileAttachments:a.PropTypes.instanceOf(o.List)};t.default=b},1672:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getThumbnailMetadata=t.getFileMetadata=t.getFileId=void 0;var n=a(r(131)),o=r(1673);function a(e){return e&&e.__esModule?e:{default:e}}t.getFileId=(0,n.default)(o.FILE_ID),t.getFileMetadata=(0,n.default)(o.FILE_METADATA),t.getThumbnailMetadata=(0,n.default)(o.THUMBNAIL_METADATA)},1673:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.FILE_ID=["fileId"],t.FILE_METADATA=["fileMetadata"],t.THUMBNAIL_METADATA=["thumbnailMetadata"]},1674:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHeight=t.getWidth=t.getSize=t.getType=t.getExtension=t.getName=t.getUrl=t.getExpiresAt=void 0;var n=a(r(131)),o=r(1675);function a(e){return e&&e.__esModule?e:{default:e}}t.getExpiresAt=(0,n.default)(o.EXPIRES_AT),t.getUrl=(0,n.default)(o.URL),t.getName=(0,n.default)(o.NAME),t.getExtension=(0,n.default)(o.EXTENSION),t.getType=(0,n.default)(o.TYPE),t.getSize=(0,n.default)(o.SIZE),t.getWidth=(0,n.default)(o.WIDTH),t.getHeight=(0,n.default)(o.HEIGHT)},1675:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.EXPIRES_AT=["expiresAt"],t.URL=["url"],t.NAME=["name"],t.EXTENSION=["extension"],t.TYPE=["type"],t.SIZE=["fileSize"],t.WIDTH=["width"],t.HEIGHT=["height"]},1676:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.displayName=void 0;var n=r(1674);t.displayName=function(e){var t=(0,n.getName)(e),r=(0,n.getExtension)(e);return r?t+"."+r:t}},1677:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.InlineImageAttachmentWrapper=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=l(o),i=l(r(926)),s=l(r(1106)),u=l(r(1137));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=t.InlineImageAttachmentWrapper=i.default.div.withConfig({displayName:"InlineImageAttachment__InlineImageAttachmentWrapper"})(["display:block;max-width:100%;"]),h=function(e){f(t,o.PureComponent);function t(e){c(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.hasLoadedImage=function(){r.setState({hasLoaded:!0})};r.state={hasLoaded:!1};return r}n(t,[{key:"getDimensions",value:function(){var e=this.props,t=e.maxWidth,r=e.width,n=e.height;return!this.state.hasLoaded&&t&&r&&n?r<=t?{width:r,height:n}:{width:t,height:n*(t/r)}:{}}},{key:"render",value:function(){var e=this.props,t=e.name,r=e.url,n=this.getDimensions(),o=n.width,i=n.height;return a.default.createElement(p,null,a.default.createElement(u.default,{href:r,target:"_blank","data-test-id":"inline-image-attachment"},a.default.createElement(s.default,{alt:t,src:r,width:o,height:i,style:{minHeight:i},onLoad:this.hasLoadedImage})))}}]);return t}();h.displayName="InlineImageAttachment";h.propTypes={height:o.PropTypes.number,maxWidth:o.PropTypes.number,name:o.PropTypes.string.isRequired,url:o.PropTypes.string.isRequired,width:o.PropTypes.number};t.default=h},1678:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.hasImageAttachments=t.getNonImageAttachments=t.getImageAttachments=void 0;var n=r(1674),o=r(1679),a=r(1672);t.getImageAttachments=function(e){return e.filter(function(e){var t=(0,a.getFileMetadata)(e),r=(0,n.getType)(t),i=(0,n.getExtension)(t);return Boolean(r===o.IMG&&"svg"!==i)})},t.getNonImageAttachments=function(e){return e.filter(function(e){var t=(0,a.getFileMetadata)(e),r=(0,n.getType)(t),i=(0,n.getExtension)(t);return Boolean(r!==o.IMG||"svg"===i)})},t.hasImageAttachments=function(e){return e.some(function(e){var t=(0,a.getFileMetadata)(e),r=(0,n.getType)(t),i=(0,n.getExtension)(t);return Boolean(r===o.IMG&&"svg"!==i)})}},1679:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.IMG="IMG",t.MOVIE="MOVIE",t.DOCUMENT="DOCUMENT",t.AUDIO="AUDIO",t.OTHER="OTHER"},1680:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.StyledFileAttachmentTile=t.AttachmentsFooterWrapper=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=p(r(1681)),a=r(1672),i=r(42),s=r(3),u=p(s),l=p(r(926)),c=p(r(1619)),d=r(1618),f=r(1688);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=t.AttachmentsFooterWrapper=l.default.div.withConfig({displayName:"AttachmentsFooter__AttachmentsFooterWrapper"})(["cursor:pointer;box-sizing:border-box;display:block;background-color:",";"],function(e){return e.backgroundColor}),v=t.StyledFileAttachmentTile=(0,l.default)(o.default).withConfig({displayName:"AttachmentsFooter__StyledFileAttachmentTile"})(["background-color:",";"],function(e){return e.backgroundColor||"rgba(255, 255, 255, 0.5)"}),b=function(e){g(t,s.PureComponent);function t(){h(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this,t=this.props.fileAttachments;return u.default.createElement(y,{backgroundColor:(0,d.getBackgroundColor)(this.context)},t.map(function(t,r){return u.default.createElement(v,{key:r,fileMetadata:(0,a.getFileMetadata)(t),backgroundColor:(0,f.getTileBackgroundColor)((0,d.getFileAttachmentTheme)(e.context))})}))}}]);return t}();b.contextType=c.default;b.displayName="AttachmentsFooter";b.propTypes={fileAttachments:s.PropTypes.instanceOf(i.List).isRequired};t.default=b},1681:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.FileAttachmentTileWrapper=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=b(r(950)),a=r(1682),i=r(1676),s=r(1674),u=b(r(1426)),l=r(3),c=b(l),d=b(r(926)),f=b(r(1427)),p=b(r(1106)),h=b(r(1137)),m=b(r(1072)),g=b(r(1683)),y=r(1686),v=r(1687);function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=t.FileAttachmentTileWrapper=d.default.div.withConfig({displayName:"FileAttachmentTile__FileAttachmentTileWrapper"})(["max-width:300px;"]),O=(0,d.default)(f.default).withConfig({displayName:"FileAttachmentTile__StyledFileAttachment"})(["background-color:",";"],function(e){return e.backgroundColor||"rgba(255, 255, 255, 0.5)"}),M=function(e){E(t,l.PureComponent);function t(){_(this,t);return T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props.fileMetadata,t=(0,i.displayName)(e),r=(0,s.getUrl)(e),n=(0,s.getSize)(e),o=(0,s.getType)(e),l=(0,s.getExtension)(e),d=o===a.IMG&&"svg"!==l;return c.default.createElement(P,null,c.default.createElement(h.default,{href:r,target:"_blank",use:"unstyled"},c.default.createElement(O,{className:"m-x-3 m-y-2",backgroundColor:(0,y.getTileBackgroundColor)((0,v.getFileAttachmentTheme)(this.context)),fileName:c.default.createElement(m.default,null,t),fileInfo:c.default.createElement(u.default,{value:n}),size:"small",renderPreview:d?function(){return c.default.createElement(p.default,{alt:t,shape:"thumbnail",src:r})}:void 0})))}}]);return t}();M.contextType=g.default;M.displayName="FileAttachmentTile";M.propTypes={fileMetadata:(0,o.default)("FileMetadataRecord").isRequired};t.default=M},1682:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.IMG="IMG",t.MOVIE="MOVIE",t.DOCUMENT="DOCUMENT",t.AUDIO="AUDIO",t.OTHER="OTHER"},1683:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=a(r(1684));function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,n.createContext)((0,o.default)());t.default=i;e.exports=t.default},1684:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(968),o=r(42),a=s(r(1621)),i=s(r(1685));function s(e){return e&&e.__esModule?e:{default:e}}var u=(0,o.Record)({alignItems:"flex-start",avatarWidth:"32px",backgroundColor:n.KOALA,borderColor:n.BATTLESHIP,borderRadius:"4px",borderWidth:"1px",messageSpacing:"8px",textColor:n.OBSIDIAN,fileAttachmentTheme:(0,a.default)(),quickReplyTheme:(0,i.default)(),headerBackgroundColor:n.OLAF,headerTextColor:n.OBSIDIAN,avatarBackgroundColor:n.BATTLESHIP,avatarBorderColor:n.BATTLESHIP,avatarTextColor:n.OBSIDIAN},"Theme");t.default=u;e.exports=t.default},1685:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42),o=r(968),a=(0,n.Record)({width:"auto",minHeight:36,borderColor:o.FLINT,whiteSpace:"normal",lineHeight:"1rem",color:o.FLINT},"QuickReplyTheme");t.default=a;e.exports=t.default},1686:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTileBackgroundColor=void 0;var n=o(r(116));function o(e){return e&&e.__esModule?e:{default:e}}t.getTileBackgroundColor=(0,n.default)("tileBackgroundColor")},1687:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHeaderTextColor=t.getAvatarBorderColor=t.getAvatarTextColor=t.getHeaderBackgroundColor=t.getAvatarBackgroundColor=t.getQuickReplyTheme=t.getFileAttachmentTheme=t.getTextColor=t.getMessageSpacing=t.getBorderWidth=t.getBorderRadius=t.getBorderColor=t.getBackgroundColor=t.getAvatarWidth=t.getAlignment=void 0;var n=o(r(116));function o(e){return e&&e.__esModule?e:{default:e}}t.getAlignment=(0,n.default)("alignItems"),t.getAvatarWidth=(0,n.default)("avatarWidth"),t.getBackgroundColor=(0,n.default)("backgroundColor"),t.getBorderColor=(0,n.default)("borderColor"),t.getBorderRadius=(0,n.default)("borderRadius"),t.getBorderWidth=(0,n.default)("borderWidth"),t.getMessageSpacing=(0,n.default)("messageSpacing"),t.getTextColor=(0,n.default)("textColor"),t.getFileAttachmentTheme=(0,n.default)("fileAttachmentTheme"),t.getQuickReplyTheme=(0,n.default)("quickReplyTheme"),t.getAvatarBackgroundColor=(0,n.default)("avatarBackgroundColor"),t.getHeaderBackgroundColor=(0,n.default)("headerBackgroundColor"),t.getAvatarTextColor=(0,n.default)("avatarTextColor"),t.getAvatarBorderColor=(0,n.default)("avatarBorderColor"),t.getHeaderTextColor=(0,n.default)("headerTextColor")},1688:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTileBackgroundColor=void 0;var n=o(r(116));function o(e){return e&&e.__esModule?e:{default:e}}t.getTileBackgroundColor=(0,n.default)("tileBackgroundColor")},1689:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=/^rgb/i,o=t.getRGB=function(e){var t=void 0,r=void 0,o=void 0;try{if(n.test(e)){var a=e.match(/(\d+)\D+(\d+)\D+(\d+)/);t=parseInt(a[1],10);r=parseInt(a[2],10);o=parseInt(a[3],10)}else{var i=e.toLowerCase().replace(/^#/,"");3===i.length&&(i=i.replace(/([0-9a-f])/g,"$1$1"));t=parseInt(i.substring(0,2),16);r=parseInt(i.substring(2,4),16);o=parseInt(i.substring(4,6),16)}if([t,r,o].some(isNaN))return{}}catch(e){return{}}return{r:t,g:r,b:o}},a=t.convertToHsl=function(e){var t=o(e),r=t.r,n=t.g,a=t.b;if([r,n,a].some(isNaN))return{hue:0,saturation:0,lightness:0};var i=r/255,s=n/255,u=a/255,l=Math.max(i,s,u),c=Math.min(i,s,u),d=(l+c)/2,f=l-c;if(0===f)return{hue:0,saturation:0,lightness:d};var p=void 0,h=d>.5?f/(2-l-c):f/(l+c);switch(l){case i:p=(s-u)/f+(s<u?6:0);break;case s:p=(u-i)/f+2;break;default:p=(i-s)/f+4}p*=60;return{hue:p=Math.round(p),saturation:h,lightness:d}},i=function(e){var t=e<0?0:e>1?1:e;return Math.round(100*t)+"%"},s=t.lighten=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,r=a(e),n=r.hue,o=r.saturation,s=r.lightness;return"hsl("+[n,i(o),i(s+t)].join(", ")+")"};t.darken=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return s(e,-t)}},1690:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(1691)),o=r(9),a=r(952),i=r(1543),s=r(1700),u=r(1701),l=r(515),c=r(1334),d=r(1397);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){return{coloring:(0,a.getColoring)(e),companyName:(0,u.getCompanyName)(e),consentToCommunicateMessage:(0,s.getConsentToCommunicateMessage)(e),hasVisitorEmail:(0,l.getHasVisitorEmail)(e),requiresConsentToCommunicate:(0,i.shouldRequireConsentToCommunicate)(e)||!0,threadId:(0,d.getCurrentThreadId)(e)}},h={sendVisitorEmailAddress:c.sendVisitorEmailAddress};t.default=(0,o.connect)(p,h)(n.default);e.exports=t.default},1691:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(1608),a=_(r(1660)),i=_(r(1609)),s=_(r(950)),u=r(303),l=r(1217),c=_(r(1213)),d=_(r(1692)),f=r(3),p=_(f),h=_(r(1695)),m=_(r(1697)),g=_(r(1453)),y=_(r(1623)),v=_(r(1629)),b=_(r(1630));function _(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=function(e){P(t,f.PureComponent);function t(e){T(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.onConsentChange=function(){r.setState({hasConsentedToCommunicate:!r.state.hasConsentedToCommunicate})};r.state={email:"",emailError:!1,hasConsentedToCommunicate:!1,submitting:!1,submitFailure:!1};r.handleChange=r.handleChange.bind(r);r.handleKeyPress=r.handleKeyPress.bind(r);r.handleSubmit=r.handleSubmit.bind(r);return r}n(t,[{key:"handleChange",value:function(e){this.setState({email:e.target.value,emailError:!1,submitFailure:!1})}},{key:"handleKeyPress",value:function(e){var t=13;e.which===t&&this.handleSubmit()}},{key:"handleSubmit",value:function(){var e=this,t=this.props,r=t.sendVisitorEmailAddress,n=t.threadId,o=this.state,a=o.email,i=o.hasConsentedToCommunicate;d.default.test(a)?this.setState({submitting:!0},function(){r({email:a,consentToCommunicate:i,threadId:n}).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).error;e.setState({submitting:!1,submitFailure:Boolean(t)})}).done()}):this.setState({emailError:!0})}},{key:"getValidationMessage",value:function(){switch(!0){case this.state.emailError:return p.default.createElement("div",{className:"text-center"},p.default.createElement(c.default,{message:"conversations-visitor-message-history.email-capture.invalid"}));case this.state.submitFailure:return p.default.createElement("div",{className:"text-center"},p.default.createElement(c.default,{message:"conversations-visitor-message-history.email-capture.failed"}));default:return null}}},{key:"renderConsentSection",value:function(){var e=this.props,t=e.companyName,r=e.consentToCommunicateMessage,n=e.hasVisitorEmail;return!e.requiresConsentToCommunicate||n?null:p.default.createElement(b.default,null,p.default.createElement(h.default,{message:r,companyName:t,consentToCommunicate:this.state.hasConsentedToCommunicate,onChange:this.onConsentChange}))}},{key:"renderCaptureSection",value:function(){var e=this.props,t=e.coloring,r=e.message,n=this.state,o=n.email,i=n.submitting,s=this.getValidationMessage();return p.default.createElement(b.default,null,p.default.createElement(a.default,{contentText:(0,u.getPlainText)(r)}),p.default.createElement(g.default,{error:Boolean(s),validationMessage:s},p.default.createElement(m.default,{disabled:!o,error:Boolean(s),submitting:i,value:o,onChange:this.handleChange,onKeyPress:this.handleKeyPress,buttonColor:(0,l.getAccentColor)(t),onSubmit:this.handleSubmit})))}},{key:"renderContent",value:function(){return this.props.hasVisitorEmail?p.default.createElement(b.default,null,p.default.createElement(c.default,{"data-test-id":"email-capture-success",message:"conversations-visitor-message-history.email-capture.thanks"})):[this.renderCaptureSection(),this.renderConsentSection()]}},{key:"render",value:function(){var e=this.props.positionDescriptors;return p.default.createElement(y.default,{positionDescriptors:e,use:o.AGENT},p.default.createElement(v.default,null,this.renderContent()))}}]);return t}();O.displayName="EmailCapturePromptMessage";O.propTypes={coloring:(0,s.default)("ColoringRecord").isRequired,companyName:f.PropTypes.string,consentToCommunicateMessage:f.PropTypes.string,hasVisitorEmail:f.PropTypes.bool.isRequired,message:(0,s.default)("PubNubMessageRecord").isRequired,positionDescriptors:i.default.isRequired,requiresConsentToCommunicate:f.PropTypes.bool,sendVisitorEmailAddress:f.PropTypes.func.isRequired,threadId:f.PropTypes.number.isRequired};t.default=O;e.exports=t.default},1692:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(819)),o=a(r(1693));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)({name:"EmailAddress",validator:function(e){return o.default.test(e)}});e.exports=t.default},1693:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(1694));function o(e){return e&&e.__esModule?e:{default:e}}var a=new RegExp("^(?:.+)@"+n.default.domain+"$");t.default=a;e.exports=t.default},1694:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n="\\.",o='\\s\\?\\#\\/\\(\\)\\=\\:\\;\\@\\\\"'+n,a="(?:(?:https?:)?\\/\\/)",i="(?:www"+n+")",s=i+"?(?:(?:[^"+o+"]+)"+n+")+(?:[^"+o+"]+)",u="(?:(?:\\/[^\\s\\/\\#\\&\\?]*)+\\/?)",l="(?:(/(?:[%a-zA-Z0-9_-])*?)*(?:/[\\*]))",c="(?:[%a-zA-Z0-9_-]+)",d="(?:(?:\\.[%a-zA-Z0-9-]+)[^\\.\\s])",f=""+c+d,p="\\s\\?\\#\\&",h="(?:([\\?&#][^"+p+"]*?=?([^"+p+"]*))+)",m="(?:(?:[\\?&#][^"+p+"]*?=?(?:[^"+p+"]*))+)";t.default={www:i,domain:s,protocol:a,path:u,wildcardPath:l,file:f,fileName:c,fileExtension:d,search:h,ungroupedSearch:m};e.exports=t.default},1695:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(3)),o=f(r(7)),a=f(r(926)),i=f(r(265)),s=f(r(1456)),u=f(r(1125)),l=r(968),c=r(221),d=f(r(1696));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,a.default)(u.default).withConfig({displayName:"ConsentToCommunicate__SmallNoParagraphPadding"})(["p{margin-bottom:0;}"]),h=function(e){var t=e.message,r=e.companyName,o=e.consentToCommunicate,a=e.onChange,u=(0,c.clean)(t)||i.default.text("gdpr.consentToCommunicate.default",{accountName:r});return n.default.createElement(s.default,{size:"small",value:o,onChange:a},n.default.createElement(p,{tagName:"span",style:{color:l.FLINT}},n.default.createElement(d.default,null,n.default.createElement("span",{dangerouslySetInnerHTML:{__html:u}}))))};h.displayName="ConsentToCommunicate";h.propTypes={companyName:o.default.string,consentToCommunicate:o.default.bool.isRequired,message:o.default.string.isRequired,onChange:o.default.func.isRequired};t.default=h;e.exports=t.default},1696:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=l;var o=s(r(7)),a=s(r(3)),i=s(r(929));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function l(e){var t=e.children,r=e.className,o=e.hyphenate,s=u(e,["children","className","hyphenate"]);return a.default.createElement("span",n({},s,{className:(0,i.default)("private-break-string",r,{"private-break-string--hyphenate":o,"private-break-string--no-hyphenate":!o})}),t)}l.propTypes={children:o.default.node.isRequired,hyphenate:o.default.bool};l.defaultProps={hyphenate:!0};l.displayName="UIBreakString";e.exports=t.default},1697:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=h(r(265)),o=h(r(3)),a=h(r(7)),i=h(r(926)),s=h(r(1428)),u=h(r(1430)),l=h(r(1698)),c=h(r(1206)),d=h(r(1050)),f=h(r(1699)),p=r(968);function h(e){return e&&e.__esModule?e:{default:e}}var m=20,g=(0,i.default)(c.default).withConfig({displayName:"EmailCaptureInput__StyledTextInput"})(["::placeholder{font-size:",";}"],function(e){return e.placeholder.length>m?"14px":void 0}),y=(0,i.default)(s.default).withConfig({displayName:"EmailCaptureInput__StyledUIMedia"})(["background-color:",";border-radius:3px;border:1px solid ",";"],p.OLAF,p.BATTLESHIP),v=(0,i.default)(f.default).withConfig({displayName:"EmailCaptureInput__StyledUILoadingButton"})(["padding:0 !important;margin:4px;display:flex !important;align-items:center;justify-content:center;width:32px !important;height:32px !important;"]),b={buttonColor:a.default.string.isRequired,disabled:a.default.bool,email:a.default.string,error:a.default.bool,locale:a.default.string,onChange:a.default.func.isRequired,onKeyPress:a.default.func.isRequired,onSubmit:a.default.func,submitting:a.default.bool.isRequired},_=function(e){var t=e.buttonColor,r=e.disabled,a=e.email,i=e.error,s=e.onChange,c=e.onKeyPress,f=e.onSubmit,h=e.submitting,m=e.locale,b={backgroundColor:h?void 0:t,borderColor:h?void 0:t};return o.default.createElement(y,{"data-test-id":"email-capture-input-container"},o.default.createElement(u.default,{className:"display-flex align-center"},o.default.createElement(g,{styled:!1,value:a,placeholder:n.default.text("conversations-message-history.email-capture.placeholderText",{locale:m}),onChange:s,onKeyPress:c})),o.default.createElement(l.default,null,o.default.createElement(v,{"data-test-id":"email-capture-submit-button",disabled:r,failed:i,style:b,onClick:f,loading:h,use:h?"tertiary-light":"primary-white",color:p.OLAF,spinnerProps:{style:{width:"100%",height:"100%"}},resultIcon:"success"},o.default.createElement(d.default,{color:p.OLAF,name:"send"}))))};_.displayName="EmailCaptureInput";_.propTypes=b;t.default=_;e.exports=t.default},1698:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=l;var o=s(r(7)),a=s(r(3)),i=s(r(929));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function l(e){var t=e.className,r=u(e,["className"]);return a.default.createElement("div",n({},r,{className:(0,i.default)("private-media__item","private-media__item--right",t)}))}l.displayName="UIMediaRight";l.propTypes={children:o.default.node};e.exports=t.default},1699:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),a=p(r(7)),i=p(r(3)),s=p(r(929)),u=p(r(576)),l=p(r(996)),c=p(r(1142)),d=r(1001),f=r(1074);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){y(t,i.default.Component);function t(e){m(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));b.call(r);var n=e.loading;r.state={displayResult:!1,isLoading:n||!1};return r}o(t,[{key:"componentDidMount",value:function(){var e=this.props.duration,t=this.state.isLoading;e&&t&&(this.loadingTimeout=setTimeout(this.handleLoadingFinish,e))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.loadingTimeout)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,o=e.disabled,a=(e.duration,e.failed),u=(e.loading,e.onClick,e.onLoadingFinish,e.preventClicksOnLoading,e.keepResultAfterFinish,e.resultIcon),d=e.size,p=e.spinnerProps,m=e.truncateTooltip,g=e.use,y=h(e,["children","className","disabled","duration","failed","loading","onClick","onLoadingFinish","preventClicksOnLoading","keepResultAfterFinish","resultIcon","size","spinnerProps","truncateTooltip","use"]),v=this.state,b=v.isLoading,_=v.displayResult,T=o&&!b&&!_;return i.default.createElement(l.default,n({},y,{size:d,use:g,"data-loading":b,disabled:T,className:(0,s.default)("private-loading-button",r,f.USE_CLASSES[g],{"loading private-loading-button--loading":b||_}),onClick:this.handleClick,truncateTooltip:m||t}),i.default.createElement("span",{className:"private-loading-button__content private-button--internal-spacing"},t),i.default.createElement(c.default,n({},p,{className:"private-loading-button__spinner","data-loading":null,failed:a,use:g,size:d,resultIcon:u,showResult:_,onResultDisplayFinish:this.setDisplayResult})))}}]);return t}(),b=function(){var e=this;this.UNSAFE_componentWillReceiveProps=function(t){var r=e.props.loading,n=t.failed,o=t.loading,a=null!=t.resultIcon&&!n&&r&&!o;o!==r&&e.setState({isLoading:o,displayResult:a})};this.UNSAFE_componentWillUpdate=function(t,r){var n=t.duration,o=e.state.isLoading,a=r.isLoading;if(n&&(!o&&a)){clearTimeout(e.loadingTimeout);e.loadingTimeout=setTimeout(e.handleLoadingFinish,n)}};this.handleLoadingFinish=function(){var t=e.props,r=t.failed,n=null!=t.resultIcon&&!r;e.setState({isLoading:!1,displayResult:n});n||e.setDisplayResult()};this.setDisplayResult=function(){var t=e.props,r=t.onLoadingFinish,n=t.keepResultAfterFinish;e.setState({displayResult:n});r()};this.handleClick=function(t){var r=e.props,n=r.duration,o=r.onClick,a=r.preventClicksOnLoading,i=e.state,s=i.displayResult,u=i.isLoading;if(!a||!u&&!s){(0,d.callIfPossible)(o,t);t.defaultPrevented||!u&&n&&e.setState({isLoading:!0})}}};t.default=v;v.propTypes=n({},l.default.propTypes,{failed:c.default.propTypes.failed,size:c.default.propTypes.size,use:c.default.propTypes.use,duration:a.default.number,loading:a.default.bool,resultIcon:c.default.propTypes.resultIcon,onLoadingFinish:a.default.func,spinnerProps:a.default.object,preventClicksOnLoading:a.default.bool,keepResultAfterFinish:a.default.bool});v.defaultProps=n({},l.default.defaultProps,{failed:c.default.defaultProps.failed,onLoadingFinish:u.default,preventClicksOnLoading:!0,keepResultAfterFinish:!1,resultIcon:c.default.defaultProps.resultIcon,size:"medium",use:"secondary"});v.displayName="UILoadingButton";e.exports=t.default},1700:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getConsentToCommunicateMessage=void 0;var n=r(168),o=i(r(953)),a=r(170);function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}t.getConsentToCommunicateMessage=(0,n.createSelector)(a.getLatestWidgetData,function(e){return o.getConsentToCommunicateMessage(e)})},1701:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCompanyName=void 0;var n=r(168),o=i(r(116)),a=r(170);function i(e){return e&&e.__esModule?e:{default:e}}t.getCompanyName=(0,n.createSelector)(a.getLatestWidgetData,(0,o.default)("companyName"))},1702:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(1703)),o=r(9);function a(e){return e&&e.__esModule?e:{default:e}}var i={onRepublish:r(1177).republishMessage};t.default=(0,o.connect)(null,i)(n.default);e.exports=t.default},1703:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(1608),a=m(r(1609)),i=m(r(1704)),s=m(r(950)),u=r(326),l=r(42),c=r(3),d=m(c),f=m(r(1669)),p=m(r(1623)),h=m(r(1633));function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){v(t,c.PureComponent);function t(){g(this,t);return y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.fileAttachments,r=e.message,n=e.onRepublish,a=e.positionDescriptors,s=(0,u.getMessage)(r);return d.default.createElement(p.default,{positionDescriptors:a,use:o.VISITOR},d.default.createElement(f.default,{fileAttachments:t,isLastMessage:!0,message:s}),d.default.createElement(h.default,null,d.default.createElement(i.default,{message:s,onRepublish:n})))}}]);return t}();b.displayName="FailedToPublishMessage";b.propTypes={fileAttachments:c.PropTypes.instanceOf(l.List),message:(0,s.default)("FailedToPublish").isRequired,onRepublish:c.PropTypes.func.isRequired,positionDescriptors:a.default.isRequired};t.default=b;e.exports=t.default},1704:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=l(n),a=l(r(1213)),i=l(r(1125)),s=l(r(1137)),u=l(r(1050));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.message,r=e.onRepublish;return o.default.createElement(i.default,{use:"error"},o.default.createElement(u.default,{name:"warning",className:"m-right-1"}),o.default.createElement(s.default,{use:"danger",onClick:function(){return r(t)}},o.default.createElement(a.default,{message:"conversations-message-history.status.publishing.PUBLISH_FAILED"})))};c.displayName="FailedToPublishMessageText";c.propTypes={message:n.PropTypes.object.isRequired,onRepublish:n.PropTypes.func.isRequired};t.default=c;e.exports=t.default},1705:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(1706)),o=r(9),a=r(665),i=r(954),s=r(653),u=r(1483),l=r(1524),c=r(535),d=r(1718);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=(0,c.getSelectedThread)(e);return{chatHeadingConfig:(0,i.getChatHeadingConfig)(e),sendFromResponders:(0,s.getSendFromResponders)(e),hasUnansweredQuickReplyMessage:(0,l.hasUnansweredQuickReplyMessage)(e,{thread:t}),isThreadStarted:(0,a.isStarted)(t),ungatedForQuickReplySelect:(0,d.isUngatedForQuickReplySelect)(e)}},h={publishMessage:u.publishVisitorMessage};t.default=(0,o.connect)(p,h)(n.default);e.exports=t.default},1706:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=j(o),i=r(42),s=j(r(265)),u=j(r(1114)),l=j(r(1612)),c=r(1608),d=j(r(1422)),f=j(r(1660)),p=j(r(1609)),h=r(1613),m=r(1583),g=r(1611),y=j(r(950)),v=r(303),b=r(306),_=r(166),T=r(234),E=r(1707),P=r(471),O=j(r(1623)),M=j(r(1629)),C=j(r(1630)),w=j(r(1634)),S=j(r(1633)),x=j(r(1708)),R=j(r(1712)),k=r(1713),A=j(r(1714)),I=j(r(1715));function j(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=function(e){F(t,o.PureComponent);function t(e){N(this,t);var r=L(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handleQuickReplySend=function(){var e=r.props,t=e.message,n=e.publishMessage,o=r.state.selectedQuickReply;n({text:(0,E.getOptionLabel)(o),quickReply:(0,P.getQuickReply)(t).set("quickReplies",[o])})};r.handleQuickReplySelect=function(e){var t=e.target.value,n=r.props.message,o=(0,P.getQuickReplyReplies)(n).filter(function(e){return(0,E.getOptionValue)(e)===t}).first();r.setState({selectedQuickReply:o})};r.showQuickReplySelection=function(){var e=r.props,t=e.message,n=e.ungatedForQuickReplySelect,o=(0,P.getQuickReplyReplies)(t),a=(0,P.getQuickReplyAllowMultiSelect)(t);return r.showQuickReplies()&&n&&o.count()>k.MAX_QUICK_REPLY_BUTTONS&&!a};r.renderQuickReplySelect=function(){var e=r.props,t=e.message,n=e.isThreadStarted,o=e.requiresExplicitConsentToProcess,i=r.state.selectedQuickReply,u=(0,P.getQuickReplyReplies)(t);return a.default.createElement("div",{className:"m-y-2"},a.default.createElement(A.default,{quickReplyOptions:u,disabled:o||!n,onChange:r.handleQuickReplySelect,value:(0,E.getOptionValue)(i),placeholder:s.default.text("conversations-visitor-message-history.quickReply.selectionPlaceholder")}))};r.renderQuickReplySendButton=function(){var e=r.props.isThreadStarted,t=r.state.selectedQuickReply;return a.default.createElement(S.default,null,a.default.createElement(R.default,{disabled:!e||!(0,E.getOptionValue)(t),onClick:r.handleQuickReplySend},a.default.createElement(u.default,{message:"conversations-visitor-message-history.quickReply.selectionComplete"})))};r.state={selectedQuickReply:(0,i.Map)()};return r}n(t,[{key:"hasQuickReplyOptions",value:function(){var e=this.props.message,t=(0,v.getSenderType)(e);return(0,P.getQuickReply)(e)&&t===_.BOT}},{key:"showQuickReplies",value:function(){var e=this.props,t=e.hasUnansweredQuickReplyMessage,r=e.positionDescriptors,n=t&&r.get(g.LAST);return this.hasQuickReplyOptions()&&n}},{key:"renderAvatar",value:function(){var e=this.props,t=e.chatHeadingConfig,r=e.message,n=e.senders,o=e.sendFromResponders,i=(0,v.getSenderId)(r),s=(0,v.getSenderType)(r),u=(0,h.findSender)(i,s,n),l=(0,m.getData)(u);return a.default.createElement(I.default,{chatHeadingConfig:t,sender:l,sendFromResponders:o})}},{key:"renderQuickReplyGroup",value:function(){var e=this.props,t=e.isThreadStarted,r=e.message,n=e.publishMessage,o=e.requiresExplicitConsentToProcess,i=(0,P.getQuickReplyReplies)(r),s=(0,P.getQuickReplyAllowMultiSelect)(r);return a.default.createElement(S.default,null,a.default.createElement(x.default,{disabled:o||!t,options:i,message:r,multiSelect:s,publishMessage:n,onSend:this.handleQuickReplySend}))}},{key:"renderContentSection",value:function(){var e=this.props.message,t=void 0,r=void 0;if(Boolean((0,T.getType)(e))){t=(0,v.getPlainText)(e);r=(0,v.getRichText)(e)}else{t=(0,b.getText)(e);r=(0,b.getRichText)(e)}var n=d.default.link(r,{stripPrefix:!1});return a.default.createElement(C.default,null,a.default.createElement(f.default,{contentText:n||t}),this.showQuickReplySelection()&&this.renderQuickReplySelect())}},{key:"renderMessageFooter",value:function(){var e=this.props,t=e.message,r=e.ungatedForQuickReplySelect,n=(0,P.getQuickReplyReplies)(t),o=(0,P.getQuickReplyAllowMultiSelect)(t);return this.showQuickReplySelection()?this.renderQuickReplySendButton():this.showQuickReplies()&&(!r||n.count()<=k.MAX_QUICK_REPLY_BUTTONS||o)?this.renderQuickReplyGroup():null}},{key:"render",value:function(){var e=this.props.positionDescriptors,t=e.get(g.FIRST);return a.default.createElement(O.default,{positionDescriptors:e,use:c.AGENT},t&&a.default.createElement(w.default,null,this.renderAvatar()),a.default.createElement(M.default,null,this.renderContentSection()),this.renderMessageFooter())}}]);return t}();U.displayName="InitialMessage";U.propTypes={chatHeadingConfig:o.PropTypes.oneOfType([(0,y.default)("CompanyChatHeadingConfig"),(0,y.default)("OwnerChatHeadingConfig"),(0,y.default)("UsersAndTeamsChatHeadingConfig")]),hasUnansweredQuickReplyMessage:o.PropTypes.bool,isThreadStarted:o.PropTypes.bool.isRequired,message:o.PropTypes.oneOfType([(0,y.default)("PubNubMessageRecord"),(0,y.default)("InitialMessage")]).isRequired,positionDescriptors:p.default.isRequired,publishMessage:o.PropTypes.func,requiresExplicitConsentToProcess:o.PropTypes.bool.isRequired,sendFromResponders:o.PropTypes.instanceOf(i.List).isRequired,senders:l.default.isRequired,ungatedForQuickReplySelect:o.PropTypes.bool};t.default=U;e.exports=t.default},1707:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getOptionLabel=o;t.getOptionValue=a;function n(e){return"string"==typeof e}function o(e){return n(e)?e:e.has("label")?e.get("label"):e.get("value")}function a(e){return n(e)?e:e.get("value")}},1708:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=y(r(950)),a=r(471),i=r(1707),s=r(42),u=r(3),l=y(u),c=y(r(1050)),d=y(r(1456)),f=y(r(1619)),p=r(1618),h=r(1709),m=y(r(1710)),g=y(r(1712));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){T(t,l.default.Component);function t(e){b(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handleSendMulti=r.handleSendMulti.bind(r);r.handleQuickReplySend=r.handleQuickReplySend.bind(r);r.handleSendIndividual=r.handleSendIndividual.bind(r);r.handleSelect=r.handleSelect.bind(r);r.state={selected:(0,s.Set)()};return r}n(t,[{key:"hasSelected",value:function(){return this.state.selected.size>0}},{key:"handleSelect",value:function(e){this.setState(function(t){var r=t.selected;return{selected:r.includes(e)?r.delete(e):r.add(e)}})}},{key:"handleSendMulti",value:function(){var e=this.props.multiSelect,t=this.state.selected;if(e&&this.hasSelected()){var r=t.map(i.getOptionLabel).join(", ");this.handleQuickReplySend(r,t)}}},{key:"handleSendIndividual",value:function(e){if(!this.props.multiSelect){var t=(0,s.List)([e]),r=(0,i.getOptionLabel)(e);this.handleQuickReplySend(r,t)}}},{key:"handleQuickReplySend",value:function(e,t){var r=this.props,n=r.message;(0,r.publishMessage)({text:e,quickReply:(0,a.getQuickReply)(n).set("quickReplies",t.toJS())})}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,r=e.multiSelect,n=e.disabled,o=this.state.selected,a=this.context,s=r?this.handleSelect:this.handleSendIndividual;return t.map(function(e){var t=function(){return s(e)},u=o.includes(e),c=(0,i.getOptionValue)(e),f=(0,i.getOptionLabel)(e),g=r&&l.default.createElement(d.default,{className:"m-right-2",style:{minHeight:10},size:"small",color:(0,h.getBorderColor)((0,p.getQuickReplyTheme)(a)),checked:u,onChange:t});return l.default.createElement(m.default,{key:"quickreply."+c,onClick:t,theme:(0,p.getQuickReplyTheme)(a),disabled:n},g,f)})}},{key:"renderSendButton",value:function(){var e=this.props,t=e.disabled;if(!e.multiSelect)return null;var r=!this.hasSelected()||t;return l.default.createElement(g.default,{disabled:r,onClick:this.handleSendMulti,key:"send-button"},l.default.createElement(c.default,{name:"success"}))}},{key:"render",value:function(){return l.default.createElement("div",{className:"align-center flex-wrap m-y-2"},[].concat(v(this.renderOptions()),[this.renderSendButton()]))}}]);return t}();E.contextType=f.default;E.defaultProps={multiSelect:!1,hasSentReply:!1};E.displayName="QuickReplyGroup";E.propTypes={disabled:u.PropTypes.bool.isRequired,message:u.PropTypes.oneOfType([(0,o.default)("CommonMessage"),(0,o.default)("PubNubMessageRecord"),(0,o.default)("InitialMessage")]).isRequired,multiSelect:u.PropTypes.bool.isRequired,options:u.PropTypes.instanceOf(s.Set).isRequired,publishMessage:u.PropTypes.func};t.default=E;e.exports=t.default},1709:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getColor=t.getBorderColor=t.getLineHeight=t.getWhiteSpace=t.getWidth=t.getMinHeight=void 0;var n=o(r(116));function o(e){return e&&e.__esModule?e:{default:e}}t.getMinHeight=(0,n.default)("minHeight"),t.getWidth=(0,n.default)("width"),t.getWhiteSpace=(0,n.default)("whiteSpace"),t.getLineHeight=(0,n.default)("lineHeight"),t.getBorderColor=(0,n.default)("borderColor"),t.getColor=(0,n.default)("color")},1710:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=c(o),i=c(r(996)),s=r(1689),u=c(r(950)),l=r(1711);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h="secondary",m="primary";function g(e,t,r){var n=(0,s.getRGB)(t),o=n.r,a=n.g,i=n.b;return e===h?r?"rgba("+o+","+a+","+i+", 0.15)":"rgba(0,0,0,0)":r?"rgba("+o+","+a+","+i+", 0.85)":"rgba("+o+","+a+","+i+", 1)"}function y(e,t,r){var n=(0,l.getBorderColor)(t);return{width:(0,l.getWidth)(t),minHeight:(0,l.getMinHeight)(t),borderColor:n,whiteSpace:(0,l.getWhiteSpace)(t),lineHeight:(0,l.getLineHeight)(t),backgroundColor:g(e,n,r),color:e===m?(0,l.getColor)(t):n}}var v=function(e){p(t,a.default.Component);function t(e){d(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={hovered:!1};r.handleMouseEnter=r.handleMouseEnter.bind(r);r.handleMouseLeave=r.handleMouseLeave.bind(r);return r}n(t,[{key:"handleMouseEnter",value:function(){this.setState({hovered:!0})}},{key:"handleMouseLeave",value:function(){this.setState({hovered:!1})}},{key:"render",value:function(){var e=this.props,t=e.onClick,r=e.children,n=e.disabled,o=e.use,s=y(o,e.theme,this.state.hovered);return a.default.createElement(i.default,{className:"quick-reply display-inline-flex m-top-0 m-bottom-2 m-right-2",style:s,size:"small",use:o,onClick:t,disabled:n,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r)}}]);return t}();v.displayName="QuickReply";v.defaultProps={use:h,disabled:!1};v.propTypes={children:o.PropTypes.node.isRequired,disabled:o.PropTypes.bool.isRequired,onClick:o.PropTypes.func.isRequired,theme:(0,u.default)("QuickReplyTheme"),use:o.PropTypes.string.isRequired};t.default=v;e.exports=t.default},1711:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getColor=t.getBorderColor=t.getLineHeight=t.getWhiteSpace=t.getWidth=t.getMinHeight=void 0;var n=o(r(116));function o(e){return e&&e.__esModule?e:{default:e}}t.getMinHeight=(0,n.default)("minHeight"),t.getWidth=(0,n.default)("width"),t.getWhiteSpace=(0,n.default)("whiteSpace"),t.getLineHeight=(0,n.default)("lineHeight"),t.getBorderColor=(0,n.default)("borderColor"),t.getColor=(0,n.default)("color")},1712:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=l(o),i=l(r(1710)),s=r(1687),u=l(r(1619));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){f(t,a.default.Component);function t(){c(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.children,r=e.disabled,n=e.onClick,o=this.context;return a.default.createElement(i.default,{key:"send-button",use:"primary",theme:(0,s.getQuickReplyTheme)(o),disabled:r,onClick:n},t)}}]);return t}();p.contextType=u.default;p.defaultProps={multiSelect:!1,hasSentReply:!1};p.displayName="QuickReplySendButton";p.propTypes={children:o.PropTypes.node.isRequired,disabled:o.PropTypes.bool.isRequired,onClick:o.PropTypes.func.isRequired};t.default=p;e.exports=t.default},1713:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_QUICK_REPLY_BUTTONS=7},1714:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=c(o),i=r(42),s=c(r(926)),u=r(968),l=r(1707);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h="__PLACEHOLDER_VALUE__",m=s.default.select.withConfig({displayName:"QuickReplySelect__StyledSelect"})(["appearance:none;background:none;border-radius:3px;border:1px solid transparent;color:inherit;cursor:inherit;font-size:16px;margin:0;outline:none;padding:8px 32px 10px 10px;width:100%;"]),g=s.default.div.withConfig({displayName:"QuickReplySelect__SelectContainer"})(["background-color:",";border-radius:3px;border:1px solid ",";color:",";cursor:pointer;display:block;font-size:16px;height:40px;line-height:22px;padding:0;position:relative;text-align:left;transition:all 0.15s ease-out;vertical-align:middle;width:100%;&::after{border-color:transparent;border-style:solid;border-width:0.375em;display:inline-block;vertical-align:middle;border-top-color:",";margin-top:0.375em;margin-top:-3px;content:' ';position:absolute;top:50%;right:1em;z-index:2;pointer-events:none;}"],u.GYPSUM,u.BATTLESHIP,u.OBSIDIAN,u.CALYPSO),y=function(e){p(t,o.Component);function t(){var e,r,n,o;d(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return o=(r=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.renderQuickReplySelectOptions=function(){return n.props.quickReplyOptions.map(function(e){var t=(0,l.getOptionValue)(e),r=(0,l.getOptionLabel)(e);return a.default.createElement("option",{value:t,key:t},r)})},r),f(n,o)}n(t,[{key:"render",value:function(){var e=this.props,t=e.value,r=e.disabled,n=e.onChange,o=e.placeholder;return a.default.createElement(g,null,a.default.createElement(m,{disabled:r,defaultValue:h,value:t,onChange:n},o&&a.default.createElement("option",{disabled:!0,value:h},o),this.renderQuickReplySelectOptions()))}}]);return t}();y.displayName="QuickReplySelect";y.propTypes={disabled:o.PropTypes.bool,onChange:o.PropTypes.func.isRequired,placeholder:o.PropTypes.string,quickReplyOptions:o.PropTypes.instanceOf(i.OrderedSet).isRequired,value:o.PropTypes.string};t.default=y;e.exports=t.default},1715:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=y(r(1597)),a=y(r(950)),i=r(1118),s=r(1161),u=r(165),l=r(42),c=r(3),d=y(c),f=y(r(926)),p=y(r(377)),h=y(r(1628)),m=r(1716),g=r(1717);function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=f.default.div.withConfig({displayName:"InitialMessageAvatar__MultiAvatarWrapper"})(["width:100%;height:100%;display:flex;justify-content:center;flex-wrap:wrap;margin-right:4px;margin-left:-4px;& > *{flex:1;line-height:1;position:relative;& > *{position:absolute;left:0;bottom:-8px;}svg{background-color:white;}}"]),E=function(e){_(t,c.PureComponent);function t(){v(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"getSenderAvatars",value:function(){var e=this.props,t=e.chatHeadingConfig,r=e.sender,n=e.sendFromResponders;if((0,u.isFromBot)(r))return(0,l.List)([r]);if(n.size)return(0,p.default)(g.getResponderAsSender,n);var o=(0,i.getAnyCompanyLogo)(t);return o?(0,l.List)([(0,m.getCompanyAsSender)({companyLogo:o,customChatName:(0,s.getAnyCustomChatName)(t)})]):(0,l.List)()}},{key:"renderAvatars",value:function(){var e=this.getSenderAvatars();if(!e.size)return d.default.createElement(o.default,null);if(1===e.size){var t=e.get(0);return d.default.createElement(o.default,{sender:t})}var r=2===e.size;return d.default.createElement(T,null,e.map(function(e,t){return d.default.createElement(o.default,{key:t,sender:e,size:r?"xs":"xxs"})}))}},{key:"render",value:function(){return d.default.createElement(h.default,null,this.renderAvatars())}}]);return t}();E.displayName="InitialMessageAvatar";E.propTypes={chatHeadingConfig:c.PropTypes.oneOfType([(0,a.default)("CompanyChatHeadingConfig"),(0,a.default)("OwnerChatHeadingConfig"),(0,a.default)("UsersAndTeamsChatHeadingConfig")]),sendFromResponders:c.PropTypes.instanceOf(l.List).isRequired,sender:(0,a.default)("Sender")};t.default=E;e.exports=t.default},1716:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCompanyAsSender=void 0;var n=i(r(1585)),o=r(166),a=i(r(110));function i(e){return e&&e.__esModule?e:{default:e}}t.getCompanyAsSender=(0,a.default)(function(e){var t=e.companyLogo,r=e.customChatName;return new n.default({avatar:t,firstName:r,senderType:o.AGENT})})},1717:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getResponderAsSender=void 0;var n=r(614),o=s(r(1585)),a=r(616),i=s(r(110));function s(e){return e&&e.__esModule?e:{default:e}}t.getResponderAsSender=(0,i.default)(function(e,t,r){var i=(0,n.agentTypeToSenderType)((0,a.getAgentType)(e)||r);return new o.default({id:(0,a.getUserId)(e)||t,avatar:(0,a.getAvatar)(e),firstName:(0,a.getFirstName)(e),email:(0,a.getEmail)(e),lastName:(0,a.getLastName)(e),senderType:i})})},1718:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isUngatedForQuickReplySelect=void 0;var n=r(168),o=s(r(116)),a=r(636),i=r(637);function s(e){return e&&e.__esModule?e:{default:e}}t.isUngatedForQuickReplySelect=(0,n.createSelector)([a.getGates],function(e){return Boolean((0,o.default)(i.QUICK_REPLY_SELECT,e))})},1719:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(665),o=f(r(1720)),a=r(9),i=r(1483),s=r(1524),u=r(535),l=r(1718),c=r(805),d=r(845);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=(0,u.getSelectedThread)(e);return{hasUnansweredQuickReplyMessage:(0,s.hasUnansweredQuickReplyMessage)(e,{thread:t}),isThreadStarted:(0,n.isStarted)(t),ungatedForQuickReplySelect:(0,l.isUngatedForQuickReplySelect)(e),mobile:(0,d.getIsMobile)(e)}},h={publishMessage:i.publishVisitorMessage,toggleOpen:c.toggleOpen};t.default=(0,a.connect)(p,h)(o.default);e.exports=t.default},1720:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=F(o),i=r(42),s=F(r(1125)),u=F(r(265)),l=F(r(1114)),c=F(r(1597)),d=r(1611),f=r(1608),p=F(r(1609)),h=F(r(1612)),m=r(1613),g=r(1583),y=r(1614),v=F(r(1585)),b=F(r(1637)),_=r(1642),T=F(r(950)),E=r(303),P=r(1707),O=r(166),M=r(471),C=F(r(1623)),w=F(r(1628)),S=F(r(1633)),x=F(r(1634)),R=F(r(1635)),k=F(r(1708)),A=r(1721),I=F(r(1712)),j=r(1713),N=F(r(1714)),L=F(r(1669));function F(e){return e&&e.__esModule?e:{default:e}}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var H=function(e){B(t,o.PureComponent);function t(e){U(this,t);var r=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handleQuickReplySend=function(){var e=r.props,t=e.message,n=e.publishMessage,o=r.state.selectedQuickReply;n({text:(0,P.getOptionLabel)(o),quickReply:(0,M.getQuickReply)(t).set("quickReplies",[o])})};r.handleQuickReplySelect=function(e){var t=e.target.value,n=r.props.message,o=(0,M.getQuickReplyReplies)(n).filter(function(e){return(0,P.getOptionValue)(e)===t}).first();r.setState({selectedQuickReply:o})};r.showQuickReplies=function(){var e=r.props,t=e.hasUnansweredQuickReplyMessage,n=e.message,o=e.positionDescriptors,a=t&&o.get(d.LAST);return(0,A.getHasQuickReplyOptions)(n)&&a};r.showQuickReplySelection=function(){var e=r.props,t=e.message,n=e.ungatedForQuickReplySelect,o=(0,M.getQuickReplyReplies)(t),a=(0,M.getQuickReplyAllowMultiSelect)(t);return r.showQuickReplies()&&n&&o.count()>j.MAX_QUICK_REPLY_BUTTONS&&!a};r.renderQuickReplyGroup=function(){var e=r.props,t=e.isThreadStarted,n=e.message,o=e.publishMessage,i=e.requiresExplicitConsentToProcess,s=(0,M.getQuickReplyReplies)(n),u=(0,M.getQuickReplyAllowMultiSelect)(n);return a.default.createElement(S.default,null,a.default.createElement(k.default,{options:s,disabled:i||!t,message:n,multiSelect:u,publishMessage:o,onChange:r.handleQuickReplyUpdate}))};r.renderQuickReplySendButton=function(){var e=r.props.isThreadStarted,t=r.state.selectedQuickReply;return a.default.createElement(S.default,null,a.default.createElement(I.default,{disabled:!e||!(0,P.getOptionValue)(t),onClick:r.handleQuickReplySend},a.default.createElement(l.default,{message:"conversations-visitor-message-history.quickReply.selectionComplete"})))};r.renderQuickReplySelect=function(){var e=r.props,t=e.message,n=e.isThreadStarted,o=e.requiresExplicitConsentToProcess,i=r.state.selectedQuickReply,s=(0,M.getQuickReplyReplies)(t);return a.default.createElement("div",{className:"m-bottom-3 m-x-3"},a.default.createElement(N.default,{quickReplyOptions:s,disabled:o||!n,onChange:r.handleQuickReplySelect,value:(0,P.getOptionValue)(i),placeholder:u.default.text("conversations-visitor-message-history.quickReply.selectionPlaceholder")}))};r.state={selectedQuickReply:(0,i.Map)()};return r}n(t,[{key:"isSentFromVisitor",value:function(){return(0,E.getSenderType)(this.props.message)===O.VISITOR}},{key:"renderMessageHeader",value:function(){var e=this.props,t=e.message,r=e.positionDescriptors,n=e.senders;if(!r.includes(d.FIRST_IN_GROUP)||this.isSentFromVisitor())return null;var o=(0,E.getSenderId)(t),i=(0,E.getSenderType)(t),s=(0,m.findSender)(o,i,n),u=(0,g.getData)(s);u||(u=(0,v.default)({senderType:i,firstName:(0,E.getFromName)(t),email:(0,E.getFromAddress)(t)||null}));var l=(0,y.isSenderLoading)(s);return a.default.createElement(x.default,null,a.default.createElement(w.default,null,a.default.createElement(c.default,{sender:u,isLoading:l})),a.default.createElement(R.default,null,a.default.createElement(b.default,{isSenderLoading:l,sender:u})))}},{key:"renderTimeStamp",value:function(){var e=this.props,t=e.message,r=e.positionDescriptors.includes(d.LAST_IN_GROUP),n=(0,E.getTimestamp)(t);return r&&n?a.default.createElement(S.default,null,a.default.createElement(s.default,{use:"help"},(0,_.getHistoryFormattedTimestamp)(n))):null}},{key:"renderMessageFooter",value:function(){var e=this.props,t=e.message,r=e.ungatedForQuickReplySelect,n=(0,M.getQuickReplyReplies)(t),o=(0,M.getQuickReplyAllowMultiSelect)(t);return this.showQuickReplies()&&this.showQuickReplySelection()?this.renderQuickReplySendButton():this.showQuickReplies()&&(!r||n.count()<=j.MAX_QUICK_REPLY_BUTTONS||o)?this.renderQuickReplyGroup():this.renderTimeStamp()}},{key:"render",value:function(){var e=this.props,t=e.fileAttachments,r=e.message,n=e.positionDescriptors,o=e.toggleOpen,i=e.mobile,s=this.isSentFromVisitor()?f.VISITOR:f.AGENT;return a.default.createElement(C.default,{positionDescriptors:n,use:s},this.renderMessageHeader(),a.default.createElement(L.default,{fileAttachments:t,isLastMessage:n.includes(d.LAST),message:r,quickReplySelect:this.showQuickReplySelection()&&this.renderQuickReplySelect,mobile:i,toggleOpen:o}),this.renderMessageFooter())}}]);return t}();H.displayName="CommonMessage";H.propTypes={fileAttachments:o.PropTypes.instanceOf(i.List),hasUnansweredQuickReplyMessage:o.PropTypes.bool,isThreadStarted:o.PropTypes.bool.isRequired,message:o.PropTypes.oneOfType([(0,T.default)("PubNubMessageRecord"),(0,T.default)("CommonMessage")]).isRequired,mobile:o.PropTypes.bool,positionDescriptors:p.default.isRequired,publishMessage:o.PropTypes.func,requiresExplicitConsentToProcess:o.PropTypes.bool.isRequired,senders:h.default,toggleOpen:o.PropTypes.func,ungatedForQuickReplySelect:o.PropTypes.bool};t.default=H;e.exports=t.default},1721:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHasQuickReplyOptions=void 0;var n=r(166),o=r(303),a=r(471);t.getHasQuickReplyOptions=function(e){var t=(0,o.getSenderType)(e);return(0,a.getQuickReply)(e)&&t===n.BOT}},1722:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.withConsent=void 0;var n=r(9),o=r(1723),a=function(e){return{requiresExplicitConsentToProcess:(0,o.getShowGdprConsentToProcess)(e)}},i={};t.withConsent=(0,n.connect)(a,i)},1723:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getShowGdprConsentToProcess=void 0;var n=r(168),o=r(809),a=r(1410),i=r(170),s=r(1412);t.getShowGdprConsentToProcess=(0,n.createSelector)([i.getLatestWidgetData,s.getHasGivenConsentToProcess],function(e,t){return(0,o.gdprConsentToProcessEnabled)(e)&&!t&&(0,a.gdprExplicitConsentRequired)(e)})},1725:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.wrapFailedMessage=void 0;var n=r(633),o=r(312),a=r(303),i=s(r(768));function s(e){return e&&e.__esModule?e:{default:e}}t.wrapFailedMessage=function(e,t){return function(r){return(0,o.isCommonMessageFormat)(r)&&(0,a.getStatusForCmf)(r)===n.FAILED?(0,i.default)({message:r,threadId:e,channel:t}):r}}},1727:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadHistoryData=void 0;var n=r(171),o=r(168),a=r(1728),i=r(1397),s=r(329),u=r(235);t.getCurrentThreadHistoryData=(0,o.createSelector)([i.getCurrentThreadId,a.getCurrentThreadHistoryEntry,s.getStagedThreadHistory],function(e,t,r){return e===u.STUBBED_THREAD_ID?r:(0,n.getData)(t)||null})},1728:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadHistoryEntry=void 0;var n=r(289),o=r(168),a=r(298),i=r(1397);t.getCurrentThreadHistoryEntry=(0,o.createSelector)([a.getThreadHistories,i.getCurrentThreadId],function(e,t){return"number"!=typeof t?null:(0,n.getEntry)(t,e)||null})},1732:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getFilteredMessages=void 0;var n=r(247),o=r(243),a=r(42),i=r(168),s=g(r(1733)),u=g(r(377)),l=g(r(133)),c=r(1504),d=r(535),f=r(1592),p=r(1725),h=r(1727),m=r(1735);function g(e){return e&&e.__esModule?e:{default:e}}var y=void 0;t.getFilteredMessages=(0,i.createSelector)([d.getSelectedThread,h.getCurrentThreadHistoryData,c.getUnpublishedMessagesForCurrentThread,m.getTypingMessages],function(e,t,r,i){var c=(0,o.getChannel)(e),d=(0,o.getThreadId)(e),h=(0,n.getMessages)(t)||(0,a.List)(),m=(0,l.default)((0,s.default)(h),(0,s.default)(r),(0,u.default)((0,p.wrapFailedMessage)(d,c)),(0,s.default)(i))((0,a.List)()),g=m.size?m.filter(f.isSupportedMessageType):(0,a.List)();(0,a.is)(y,g)||(y=g);return y})},1733:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(117)),o=a(r(1734));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(o.default);e.exports=t.default},1734:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42),o=r(122);o.concat.implement(Array,function(e,t){return n.Iterable.isIterable(e)?t.concat(e.toJS()):t.concat(e)});o.concat.implementInherited(n.Seq.Indexed,function(e,t){return t.concat(e)});o.concat.implementInherited(n.Collection.Indexed,function(e,t){return t.concat(e)});o.concat.implement(String,function(e,t){return t.concat(e)});t.default=o.concat;e.exports=t.default},1735:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTypingMessages=void 0;var n=r(614),o=r(184),a=d(r(218)),i=r(616),s=r(168),u=r(1736),l=r(1397),c=r(42);function d(e){return e&&e.__esModule?e:{default:e}}t.getTypingMessages=(0,s.createSelector)([u.getTypingResponderFromCurrentThread,l.getCurrentThreadId],function(e,t){return e&&t?(0,c.List)([(0,o.buildUnpublishedMessage)({descriptor:{},metadata:(0,a.default)(),senderId:(0,i.getUserId)(e),senderType:(0,n.agentTypeToSenderType)((0,i.getAgentType)(e),!0),threadId:t})]):(0,c.List)()})},1736:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTypingResponderFromCurrentThread=void 0;var n=r(168),o=r(535),a=r(1737);t.getTypingResponderFromCurrentThread=(0,n.createSelector)([function(e){return e},o.getSelectedThread],function(e,t){return(0,a.typingResponder)(e,{thread:t})})},1737:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.typingResponder=void 0;var n=r(168),o=c(r(1738)),a=c(r(116)),i=r(616),s=r(650),u=r(647),l=r(1739);function c(e){return e&&e.__esModule?e:{default:e}}t.typingResponder=(0,n.createSelector)([l.typingTimeoutsForThreadInProps,u.getAllAgentResponders,s.getWidgetBotResponder],function(e,t,r){var n=(0,i.getUserId)(r);return(0,a.default)(n,e)?r:t&&t.find(function(t){var r=(0,i.getUserId)(t);return(0,o.default)(r,e)})})},1738:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(117)),o=a(r(284));function a(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(o.default);e.exports=t.default},1739:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.typingTimeoutsForThreadInProps=void 0;var n=r(42),o=r(168),a=l(r(116)),i=r(243),s=r(299),u=r(696);function l(e){return e&&e.__esModule?e:{default:e}}t.typingTimeoutsForThreadInProps=(0,o.createSelector)([s.threadFromProps,u.typingStates],function(e,t){var r=(0,i.getThreadId)(e);return(0,a.default)(""+r,t)||(0,n.Map)()})},1741:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.insertDatesIntoMessageList=void 0;var n=r(399),o=r(130),a=r(42),i=r(1742),s=l(r(1743)),u=r(1744);function l(e){return e&&e.__esModule?e:{default:e}}t.insertDatesIntoMessageList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.reduce(function(a,l,c){var d=c>0?e.get(c-1):void 0;(0,u.shouldRenderDate)(l,d,r)&&(0,i.isValidMessageHistoryType)(l,t)&&(a=a.push(new s.default({id:(0,n.generateUuid)(),timestamp:(0,o.getTimestamp)(l)})));return a.push(l)},(0,a.List)())}},1742:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isValidMessageHistoryType=void 0;var n=r(130);t.isValidMessageHistoryType=function(e,t){return Boolean(t[(0,n.getType)(e)])}},1743:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(42),a=r(1595);function i(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}var s=(0,o.Record)((i(n={},a.MESSAGE_TYPE_ID,a.DATE_MESSAGE),i(n,"timestamp",null),i(n,"id",null),n),"DateMessage");t.default=s;e.exports=t.default},1744:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRenderDate=void 0;var n=r(1745),o=r(130);t.shouldRenderDate=function(e,t,r){return!(!t&&!r)&&Boolean((0,o.getTimestamp)(e)&&(!t||(0,n.areDifferentDays)(t,e)))}},1745:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areDifferentDays=void 0;var n=r(130),o=a(r(265));function a(e){return e&&e.__esModule?e:{default:e}}t.areDifferentDays=function(e,t){var r=o.default.moment((0,n.getTimestamp)(e)),a=o.default.moment((0,n.getTimestamp)(t));return!r.isSame(a,"day")}},1746:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessagesList=void 0;var n=r(1741),o=r(168),a=r(1594),i=r(1732),s=!1;t.getMessagesList=(0,o.createSelector)([i.getFilteredMessages],function(e){return(0,n.insertDatesIntoMessageList)(e,a.MessageHistoryConfig,s)})},1748:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getSendersMap=void 0;var n=p(r(41)),o=r(172),a=r(171),i=r(289),s=r(42),u=r(168),l=p(r(281)),c=r(623),d=r(1586),f=r(1590);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}t.getSendersMap=(0,u.createSelector)([c.getResponders],function(e){return(0,i.getEntries)(e).reduce(function(e,t,r){var i,s=(0,a.getData)(t);return(0,l.default)([(0,f.getResponderKeyAsSenderLocator)(r)],(0,n.default)((h(i={},o.DATA,s?(0,d.getResponderAsSender)(s):null),h(i,o.STATUS,(0,a.getStatus)(t)),i)),e)},(0,s.Map)())})},1751:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=l(o),i=l(r(926)),s=r(968),u=l(r(1752));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=i.default.div.withConfig({displayName:"ProcessConsentPrompt__ConsentPromptWrapper"})(["border-top:2px solid ",";"],s.CIRRUS),h=function(e){f(t,o.Component);function t(){c(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"componentDidMount",value:function(){(0,this.props.trackInteraction)("widget-interaction",{action:"view consent to process"})}},{key:"render",value:function(){var e=this.props,t=e.consentToProcess,r=e.consentToProcessMessage,n=e.showGdprConsentToProcessButton;return a.default.createElement(p,null,a.default.createElement(u.default,{showButton:n,message:r,onClick:t}))}}]);return t}();h.displayName="ProcessConsentPrompt";h.propTypes={consentToProcess:o.PropTypes.func,consentToProcessMessage:o.PropTypes.string,showGdprConsentToProcessButton:o.PropTypes.bool,trackInteraction:o.PropTypes.func};t.default=h;e.exports=t.default},1752:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=h(n),a=h(r(926)),i=h(r(1699)),s=h(r(1196)),u=h(r(1125)),l=h(r(1114)),c=r(968),d=h(r(1696)),f=r(221),p=r(1150);function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,a.default)(u.default).withConfig({displayName:"ConsentPrompt__SmallNoParagraphPadding"})(["p{margin-bottom:0;}"]),g=function(e){var t=e.message,r=e.onClick,n=e.showButton;return o.default.createElement(s.default,{align:"center",justify:"between",wrap:"wrap",className:"p-y-2 p-x-4","data-test-id":"gdpr-consent-prompt"},o.default.createElement(d.default,{className:"m-bottom-0","data-test-id":"gdpr-consent-text"},o.default.createElement(m,{dangerouslySetInnerHTML:{__html:(0,f.clean)(t)},style:{color:c.FLINT}})),n&&o.default.createElement(i.default,{duration:1e3,onClick:r,style:{width:"100%"},className:"m-bottom-2 m-top-3",use:"tertiary",size:"md","data-test-id":"gdpr-consent-agree-button"},o.default.createElement(p.ChatWidgetLocaleContextConsumer,null,function(e){return o.default.createElement(l.default,{message:"conversations-visitor-experience-components.buttons.agree",options:{locale:e}})})))};g.propTypes={message:n.PropTypes.string.isRequired,onClick:n.PropTypes.func.isRequired,showButton:n.PropTypes.bool.isRequired};t.default=g;e.exports=t.default},1754:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(1367),a=r(1382),i=r(1396),s=r(1755),u=r(1483),l=r(1502),c=r(1756),d=r(535),f=r(952),p=r(538),h=r(1757),m=r(1524),g=r(1758),y=T(r(1468)),v=r(1234),b=r(1245),_=r(1565);function T(e){return e&&e.__esModule?e:{default:e}}var E=function(e){var t=(0,d.getSelectedThread)(e);return{coloring:(0,f.getColoring)(e),currentConversation:t,disablePublish:!(0,l.canPublish)(e),disableTextInput:!(0,_.getAllowUserInput)(e,{thread:t})&&(0,m.hasUnansweredQuickReplyMessage)(e,{thread:t}),messagesPageUri:(0,p.getMessagesPageUri)(e),networkOffline:(0,c.pubsubConnectionFailed)(e),showingHsBranding:(0,h.getShowingHsBranding)(e),showInitialMessageBubble:(0,b.getShowInitialMessageBubble)(e),stagedAttachments:(0,i.getFileUploadListForCurrentThreadId)(e),supportsMultipleAttachments:(0,s.isUngatedForMultipleAttachments)(e)}},P={closeInitialMessageBubble:v.closeInitialMessageBubble,onRemoveAttachment:o.removeAttachmentFromThread,onSelectAttachmentFile:a.selectAttachmentFile,publishMessage:u.publishVisitorMessage,publishTypingMessage:g.publishTypingMessage};t.default=(0,n.connect)(E,P)(y.default);e.exports=t.default},1755:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isUngatedForMultipleAttachments=void 0;var n=r(168),o=s(r(116)),a=r(636),i=r(637);function s(e){return e&&e.__esModule?e:{default:e}}t.isUngatedForMultipleAttachments=(0,n.createSelector)([a.getGates],function(e){return Boolean((0,o.default)(i.MULTIPLE_ATTACHMENTS,e))})},1756:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.pubsubConnectionFailed=void 0;var n=r(168),o=r(330),a=r(470);t.pubsubConnectionFailed=(0,n.createSelector)([a.getAsyncPubSubClient],o.isFailed)},1757:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getShowingHsBranding=void 0;var n=i(r(116)),o=r(168),a=r(170);function i(e){return e&&e.__esModule?e:{default:e}}t.getShowingHsBranding=(0,o.createSelector)(a.getLatestWidgetData,(0,n.default)("showingHsBranding"))},1758:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.publishTypingMessage=void 0;var n=r(184),o=r(166),a=l(r(218)),i=r(243),s=r(233),u=r(812);function l(e){return e&&e.__esModule?e:{default:e}}t.publishTypingMessage=function(e){var t=e.thread;return function(e,r){var l=(0,i.getChannel)(t),c=(0,i.getThreadId)(t),d=(0,n.buildUnpublishedMessage)({descriptor:{},metadata:(0,a.default)(),senderId:(0,u.getMessagesUtk)(r()),senderType:o.VISITOR,threadId:c});e((0,s.publishMessageToConversation)({channel:l,message:d,threadId:c}))}}},1759:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(34)),o=r(9),a=f(r(1760)),i=r(1746),s=r(952),u=r(1748),l=r(1513),c=r(508),d=r(507);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=void 0;try{t=(0,i.getMessagesList)(e)}catch(e){(0,c.reportError)({error:(0,d.buildError)("ConnectedChatHistoryGetMessagesList selector threw: "+e.message,e)});throw e}return{coloring:(0,s.getColoring)(e),fileAttachments:(0,l.getSuccessfulFileAttachments)(e),messagesList:t,portalId:n.default.get(),senders:(0,u.getSendersMap)(e)}},h={};t.default=(0,o.connect)(p,h)(a.default);e.exports=t.default},1760:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=v(r(1761)),a=v(r(950)),i=v(r(1771)),s=r(42),u=r(3),l=v(u),c=v(r(1772)),d=r(1594),f=v(r(1773)),p=r(1774),h=v(r(1777)),m=v(r(1257)),g=v(r(1781)),y=v(r(1114));function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){T(t,u.Component);function t(){b(this,t);return _(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"renderError",value:function(){var e=l.default.createElement(y.default,{message:"conversations-visitor-ui.network.pubSubFailure.title"});return l.default.createElement(g.default,{title:e,onClose:function(){}})}},{key:"render",value:function(){var e=this.props,t=e.coloring,r=e.fileAttachments,n=e.isUngatedForEOC,a=e.messagesList,s=e.portalId,u=e.senders,g=e.shouldRenderNewThreadPrompt;return l.default.createElement(m.default,{renderError:this.renderError,errorLoggingTitle:"ConnectedThreadHistoryFetcher"},l.default.createElement(f.default,{messageCount:(0,c.default)(a),shouldScrollToBottom:g,isUngatedForEOC:n},l.default.createElement(m.default,{renderError:this.renderError,errorLoggingTitle:"ThemeConfigProvider"},l.default.createElement(i.default,{themeConfig:(0,p.buildMessageHistoryTheme)({coloring:t})},l.default.createElement(m.default,{renderError:this.renderError,errorLoggingTitle:"MessageHistory"},l.default.createElement(o.default,{fileAttachments:r,historyConfig:d.MessageHistoryConfig,messages:a,portalId:s,senders:u}),g&&n?l.default.createElement(h.default,null):null)))))}}]);return t}();E.propTypes={coloring:(0,a.default)("ColoringRecord").isRequired,fileAttachments:u.PropTypes.instanceOf(s.Map).isRequired,isUngatedForEOC:u.PropTypes.bool.isRequired,messagesList:u.PropTypes.instanceOf(s.List),portalId:u.PropTypes.number.isRequired,senders:u.PropTypes.instanceOf(s.Map).isRequired,shouldRenderNewThreadPrompt:u.PropTypes.bool.isRequired};E.displayName="ThreadHistory";t.default=E;e.exports=t.default},1761:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(130),a=r(42),i=r(3),s=y(i),u=y(r(926)),l=y(r(1762)),c=y(r(1612)),d=r(162),f=r(1763),p=r(1766),h=r(1768),m=r(1769),g=y(r(1770));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=u.default.div.withConfig({displayName:"MessageHistory__ReflowElement"})(["z-index:0;padding-top:4px;padding-left:16px;padding-right:16px;"]),E=function(e){_(t,s.default.PureComponent);function t(){v(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"getDontIncludeLastInGroup",value:function(e,t){var r=this.props.messages.get(t+2);return!(!r||!(0,f.areMessagesGrouped)(e,r))}},{key:"renderHistory",value:function(){var e=this,t=this.props,r=t.messages,n=t.historyConfig,a=t.fileAttachments,i=t.portalId,u=t.senders,l=t.visitorLastReadTimestamp,c=t.lastMessageId;return r.map(function(t,f){var y=f>0?r.get(f-1):void 0,v=r.get(f+1),b=void 0;(0,o.getType)(v)===d.TYPICAL_RESPONSE_TIME&&(b=e.getDontIncludeLastInGroup(t,f));var _=(0,p.getAttachmentsForMessage)(t,a);return s.default.createElement(g.default,{historyConfig:n,fileAttachments:_,portalId:i,positionDescriptors:(0,m.getPositionDescriptors)(t,y,v,b),key:(0,h.getMessageId)(t),message:t,senders:u,visitorLastReadTimestamp:l,lastMessageId:c})})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.themeConfig;return s.default.createElement(T,{className:t},s.default.createElement(l.default.Provider,{value:r},this.renderHistory()))}}]);return t}();E.displayName="MessageHistory";E.propTypes={className:i.PropTypes.string,fileAttachments:i.PropTypes.instanceOf(a.Map),historyConfig:i.PropTypes.object.isRequired,lastMessageId:i.PropTypes.string,messages:i.PropTypes.instanceOf(a.List),portalId:i.PropTypes.number.isRequired,senders:c.default,themeConfig:i.PropTypes.object,visitorLastReadTimestamp:i.PropTypes.number};E.defaultProps={fileAttachments:(0,a.Map)(),preventAutoscroll:!1,scrollContainerToBottom:function(){},displayEmailDeleteBanner:!1};t.default=E;e.exports=t.default},1762:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.defaultThemeConfig=void 0;var n,o=r(968),a=r(3),i=r(1608),s=u(r(1684));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}var c=t.defaultThemeConfig=(l(n={},i.DEFAULT,(0,s.default)()),l(n,i.AGENT,(0,s.default)()),l(n,i.VISITOR,(0,s.default)({backgroundColor:o.CALYPSO_LIGHT,borderColor:o.CALYPSO_MEDIUM})),n),d=(0,a.createContext)(c);t.default=d},1763:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areMessagesGrouped=void 0;var n=r(130),o=r(326),a=r(1764),i=function(e,t){return(0,n.getType)(e)===(0,n.getType)(t)},s=6e4,u=(0,r(1765).areNMsApart)(s);t.areMessagesGrouped=function(e,t){e=(0,o.getMessage)(e)||e;t=(0,o.getMessage)(t)||t;return(0,a.areFromSameSender)(e,t)&&i(e,t)&&!u(e,t)}},1764:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areFromSameSender=void 0;var n=r(130);t.areFromSameSender=function(e,t){return(0,n.getSenderId)(e)===(0,n.getSenderId)(t)&&(0,n.getSenderType)(e)===(0,n.getSenderType)(t)}},1765:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areNMsApart=void 0;var n=r(130);t.areNMsApart=function(e){return function(t,r){var o=(0,n.getTimestamp)(t),a=(0,n.getTimestamp)(r);return Math.abs(o-a)>=e}}},1766:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getAttachmentsForMessage=void 0;var n=r(1767),o=r(42),a=s(r(110)),i=r(491);function s(e){return e&&e.__esModule?e:{default:e}}t.getAttachmentsForMessage=(0,a.default)(function(e,t){e=(0,n.getPubSubMessage)(e);return(0,i.fileAttachmentIdsInMessage)(e).reduce(function(e,r){return t.has(""+r)?e.push(t.get(""+r)):e},(0,o.List)())})},1767:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getPubSubMessage=void 0;var n=r(326);t.getPubSubMessage=function(e){return(0,n.getMessage)(e)||e}},1768:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var n=o(r(131));function o(e){return e&&e.__esModule?e:{default:e}}t.getMessageId=function(e){return(0,n.default)(["id"],e)||(0,n.default)(["message","id"],e)||-1}},1769:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getPositionDescriptors=void 0;var n=r(42),o=r(1611),a=r(1763),i=r(1768);function s(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}var u={},l=function(e,t,r){return(0,i.getMessageId)(e)+"-"+(0,i.getMessageId)(t)+"-"+(0,i.getMessageId)(r)};t.getPositionDescriptors=function(e,t,r,i){var c,d=l(e,t,r);if(u[d])return u[d];var f=!t,p=!(0,a.areMessagesGrouped)(e,t),h=!i&&!(0,a.areMessagesGrouped)(e,r),m=!r,g=(s(c={},o.FIRST,f),s(c,o.FIRST_IN_GROUP,p),s(c,o.LAST_IN_GROUP,h),s(c,o.LAST,m),c),y=Object.keys(g).reduce(function(e,t){return g[t]?e.add(t):e},(0,n.Set)());u[d]=y;return y}},1770:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(130),a=r(42),i=r(3),s=f(i),u=f(r(1609)),l=f(r(1612)),c=r(1579),d=r(1768);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){g(t,s.default.PureComponent);function t(){h(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"renderHistoryItem",value:function(){var e=this.props,t=e.fileAttachments,r=e.historyConfig,n=e.message,a=e.portalId,i=e.positionDescriptors,u=e.senders,l=e.visitorLastReadTimestamp,c=e.lastMessageId,d=r[(0,o.getType)(n)];return d?s.default.createElement(d,{fileAttachments:t,message:n,portalId:a,positionDescriptors:i,senders:u,visitorLastReadTimestamp:l,lastMessageId:c}):null}},{key:"render",value:function(){var e=p({},c.MESSAGE_ID_ATTR,(0,d.getMessageId)(this.props.message));return s.default.createElement("div",e,this.renderHistoryItem())}}]);return t}();y.displayName="MessageHistoryItem";y.propTypes={fileAttachments:i.PropTypes.instanceOf(a.List),historyConfig:i.PropTypes.object.isRequired,lastMessageId:i.PropTypes.string,message:i.PropTypes.instanceOf(a.Record).isRequired,portalId:i.PropTypes.number.isRequired,positionDescriptors:u.default.isRequired,senders:l.default,visitorLastReadTimestamp:i.PropTypes.number};y.defaultProps={innerRef:function(){},positionDescriptors:[]};t.default=y;e.exports=t.default},1771:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(950)),o=r(3),a=s(o),i=s(r(1626));function s(e){return e&&e.__esModule?e:{default:e}}var u=(0,o.memo)(function(e){var t=e.themeConfig,r=e.children;return a.default.createElement(i.default.Provider,{value:t},r)});u.displayName="ThemeConfigProvider";u.propTypes={children:o.PropTypes.node.isRequired,themeConfig:o.PropTypes.objectOf((0,n.default)("Theme"))};t.default=u;e.exports=t.default},1772:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(283));function o(e){return e&&e.__esModule?e:{default:e}}t.default=n.default;e.exports=t.default},1773:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(330),o=r(9),a=r(482),i=r(598),s=d(r(1573)),u=r(1727),l=r(1728),c=r(1397);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=(0,l.getCurrentThreadHistoryEntry)(e);return{isLoadingHistory:(0,n.isStarted)(t),loadingHistoryFailed:(0,n.isFailed)(t),sessionId:(0,a.getSessionId)(e),threadHistory:(0,u.getCurrentThreadHistoryData)(e),threadId:(0,c.getCurrentThreadId)(e)}},p={fetchThreadHistory:i.fetchThreadHistory};t.default=(0,o.connect)(f,p)(s.default);e.exports=t.default},1774:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.buildMessageHistoryTheme=void 0;var n=r(1608),o=r(1217),a=r(1775),i=r(1441),s=d(r(1776)),u=d(r(1622)),l=d(r(1620)),c=r(968);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}var p=(0,s.default)({tileBackgroundColor:c.GYPSUM});t.buildMessageHistoryTheme=function(e){var t,r=e.coloring;return f(t={},n.DEFAULT,(0,l.default)({borderRadius:"0px 8px 8px 8px",borderWidth:"0px",fileAttachmentTheme:p})),f(t,n.AGENT,(0,l.default)({borderRadius:"0px 8px 8px 8px",borderWidth:"0px",fileAttachmentTheme:p,widgetAccent:(0,i.getUseDefaultColor)(r)?c.HEFFALUMP:(0,o.getAccentColor)(r),quickReplyTheme:(0,u.default)({borderColor:(0,i.getUseDefaultColor)(r)?c.FLINT:(0,o.getAccentColor)(r),color:(0,i.getUseDefaultColor)(r)?c.HEFFALUMP:(0,a.getTextColor)(r)})})),f(t,n.VISITOR,(0,l.default)({alignItems:"flex-end",backgroundColor:(0,i.getUseDefaultColor)(r)?c.KOALA:(0,o.getAccentColor)(r),borderColor:"rgba(0, 0, 0, 0.2)",borderRadius:"8px 0px 8px 8px",borderWidth:"0px",textColor:(0,i.getUseDefaultColor)(r)?c.HEFFALUMP:(0,a.getTextColor)(r),fileAttachmentTheme:p,widgetAccent:(0,i.getUseDefaultColor)(r)?c.HEFFALUMP:(0,o.getAccentColor)(r)})),t}},1775:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTextColor=void 0;var n=o(r(131));function o(e){return e&&e.__esModule?e:{default:e}}t.getTextColor=(0,n.default)(["textColor"])},1776:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=(0,r(42).Record)({tileBackgroundColor:"rgba(255, 255, 255, 0.5)"},"FileAttachmentTheme");t.default=n;e.exports=t.default},1777:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1217),o=l(r(1778)),a=r(9),i=r(1183),s=r(952),u=r(1780);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return{accentColor:(0,n.getAccentColor)((0,s.getColoring)(e)),isUngatedForEOC:(0,u.isUngatedForEOC)(e)}},d={createNewThread:i.navigateToStagedThread};t.default=(0,a.connect)(c,d)(o.default);e.exports=t.default},1778:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(1114)),o=r(3),a=c(o),i=r(968),s=c(r(1779)),u=r(1150),l=c(r(926));function c(e){return e&&e.__esModule?e:{default:e}}var d=l.default.div.withConfig({displayName:"NewThreadPrompt__NewThreadpromptContainer"})(["padding:32px 20px 12px 20px;text-align:center;width:100%;"]),f=(0,l.default)(d).withConfig({displayName:"NewThreadPrompt__PreUTV"})(["border-top:2px solid ",";"],i.CIRRUS);function p(e){var t=e.accentColor,r=e.createNewThread,o=e.isUngatedForEOC;return a.default.createElement(u.ChatWidgetLocaleContextConsumer,null,function(e){return o?a.default.createElement(d,null,a.default.createElement("p",{className:"m-bottom-0"},a.default.createElement(n.default,{message:"conversations-visitor-experience-components.newThreadPrompt.newHeading",options:{locale:e}})),a.default.createElement(s.default,{accentColor:t,createNewThread:r,isUngatedForEOC:o},a.default.createElement(n.default,{message:"conversations-visitor-experience-components.newThreadPrompt.newButton",options:{locale:e}}))):a.default.createElement(f,null,a.default.createElement("h5",{className:"m-bottom-1"},a.default.createElement(n.default,{message:"conversations-visitor-experience-components.newThreadPrompt.heading",options:{locale:e}})),a.default.createElement("p",{className:"m-bottom-3"},a.default.createElement(n.default,{message:"conversations-visitor-experience-components.newThreadPrompt.paragraph",options:{locale:e}})),a.default.createElement(s.default,{accentColor:t,createNewThread:r,isUngatedForEOC:o},a.default.createElement(n.default,{message:"conversations-visitor-experience-components.newThreadPrompt.button",options:{locale:e}})))})}p.propTypes={accentColor:o.PropTypes.string.isRequired,createNewThread:o.PropTypes.func.isRequired,isUngatedForEOC:o.PropTypes.bool.isRequired};t.default=p;e.exports=t.default},1779:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=d(r(34)),o=r(3),a=d(o),i=d(r(996)),s=d(r(926)),u=r(817),l=r(816),c=r(968);function d(e){return e&&e.__esModule?e:{default:e}}var f="visitor-widget-start-new-thread-button",p=s.default.span.withConfig({displayName:"NewThreadButton__ButtonWrapper"})([".uiButton:hover{background-color:rgba(",");}.uiButton:active{background-color:rgba(",");}"],function(e){var t=e.accentColor;return(0,l.hexToRgba)(t,.1)},function(e){var t=e.accentColor;return(0,l.hexToRgba)(t,.2)});function h(e){var t=e.accentColor,r=e.createNewThread,o=e.children,s=e.isUngatedForEOC,l=53===n.default.get()||99535353===n.default.get(),d=!1===(0,u.canReadText)(t,"#ffffff");if(s){var h=l?c.CALYPSO:t;return a.default.createElement(i.default,{"data-test-id":f,size:"small",onClick:r,style:{width:"auto",color:h},use:"unstyled"},o)}return l||d?a.default.createElement(i.default,{"data-test-id":f,size:"small",onClick:r,style:{width:"auto"},use:l?"primary":"tertiary-extra-light"},o):a.default.createElement(p,{accentColor:t,isPortal53:l,isLowContrast:d},a.default.createElement(i.default,{"data-test-id":f,size:"small",onClick:r,style:{width:"auto",color:t,borderColor:t}},o))}h.propTypes={accentColor:o.PropTypes.string.isRequired,children:o.PropTypes.node.isRequired,createNewThread:o.PropTypes.func.isRequired,isUngatedForEOC:o.PropTypes.bool.isRequired};t.default=h;e.exports=t.default},1780:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isUngatedForEOC=void 0;var n=r(168),o=s(r(116)),a=r(636),i=r(637);function s(e){return e&&e.__esModule?e:{default:e}}t.isUngatedForEOC=(0,n.createSelector)([a.getGates],function(e){return Boolean((0,o.default)(i.LIVECHAT_EOC,e))})},1781:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=l(o),i=l(r(926)),s=l(r(1031)),u=r(968);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=i.default.div.withConfig({displayName:"ChatAreaAlert__Wrapper"})(["width:100%;display:flex;justify-content:center;background-color:transparent;"]),h=i.default.div.withConfig({displayName:"ChatAreaAlert__Alert"})(["display:flex;justify-content:flex-end;align-items:center;padding:7px 14px;min-width:85%;background-color:",";border:1px solid ",";font-weight:500;font-size:12px;"],u.MARIGOLD_LIGHT,u.MARIGOLD_MEDIUM),m=i.default.div.withConfig({displayName:"ChatAreaAlert__Title"})(["flex:0 1 100%;"]),g=i.default.div.withConfig({displayName:"ChatAreaAlert__LinkWrapper"})(["flex:0 0 auto;"]),y=(0,i.default)(s.default).withConfig({displayName:"ChatAreaAlert__StyledCloseButton"})(["position:static;flex:0 0 12px;margin-left:20px;"]),v=function(e){f(t,a.default.Component);function t(){c(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){return a.default.createElement(p,null,a.default.createElement(h,null,a.default.createElement(m,null,this.props.title),a.default.createElement(g,null,this.props.link),a.default.createElement(y,{color:u.OBSIDIAN,onClick:this.props.onClose})))}}]);return t}();v.propTypes={link:o.PropTypes.node,onClose:o.PropTypes.func.isRequired,title:o.PropTypes.node.isRequired};v.defaultProps={onClose:function(){}};t.default=v;e.exports=t.default},1782:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=y(o),i=y(r(926)),s=y(r(1754)),u=y(r(1759)),l=y(r(1783)),c=y(r(1777)),d=y(r(1793)),f=y(r(1795)),p=y(r(1781)),h=y(r(1114)),m=y(r(1257)),g=r(1799);function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=i.default.div.withConfig({displayName:"UnifiedThreadView__UnifiedThreadViewWrapper"})(["display:flex;flex-direction:column;height:100%;"]),E=function(e){_(t,o.PureComponent);function t(e){v(this,t);var r=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={renderNewThreadPrompt:!e.isThreadStarted};return r}n(t,[{key:"componentDidUpdate",value:function(e){var t=this,r=this.props.isThreadStarted,n=e.isThreadStarted;r||r===n||setTimeout(function(){t.setRenderNewThreadPromptTrue()},g.END_OF_MESSAGE_DELAY_TIME);r&&this.state.renderNewThreadPrompt&&this.setRenderNewThreadPromptFalse()}},{key:"setRenderNewThreadPromptTrue",value:function(){this.setState({renderNewThreadPrompt:!0})}},{key:"setRenderNewThreadPromptFalse",value:function(){this.setState({renderNewThreadPrompt:!1})}},{key:"renderMessageEditor",value:function(){var e=this.props,t=e.isThreadStarted,r=e.requiresExplicitConsentToProcess,n=e.isUngatedForEOC,i=this.state.renderNewThreadPrompt;return t||n?r||n&&i?null:a.default.createElement(o.Fragment,null,a.default.createElement(l.default,null),a.default.createElement(s.default,null)):a.default.createElement(c.default,null)}},{key:"renderError",value:function(){var e=a.default.createElement(h.default,{message:"conversations-visitor-ui.network.pubSubFailure.title"});return a.default.createElement(p.default,{title:e,onClose:function(){}})}},{key:"render",value:function(){var e=this.props,t=e.showingGdprProcess,r=e.showingHsBranding,n=e.isUngatedForEOC,o=this.state.renderNewThreadPrompt;return a.default.createElement(T,null,a.default.createElement(m.default,{renderError:this.renderError,errorLoggingTitle:"ConnectedThreadHistory"},a.default.createElement(u.default,{shouldRenderNewThreadPrompt:o,isUngatedForEOC:n})),t&&a.default.createElement(d.default,null),this.renderMessageEditor(),r&&a.default.createElement(f.default,null))}}]);return t}();E.displayName="UnifiedThreadView";E.propTypes={isThreadStarted:o.PropTypes.bool.isRequired,isUngatedForEOC:o.PropTypes.bool.isRequired,requiresExplicitConsentToProcess:o.PropTypes.bool.isRequired,showingGdprProcess:o.PropTypes.bool.isRequired,showingHsBranding:o.PropTypes.bool.isRequired};t.default=E;e.exports=t.default},1783:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(535),a=i(r(1784));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return{thread:(0,o.getSelectedThread)(e)}};t.default=(0,n.connect)(s)(a.default);e.exports=t.default},1784:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(707),a=r(251),i=h(r(1785)),s=r(1393),u=r(1361),l=r(1382),c=r(1791),d=r(1792),f=r(1484),p=r(587);function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e,t){var r=t.thread;return{attachmentsError:(0,s.attachmentsErrorForThreadInProps)(e,{thread:r}),networkError:(0,c.getNetworkErrors)(e)}},g={createNewThread:f.createNewThread,dismissAttachmentsError:u.dismissAttachmentsError,fetchOlderThreadHistory:d.fetchOlderThreadHistory,selectAttachmentFile:l.selectAttachmentFile,trackInteraction:a.trackInteraction,startPubSub:p.startPubSub,resubscribe:o.resubscribe};t.default=(0,n.connect)(m,g)(i.default);e.exports=t.default},1785:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=d(r(950)),a=r(3),i=d(a),s=r(1376),u=r(1786),l=d(r(1787)),c=d(r(1790));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){h(t,a.Component);function t(){f(this,t);return p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.attachmentsError,r=e.createNewThread,n=e.dismissAttachmentsError,o=e.fetchOlderThreadHistory,a=e.networkError,s=e.resubscribe,u=e.selectAttachmentFile,d=e.startPubSub,f=e.thread,p=e.trackInteraction;return t?i.default.createElement(l.default,{attachmentsError:t,dismissAttachmentsError:n,selectAttachmentFile:u,thread:f,trackInteraction:p}):a?i.default.createElement(c.default,{createNewThread:r,fetchOlderThreadHistory:o,networkError:a,resubscribe:s,startPubSub:d}):null}}]);return t}();m.displayName="ChatAreaAlertContainer";m.propTypes={attachmentsError:a.PropTypes.oneOf([s.SIZE_LIMIT_EXCEEDED,s.BLACKLISTED_EXTENSION,s.UPLOAD_ERROR]),createNewThread:a.PropTypes.func.isRequired,dismissAttachmentsError:a.PropTypes.func.isRequired,fetchOlderThreadHistory:a.PropTypes.func.isRequired,networkError:a.PropTypes.oneOf([u.NETWORK_OFFLINE,u.THREAD_HISTORY_FAILED,u.CREATE_NEW_THREAD_FAILED,u.PUBSUB_FAILED,u.SUBSCRIPTIONS_FAILED]),resubscribe:a.PropTypes.func.isRequired,selectAttachmentFile:a.PropTypes.func.isRequired,startPubSub:a.PropTypes.func.isRequired,thread:(0,o.default)("Conversation").isRequired,trackInteraction:a.PropTypes.func.isRequired};t.default=m;e.exports=t.default},1786:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.NETWORK_OFFLINE="NETWORK_OFFLINE",t.THREAD_HISTORY_FAILED="THREAD_HISTORY_FAILED",t.CREATE_NEW_THREAD_FAILED="CREATE_NEW_THREAD_FAILED",t.SUBSCRIPTIONS_FAILED="SUBSCRIPTIONS_FAILED",t.PUBSUB_FAILED="PUBSUB_FAILED"},1787:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=p(r(950)),o=p(r(1781)),a=p(r(265)),i=p(r(1114)),s=r(3),u=p(s),l=p(r(1788)),c=r(1376),d=r(1364),f=r(243);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.attachmentsError,r=e.dismissAttachmentsError,n=e.selectAttachmentFile,s=e.thread,p=e.trackInteraction,h=function(){r({threadId:(0,f.getThreadId)(s)})},m=function(e){var t=e.target.files;if(t&&t.length){var r=t.item(0);n({file:r,thread:s})}},g=function(){p("retry-attachment-upload",{action:"retry attachment upload"})},y=function(){switch(t){case c.SIZE_LIMIT_EXCEEDED:return u.default.createElement(i.default,{message:"cvVisitorUIAttachments.errors.fileSizeExceeded",options:{maxSize:a.default.formatSize(d.MAX_FILE_SIZE)}});case c.BLACKLISTED_EXTENSION:return u.default.createElement(i.default,{message:"cvVisitorUIAttachments.errors.blacklistedExtension"});case c.UPLOAD_ERROR:return u.default.createElement(i.default,{message:"cvVisitorUIAttachments.errors.uploadError"});default:return null}}();return u.default.createElement(o.default,{title:y,onClose:h,link:u.default.createElement(l.default,{onChange:m,onClick:g},u.default.createElement(i.default,{message:"cvVisitorUIAttachments.tryAgain"}))})};h.displayName="AttachmentErrorAlerts";h.propTypes={attachmentsError:s.PropTypes.oneOf([c.SIZE_LIMIT_EXCEEDED,c.BLACKLISTED_EXTENSION,c.UPLOAD_ERROR]),dismissAttachmentsError:s.PropTypes.func.isRequired,selectAttachmentFile:s.PropTypes.func.isRequired,thread:(0,n.default)("Conversation").isRequired,trackInteraction:s.PropTypes.func.isRequired};t.default=h;e.exports=t.default},1788:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1440),o=r(3),a=u(o),i=u(r(1789)),s=u(r(1137));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return a.default.createElement(i.default,{accept:n.WHITELISTED_FILES,use:"unstyled",onClick:e.onClick,onChange:e.onChange},a.default.createElement(s.default,{use:"on-bright"},e.children))};l.displayName="FilePickerLink";l.propTypes={children:o.PropTypes.node.isRequired,onChange:o.PropTypes.func.isRequired,onClick:o.PropTypes.func};t.default=l;e.exports=t.default},1789:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),a=l(r(7)),i=l(r(3)),s=r(1074),u=l(r(996));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){p(t,i.default.Component);function t(){var e,r,n,o;d(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(r=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleClick=function(e){var t=n.props.onClick;n._file.click();t&&t(e)},n.fileRefCallback=function(e){n._file=e},r),f(n,o)}o(t,[{key:"render",value:function(){var e=this.props,t=e.accept,r=e.children,o=e.id,a=e.multiple,s=e.onChange,l=(e.onClick,c(e,["accept","children","id","multiple","onChange","onClick"]));return i.default.createElement("span",{className:"private-file-button"},i.default.createElement(u.default,n({"data-component-name":"UIFileButton",onClick:this.handleClick},l),r),i.default.createElement("input",{className:"hidden",id:o,ref:this.fileRefCallback,type:"file",accept:t.join(","),multiple:a,onChange:s}))}}]);return t}();t.default=h;h.propTypes={accept:a.default.array.isRequired,children:a.default.node.isRequired,multiple:a.default.bool.isRequired,onChange:a.default.func.isRequired,use:a.default.oneOf(Object.keys(s.USE_CLASSES)).isRequired};h.defaultProps={accept:[],multiple:!1,use:"tertiary-light"};h.displayName="UIFileButton";e.exports=t.default},1790:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){r.push(i.value);if(t&&r.length===t)break}}catch(e){o=!0;a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=c(r(1781)),a=c(r(1114)),i=r(3),s=c(i),u=c(r(1137)),l=r(1786);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var f=function(e){var t=e.createNewThread,r=e.fetchOlderThreadHistory,c=e.networkError,f=e.startPubSub,p=e.resubscribe,h=(0,i.useState)([]),m=n(h,2),g=m[0],y=m[1],v=function(){y([].concat(d(g),[c]))};if(g.includes(c))return null;var b=function(){switch(c){case l.NETWORK_OFFLINE:case l.PUBSUB_FAILED:case l.SUBSCRIPTIONS_FAILED:return s.default.createElement(a.default,{message:"conversations-visitor-ui.network.offline.title"});case l.THREAD_HISTORY_FAILED:return s.default.createElement(a.default,{message:"conversations-visitor-ui.network.pubSubFailure.title"});case l.CREATE_NEW_THREAD_FAILED:return s.default.createElement(a.default,{message:"conversations-visitor-ui.network.newThreadFailure.title"});default:return null}}(),_=function(){switch(c){case l.THREAD_HISTORY_FAILED:return s.default.createElement(u.default,{use:"on-bright",onClick:r},s.default.createElement(a.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case l.CREATE_NEW_THREAD_FAILED:return s.default.createElement(u.default,{use:"on-bright",onClick:t},s.default.createElement(a.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case l.SUBSCRIPTIONS_FAILED:return s.default.createElement(u.default,{use:"on-bright",onClick:p},s.default.createElement(a.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case l.PUBSUB_FAILED:return s.default.createElement(u.default,{use:"on-bright",onClick:f},s.default.createElement(a.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));default:return null}}();return s.default.createElement(o.default,{title:b,onClose:v,link:_})};f.displayName="NetworkErrorAlerts";f.propTypes={createNewThread:i.PropTypes.func.isRequired,fetchOlderThreadHistory:i.PropTypes.func.isRequired,networkError:i.PropTypes.oneOf([l.NETWORK_OFFLINE,l.THREAD_HISTORY_FAILED,l.CREATE_NEW_THREAD_FAILED,l.PUBSUB_FAILED,l.SUBSCRIPTIONS_FAILED]).isRequired,resubscribe:i.PropTypes.func.isRequired,startPubSub:i.PropTypes.func.isRequired};t.default=f;e.exports=t.default},1791:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getNetworkErrors=void 0;var n=r(168),o=d(r(116)),a=r(1786),i=r(330),s=r(171),u=r(329),l=r(470),c=r(1728);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return e.clientData.isPubNubClientConnected},p=(0,o.default)("subscriptions");t.getNetworkErrors=(0,n.createSelector)([c.getCurrentThreadHistoryEntry,u.getAsyncStagedThread,p,l.getAsyncPubSubClient,f],function(e,t,r,n,o){if((0,i.isFailed)(e))return a.THREAD_HISTORY_FAILED;if((0,i.isFailed)(t)){var u=(0,s.getError)(t),l=u&&418===u.status;if(!u||!l)return a.CREATE_NEW_THREAD_FAILED}return(0,i.isFailed)(r)?a.SUBSCRIPTIONS_FAILED:(0,i.isFailed)(n)?a.PUBSUB_FAILED:o?null:a.NETWORK_OFFLINE})},1792:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fetchOlderThreadHistory=void 0;var n=r(247),o=r(535),a=r(536),i=r(482),s=r(235),u=r(279),l=r(598);t.fetchOlderThreadHistory=function(){return function(e,t){var r=t(),c=(0,i.getSessionId)(r),d=(0,a.getSelectedThreadId)(r);if(null!==d&&d!==s.STUBBED_THREAD_ID){var f=(0,o.getSelectedThread)(r),p=(0,u.historyDataForThread)(r,{thread:f}),h=(0,n.getStartTimestamp)(p);e((0,l.fetchThreadHistory)({startTime:h,threadId:d,sessionId:c}))}}}},1793:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(1287),a=r(1794),i=r(1723),s=l(r(1751)),u=r(251);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return{consentToProcessMessage:(0,a.getConsentToProcessMessage)(e),showGdprConsentToProcessButton:(0,i.getShowGdprConsentToProcess)(e)}},d={consentToProcess:o.consentToProcess,trackInteraction:u.trackInteraction};t.default=(0,n.connect)(c,d)(s.default);e.exports=t.default},1794:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getConsentToProcessMessage=void 0;var n=r(168),o=r(170),a=r(953);t.getConsentToProcessMessage=(0,n.createSelector)([o.getLatestWidgetData],function(e){return(0,a.getConsentToProcessMessage)(e)})},1795:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=s(r(1796)),a=r(1532),i=r(805);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return{liveChatHref:(0,a.liveChatLink)(e),onLinkClick:i.clickedViralLink}};t.default=(0,n.connect)(u)(o.default);e.exports=t.default},1796:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}(),o=r(3),a=f(o),i=f(r(265)),s=f(r(1797)),u=f(r(1798)),l=f(r(1050)),c=f(r(1125)),d=r(968);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){m(t,a.default.PureComponent);function t(){p(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function(){var e=this.props,t=e.liveChatHref,r=e.onLinkClick;return a.default.createElement("div",{className:"text-center m-bottom-2"},a.default.createElement(l.default,{name:"sprocket",className:"m-right-1",color:d.LORAX}),a.default.createElement(c.default,{use:"help"},a.default.createElement(s.default,{message:"conversations-visitor-experience-components.chatArea.branding_jsx",elements:{Link:u.default},options:{ariaLabel:i.default.text("conversations-visitor-experience-components.chatArea.brandingAriaLabel"),href:t,onClick:r}})))}}]);return t}();g.propTypes={liveChatHref:o.PropTypes.string,onLinkClick:o.PropTypes.func};t.default=g;e.exports=t.default},1797:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(3),i=l(a),s=l(r(1114)),u=l(r(265));function l(e){return e&&e.__esModule?e:{default:e}}var c={wrapper:"span"};function d(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return i.default.createElement.apply(i.default,[e&&e[t]||c[t]||c.wrapper].concat(n))}var f=function(e){var t=u.default.lookup(e.message);if(void 0===t||null===t)return i.default.createElement("span",null,u.default.missingTranslation(e.message,e.options));var r=e.options&&e.options.count,a=u.default.isSet(r);if("object"===(void 0===t?"undefined":o(t))&&a)for(var l=u.default.pluralization.get()(r);l.length;){var c=l.shift();if(u.default.isSet(t[c])){t=t[c];break}}var f=n({},e.options);if(a&&"number"==typeof r)f.count=u.default.formatNumber(r);else if("string"==typeof t){console.warn("I18n: FormattedJSXMessage called with non-JSX message key "+e.message+". See go/i18n-react for more info. ");return i.default.createElement(s.default,{message:e.message,options:e.options})}return t(d,e.elements,f)};f.propTypes={message:a.PropTypes.string.isRequired,elements:a.PropTypes.object.isRequired,options:a.PropTypes.object,jsxMessageValidator:function(e,t,r){e.message.endsWith("_jsx")||console.warn("I18n: "+r+" called with invalid message prop not ending in _jsx for "+e.message)}};t.default=f;e.exports=t.default},1798:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=s(n),a=s(r(1137)),i=r(968);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.ariaLabel,r=e.children,n=e.onClick,s=e.href;return o.default.createElement(a.default,{style:{color:i.LORAX},href:s,onClick:n,target:"_blank","aria-label":t},r)};u.propTypes={ariaLabel:n.PropTypes.string,children:n.PropTypes.node.isRequired,href:n.PropTypes.string,onClick:n.PropTypes.func};u.defaultProps={href:"",onClick:function(){}};t.default=u;e.exports=t.default},1799:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.END_OF_MESSAGE_DELAY_TIME=1e3},2089:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});var n=r(665),o=r(9),a=r(2090),i=r(1546),s=r(1412),u=r(1723),l=r(535),c=r(1757),d=p(r(1782)),f=r(1780);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){return{isThreadStarted:(0,n.isStarted)((0,l.getSelectedThread)(e)),requiresExplicitConsentToProcess:(0,u.getShowGdprConsentToProcess)(e),showingGdprProcess:(0,a.getGdprConsentToProcessEnabled)(e)&&!(0,s.getHasGivenConsentToProcess)(e),requireExplicitCookieConsent:(0,i.shouldRequireExplicitCookieConsent)(e),showingHsBranding:(0,c.getShowingHsBranding)(e),isUngatedForEOC:(0,f.isUngatedForEOC)(e)}},m={};t.default=(0,o.connect)(h,m)(d.default);e.exports=t.default},2090:function(e,t,r){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getGdprConsentToProcessEnabled=void 0;var n=r(168),o=r(809),a=r(170);t.getGdprConsentToProcessEnabled=(0,n.createSelector)([a.getLatestWidgetData],function(e){return(0,o.gdprConsentToProcessEnabled)(e)})}}]);
//# sourceMappingURL=unified-thread-view.js.map